import{r as m,j as e}from"./react-vendor-D244Vx8q.js";import{u as w,L as g,C as k,s as u}from"./index-BcV99Zb4.js";import"./vendor-kkeqS5Xn.js";import"./qr-utils-B8AONaXL.js";import"./firebase-CUKyr0uK.js";const T=()=>{const[d,r]=m.useState(!1),[p,c]=m.useState(!1),{addToast:a}=w(),i=m.useRef(null),f=()=>{c(!0)},h=async()=>{r(!0);try{await u.resetAndSeedData(),a("success","Dados gerados com sucesso! Recarregando sistema..."),setTimeout(()=>{window.location.reload()},2e3)}catch(s){console.error(s),a("error","Ocorreu um erro ao gerar os dados."),r(!1),c(!1)}},b=async()=>{r(!0);try{const s=await u.exportData(),n=new Blob([s],{type:"application/json"}),t=URL.createObjectURL(n),o=document.createElement("a");o.href=t,o.download=`eduevent_dump_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),a("success","Exportação concluída.")}catch(s){console.error(s),a("error","Falha na exportação.")}finally{r(!1)}},j=()=>{var s;(s=i.current)==null||s.click()},v=s=>{var o;const n=(o=s.target.files)==null?void 0:o[0];if(!n)return;r(!0);const t=new FileReader;t.onload=async y=>{var x;try{const l=(x=y.target)==null?void 0:x.result;await u.importData(l),a("success","Importação realizada com sucesso! Recarregando..."),setTimeout(()=>{window.location.reload()},1500)}catch(l){console.error(l),a("error","Erro ao importar dados. Verifique o arquivo."),r(!1)}finally{i.current&&(i.current.value="")}},t.onerror=()=>{a("error","Erro ao ler o arquivo."),r(!1)},t.readAsText(n)};return e.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto mt-10",children:[e.jsx("div",{className:"bg-white dark:bg-darkcard shadow sm:rounded-lg border border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 dark:text-white",children:"Ferramentas de Desenvolvimento"}),e.jsxs("div",{className:"mt-2 max-w-xl text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("p",{children:"Utilize esta função para popular o banco de dados local com informações de teste."}),e.jsx("p",{className:"mt-2 font-bold text-red-500 dark:text-red-400",children:"Isso é destrutivo e sobrescreverá todos os dados existentes."})]}),e.jsxs("div",{className:"mt-5 flex flex-wrap gap-4",children:[e.jsx("button",{type:"button",onClick:f,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm",children:"⚠️ Resetar e Gerar Massa de Dados"}),e.jsx(g,{onClick:b,isLoading:d,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"⬇️ Exportar Dados (JSON)"}),e.jsx("input",{type:"file",ref:i,onChange:v,hidden:!0,accept:".json"}),e.jsx(g,{onClick:j,isLoading:d,className:"bg-emerald-600 hover:bg-emerald-700 text-white",children:"⬆️ Importar JSON"})]})]})}),e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-md border border-indigo-100 dark:border-indigo-800",children:[e.jsx("h4",{className:"font-bold text-indigo-800 dark:text-indigo-300 mb-2",children:"O que será gerado?"}),e.jsxs("ul",{className:"list-disc list-inside text-sm text-indigo-700 dark:text-indigo-400 space-y-1",children:[e.jsx("li",{children:"Cursos: CC, Direito, Medicina, Design."}),e.jsx("li",{children:"Turmas associadas a cada curso."}),e.jsx("li",{children:"Usuários: 1 Admin (admin@school.com), 3 Alunos com perfis variados."}),e.jsx("li",{children:"Eventos Públicos e Restritos (por curso/turma)."}),e.jsx("li",{children:"Hierarquia: Semana Acadêmica com 2 sub-eventos."})]})]}),e.jsx(k,{isOpen:p,onClose:()=>c(!1),onConfirm:h,title:"Confirmar Reset",message:"Tem certeza absoluta? Essa ação apagará todos os usuários, eventos e inscrições atuais e criará dados fictícios.",confirmText:"Sim, Resetar Tudo",isProcessing:d})]})};export{T as DevTools};
