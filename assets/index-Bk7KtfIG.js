(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Px(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Tm={exports:{}},su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function n1(){if(qv)return su;qv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:i,key:h,ref:o!==void 0?o:null,props:u}}return su.Fragment=e,su.jsx=n,su.jsxs=n,su}var Hv;function s1(){return Hv||(Hv=1,Tm.exports=n1()),Tm.exports}var f=s1(),Sm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function r1(){if(Fv)return Oe;Fv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function k(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,P={};function te(j,X,ie){this.props=j,this.context=X,this.refs=P,this.updater=ie||B}te.prototype.isReactComponent={},te.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},te.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function re(){}re.prototype=te.prototype;function Z(j,X,ie){this.props=j,this.context=X,this.refs=P,this.updater=ie||B}var fe=Z.prototype=new re;fe.constructor=Z,z(fe,te.prototype),fe.isPureReactComponent=!0;var oe=Array.isArray;function de(){}var R={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(j,X,ie){var he=ie.ref;return{$$typeof:r,type:j,key:X,ref:he!==void 0?he:null,props:ie}}function V(j,X){return I(j.type,X,j.props)}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function N(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ie){return X[ie]})}var A=/\/+/g;function be(j,X){return typeof j=="object"&&j!==null&&j.key!=null?N(""+j.key):X.toString(36)}function Te(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(de,de):(j.status="pending",j.then(function(X){j.status==="pending"&&(j.status="fulfilled",j.value=X)},function(X){j.status==="pending"&&(j.status="rejected",j.reason=X)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Q(j,X,ie,he,ve){var Ce=typeof j;(Ce==="undefined"||Ce==="boolean")&&(j=null);var Pe=!1;if(j===null)Pe=!0;else switch(Ce){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(j.$$typeof){case r:case e:Pe=!0;break;case b:return Pe=j._init,Q(Pe(j._payload),X,ie,he,ve)}}if(Pe)return ve=ve(j),Pe=he===""?"."+be(j,0):he,oe(ve)?(ie="",Pe!=null&&(ie=Pe.replace(A,"$&/")+"/"),Q(ve,X,ie,"",function(ae){return ae})):ve!=null&&(M(ve)&&(ve=V(ve,ie+(ve.key==null||j&&j.key===ve.key?"":(""+ve.key).replace(A,"$&/")+"/")+Pe)),X.push(ve)),1;Pe=0;var nt=he===""?".":he+":";if(oe(j))for(var tt=0;tt<j.length;tt++)he=j[tt],Ce=nt+be(he,tt),Pe+=Q(he,X,ie,Ce,ve);else if(tt=k(j),typeof tt=="function")for(j=tt.call(j),tt=0;!(he=j.next()).done;)he=he.value,Ce=nt+be(he,tt++),Pe+=Q(he,X,ie,Ce,ve);else if(Ce==="object"){if(typeof j.then=="function")return Q(Te(j),X,ie,he,ve);throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function le(j,X,ie){if(j==null)return j;var he=[],ve=0;return Q(j,he,"","",function(Ce){return X.call(ie,Ce,ve++)}),he}function ye(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(ie){(j._status===0||j._status===-1)&&(j._status=1,j._result=ie)},function(ie){(j._status===0||j._status===-1)&&(j._status=2,j._result=ie)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var Ae=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ke={map:le,forEach:function(j,X,ie){le(j,function(){X.apply(this,arguments)},ie)},count:function(j){var X=0;return le(j,function(){X++}),X},toArray:function(j){return le(j,function(X){return X})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Oe.Activity=E,Oe.Children=Ke,Oe.Component=te,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=Z,Oe.StrictMode=i,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return R.H.useMemoCache(j)}},Oe.cache=function(j){return function(){return j.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(j,X,ie){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var he=z({},j.props),ve=j.key;if(X!=null)for(Ce in X.key!==void 0&&(ve=""+X.key),X)!C.call(X,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&X.ref===void 0||(he[Ce]=X[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=ie;else if(1<Ce){for(var Pe=Array(Ce),nt=0;nt<Ce;nt++)Pe[nt]=arguments[nt+2];he.children=Pe}return I(j.type,ve,he)},Oe.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Oe.createElement=function(j,X,ie){var he,ve={},Ce=null;if(X!=null)for(he in X.key!==void 0&&(Ce=""+X.key),X)C.call(X,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ve[he]=X[he]);var Pe=arguments.length-2;if(Pe===1)ve.children=ie;else if(1<Pe){for(var nt=Array(Pe),tt=0;tt<Pe;tt++)nt[tt]=arguments[tt+2];ve.children=nt}if(j&&j.defaultProps)for(he in Pe=j.defaultProps,Pe)ve[he]===void 0&&(ve[he]=Pe[he]);return I(j,Ce,ve)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(j){return{$$typeof:p,render:j}},Oe.isValidElement=M,Oe.lazy=function(j){return{$$typeof:b,_payload:{_status:-1,_result:j},_init:ye}},Oe.memo=function(j,X){return{$$typeof:y,type:j,compare:X===void 0?null:X}},Oe.startTransition=function(j){var X=R.T,ie={};R.T=ie;try{var he=j(),ve=R.S;ve!==null&&ve(ie,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(de,Ae)}catch(Ce){Ae(Ce)}finally{X!==null&&ie.types!==null&&(X.types=ie.types),R.T=X}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function(j){return R.H.use(j)},Oe.useActionState=function(j,X,ie){return R.H.useActionState(j,X,ie)},Oe.useCallback=function(j,X){return R.H.useCallback(j,X)},Oe.useContext=function(j){return R.H.useContext(j)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(j,X){return R.H.useDeferredValue(j,X)},Oe.useEffect=function(j,X){return R.H.useEffect(j,X)},Oe.useEffectEvent=function(j){return R.H.useEffectEvent(j)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function(j,X,ie){return R.H.useImperativeHandle(j,X,ie)},Oe.useInsertionEffect=function(j,X){return R.H.useInsertionEffect(j,X)},Oe.useLayoutEffect=function(j,X){return R.H.useLayoutEffect(j,X)},Oe.useMemo=function(j,X){return R.H.useMemo(j,X)},Oe.useOptimistic=function(j,X){return R.H.useOptimistic(j,X)},Oe.useReducer=function(j,X,ie){return R.H.useReducer(j,X,ie)},Oe.useRef=function(j){return R.H.useRef(j)},Oe.useState=function(j){return R.H.useState(j)},Oe.useSyncExternalStore=function(j,X,ie){return R.H.useSyncExternalStore(j,X,ie)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.0",Oe}var Gv;function vp(){return Gv||(Gv=1,Sm.exports=r1()),Sm.exports}var D=vp();const Cu=Px(D);var Am={exports:{}},ru={},Nm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function i1(){return Qv||(Qv=1,(function(r){function e(Q,le){var ye=Q.length;Q.push(le);e:for(;0<ye;){var Ae=ye-1>>>1,Ke=Q[Ae];if(0<o(Ke,le))Q[Ae]=le,Q[ye]=Ke,ye=Ae;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var le=Q[0],ye=Q.pop();if(ye!==le){Q[0]=ye;e:for(var Ae=0,Ke=Q.length,j=Ke>>>1;Ae<j;){var X=2*(Ae+1)-1,ie=Q[X],he=X+1,ve=Q[he];if(0>o(ie,ye))he<Ke&&0>o(ve,ie)?(Q[Ae]=ve,Q[he]=ye,Ae=he):(Q[Ae]=ie,Q[X]=ye,Ae=X);else if(he<Ke&&0>o(ve,ye))Q[Ae]=ve,Q[he]=ye,Ae=he;else break e}}return le}function o(Q,le){var ye=Q.sortIndex-le.sortIndex;return ye!==0?ye:Q.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var g=[],y=[],b=1,E=null,T=3,k=!1,B=!1,z=!1,P=!1,te=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function fe(Q){for(var le=n(y);le!==null;){if(le.callback===null)i(y);else if(le.startTime<=Q)i(y),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(y)}}function oe(Q){if(z=!1,fe(Q),!B)if(n(g)!==null)B=!0,de||(de=!0,N());else{var le=n(y);le!==null&&Te(oe,le.startTime-Q)}}var de=!1,R=-1,C=5,I=-1;function V(){return P?!0:!(r.unstable_now()-I<C)}function M(){if(P=!1,de){var Q=r.unstable_now();I=Q;var le=!0;try{e:{B=!1,z&&(z=!1,re(R),R=-1),k=!0;var ye=T;try{t:{for(fe(Q),E=n(g);E!==null&&!(E.expirationTime>Q&&V());){var Ae=E.callback;if(typeof Ae=="function"){E.callback=null,T=E.priorityLevel;var Ke=Ae(E.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ke=="function"){E.callback=Ke,fe(Q),le=!0;break t}E===n(g)&&i(g),fe(Q)}else i(g);E=n(g)}if(E!==null)le=!0;else{var j=n(y);j!==null&&Te(oe,j.startTime-Q),le=!1}}break e}finally{E=null,T=ye,k=!1}le=void 0}}finally{le?N():de=!1}}}var N;if(typeof Z=="function")N=function(){Z(M)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,be=A.port2;A.port1.onmessage=M,N=function(){be.postMessage(null)}}else N=function(){te(M,0)};function Te(Q,le){R=te(function(){Q(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var ye=T;T=le;try{return Q()}finally{T=ye}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ye=T;T=Q;try{return le()}finally{T=ye}},r.unstable_scheduleCallback=function(Q,le,ye){var Ae=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ae+ye:Ae):ye=Ae,Q){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,Q={id:b++,callback:le,priorityLevel:Q,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>Ae?(Q.sortIndex=ye,e(y,Q),n(g)===null&&Q===n(y)&&(z?(re(R),R=-1):z=!0,Te(oe,ye-Ae))):(Q.sortIndex=Ke,e(g,Q),B||k||(B=!0,de||(de=!0,N()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var le=T;return function(){var ye=T;T=le;try{return Q.apply(this,arguments)}finally{T=ye}}}})(Cm)),Cm}var Kv;function a1(){return Kv||(Kv=1,Nm.exports=i1()),Nm.exports}var Rm={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function o1(){if(Yv)return dn;Yv=1;var r=vp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dn.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},dn.flushSync=function(g){var y=h.T,b=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=b,i.d.f()}},dn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},dn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},dn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:k}):b==="script"&&i.d.X(g,{crossOrigin:E,integrity:T,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},dn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},dn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,E=p(b,y.crossOrigin);i.d.L(g,b,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},dn.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},dn.requestFormReset=function(g){i.d.r(g)},dn.unstable_batchedUpdates=function(g,y){return g(y)},dn.useFormState=function(g,y,b){return h.H.useFormState(g,y,b)},dn.useFormStatus=function(){return h.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var $v;function l1(){if($v)return Rm.exports;$v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rm.exports=o1(),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function u1(){if(Xv)return ru;Xv=1;var r=a1(),e=vp(),n=l1();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function y(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(i(188));return s!==t?null:t}for(var a=t,l=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return g(d),t;if(m===l)return g(d),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=d,l=m;else{for(var _=!1,w=d.child;w;){if(w===a){_=!0,a=d,l=m;break}if(w===l){_=!0,l=d,a=m;break}w=w.sibling}if(!_){for(w=m.child;w;){if(w===a){_=!0,a=m,l=d;break}if(w===l){_=!0,l=m,a=d;break}w=w.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case te:return"Profiler";case P:return"StrictMode";case oe:return"Suspense";case de:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case Z:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case fe:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return s=t.displayName||null,s!==null?s:be(t.type)||"Memo";case C:s=t._payload,t=t._init;try{return be(t(s))}catch{}}return null}var Te=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ae=[],Ke=-1;function j(t){return{current:t}}function X(t){0>Ke||(t.current=Ae[Ke],Ae[Ke]=null,Ke--)}function ie(t,s){Ke++,Ae[Ke]=t.current,t.current=s}var he=j(null),ve=j(null),Ce=j(null),Pe=j(null);function nt(t,s){switch(ie(Ce,s),ie(ve,t),ie(he,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?hv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=hv(s),t=dv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(he),ie(he,t)}function tt(){X(he),X(ve),X(Ce)}function ae(t){t.memoizedState!==null&&ie(Pe,t);var s=he.current,a=dv(s,t.type);s!==a&&(ie(ve,t),ie(he,a))}function at(t){ve.current===t&&(X(he),X(ve)),Pe.current===t&&(X(Pe),Zl._currentValue=ye)}var Kt,ds;function tn(t){if(Kt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Kt=s&&s[1]||"",ds=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+t+ds}var Rs=!1;function $n(t,s){if(!t||Rs)return"";Rs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var G=Y}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Y){G=Y}t.call(ne.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],w=m[1];if(_&&w){var O=_.split(`
`),F=w.split(`
`);for(d=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===O.length||d===F.length)for(l=O.length-1,d=F.length-1;1<=l&&0<=d&&O[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(O[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||O[l]!==F[d]){var W=`
`+O[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=d);break}}}finally{Rs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?tn(a):""}function qi(t,s){switch(t.tag){case 26:case 27:case 5:return tn(t.type);case 16:return tn("Lazy");case 13:return t.child!==s&&s!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return $n(t.type,!1);case 11:return $n(t.type.render,!1);case 1:return $n(t.type,!0);case 31:return tn("Activity");default:return""}}function Hi(t){try{var s="",a=null;do s+=qi(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,Is=r.unstable_cancelCallback,il=r.unstable_shouldYield,ka=r.unstable_requestPaint,nn=r.unstable_now,ir=r.unstable_getCurrentPriorityLevel,Fi=r.unstable_ImmediatePriority,Gi=r.unstable_UserBlockingPriority,Ds=r.unstable_NormalPriority,La=r.unstable_LowPriority,Qi=r.unstable_IdlePriority,Ki=r.log,Yi=r.unstable_setDisableYieldValue,_n=null,$=null;function me(t){if(typeof Ki=="function"&&Yi(t),$&&typeof $.setStrictMode=="function")try{$.setStrictMode(_n,t)}catch{}}var Ee=Math.clz32?Math.clz32:jn,Ye=Math.log,wt=Math.LN2;function jn(t){return t>>>=0,t===0?32:31-(Ye(t)/wt|0)|0}var xn=256,On=262144,gt=4194304;function Xn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Wn(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?d=Xn(l):(_&=w,_!==0?d=Xn(_):a||(a=w&~t,a!==0&&(d=Xn(a))))):(w=l&~m,w!==0?d=Xn(w):_!==0?d=Xn(_):a||(a=l&~t,a!==0&&(d=Xn(a)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:d}function Mn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Pa(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $i(){var t=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),t}function bn(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function js(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function En(t,s,a,l,d,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-Ee(a),ne=1<<W;w[W]=0,O[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var Y=G[W];Y!==null&&(Y.lane&=-536870913)}a&=~ne}l!==0&&ar(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~s))}function ar(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-Ee(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Xi(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-Ee(a),d=1<<l;d&s|t[l]&s&&(t[l]|=s),a&=~d}}function Wi(t,s){var a=s&-s;return a=(a&42)!==0?1:Ji(a),(a&(t.suspendedLanes|s))!==0?0:a}function Ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function or(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ku(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Vv(t.type))}function fs(t,s){var a=le.p;try{return le.p=t,s()}finally{le.p=a}}var ms=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ms,Yt="__reactProps$"+ms,Os="__reactContainer$"+ms,Ua="__reactEvents$"+ms,Rd="__reactListeners$"+ms,Yu="__reactHandles$"+ms,$u="__reactResources$"+ms,Ms="__reactMarker$"+ms;function za(t){delete t[Mt],delete t[Yt],delete t[Ua],delete t[Rd],delete t[Yu]}function Vs(t){var s=t[Mt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Os]||a[Mt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=_v(t);t!==null;){if(a=t[Mt])return a;t=_v(t)}return s}t=a,a=t.parentNode}return null}function Jn(t){if(t=t[Mt]||t[Os]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Vn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function ks(t){var s=t[$u];return s||(s=t[$u]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Vt(t){t[Ms]=!0}var al=new Set,ol={};function Ls(t,s){Ps(t,s),Ps(t+"Capture",s)}function Ps(t,s){for(ol[t]=s,t=0;t<s.length;t++)al.add(s[t])}var ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ul={},cl={};function Xu(t){return Et.call(cl,t)?!0:Et.call(ul,t)?!1:ll.test(t)?cl[t]=!0:(ul[t]=!0,!1)}function Ba(t,s,a){if(Xu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function kn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function kt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zr(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hl(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function st(t){if(!t._valueTracker){var s=zr(t)?"checked":"value";t._valueTracker=hl(t,s,""+t[s])}}function Zi(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=zr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Us(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ea=/[\n"\\]/g;function wn(t){return t.replace(ea,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function qa(t,s,a,l,d,m,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+$t(s)):t.value!==""+$t(s)&&(t.value=""+$t(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?dl(t,_,$t(s)):a!=null?dl(t,_,$t(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+$t(w):t.removeAttribute("name")}function Wu(t,s,a,l,d,m,_,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){st(t);return}a=a!=null?""+$t(a):"",s=s!=null?""+$t(s):a,w||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),st(t)}function dl(t,s,a){s==="number"&&Us(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Br(t,s,a,l){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+$t(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Ju(t,s,a){if(s!=null&&(s=""+$t(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+$t(a):""}function qr(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(Te(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=$t(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),st(t)}function Tn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Zu.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function ml(t,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&fl(t,d,l)}else for(var m in s)s.hasOwnProperty(m)&&fl(t,m,s[m])}function Ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(t){return Hr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ps(){}var pl=null;function Zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fr=null,zs=null;function ta(t){var s=Jn(t);if(s&&(t=s.stateNode)){var a=t[Yt]||null;e:switch(t=s.stateNode,s.type){case"input":if(qa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+wn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var d=l[Yt]||null;if(!d)throw Error(i(90));qa(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Zi(l)}break e;case"textarea":Ju(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Br(t,!!a.multiple,s,!1)}}}var Ga=!1;function Gr(t,s,a){if(Ga)return t(s,a);Ga=!0;try{var l=t(s);return l}finally{if(Ga=!1,(Fr!==null||zs!==null)&&(Kc(),Fr&&(s=Fr,t=zs,zs=Fr=null,ta(s),t)))for(s=0;s<t.length;s++)ta(t[s])}}function gs(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if(es)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){na=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{na=!1}var Bs=null,gl=null,sa=null;function yl(){if(sa)return sa;var t,s=gl,a=s.length,l,d="value"in Bs?Bs.value:Bs.textContent,m=d.length;for(t=0;t<a&&s[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&s[a-l]===d[m-l];l++);return sa=d.slice(t,1<l?1-l:void 0)}function ra(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function lr(){return!0}function ys(){return!1}function sn(t){function s(a,l,d,m,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?lr:ys,this.isPropagationStopped=ys,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),s}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=sn(ur),Qr=E({},ur,{view:0,detail:0}),vl=sn(Qr),Kr,Qa,Hs,Ka=E({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hs&&(Hs&&t.type==="mousemove"?(Kr=t.screenX-Hs.screenX,Qa=t.screenY-Hs.screenY):Qa=Kr=0,Hs=t),Kr)},movementY:function(t){return"movementY"in t?t.movementY:Qa}}),_l=sn(Ka),ia=E({},Ka,{dataTransfer:0}),tc=sn(ia),nc=E({},Qr,{relatedTarget:0}),aa=sn(nc),xl=E({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),sc=sn(xl),Ya=E({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rc=sn(Ya),ic=E({},ur,{data:0}),Fs=sn(ic),ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uc(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=lc[t])?!!s[t]:!1}function Yr(){return uc}var gn=E({},Qr,{key:function(t){if(t.key){var s=ac[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ra(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?ra(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ra(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cc=sn(gn),hc=E({},Ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=sn(hc),c=E({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),v=sn(c),x=E({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=sn(x),q=E({},Ka,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=sn(q),ue=E({},ur,{newState:0,oldState:0}),Ve=sn(ue),Ct=[9,13,27,32],Ze=es&&"CompositionEvent"in window,yt=null;es&&"documentMode"in document&&(yt=document.documentMode);var ts=es&&"TextEvent"in window&&!yt,Gs=es&&(!Ze||yt&&8<yt&&11>=yt),vs=" ",_s=!1;function oa(t,s){switch(t){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function Aw(t,s){switch(t){case"compositionend":return $a(s);case"keypress":return s.which!==32?null:(_s=!0,vs);case"textInput":return t=s.data,t===vs&&_s?null:t;default:return null}}function Nw(t,s){if(Xa)return t==="compositionend"||!Ze&&oa(t,s)?(t=yl(),sa=gl=Bs=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gs&&s.locale!=="ko"?null:s.data;default:return null}}var Cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Cw[t.type]:s==="textarea"}function wg(t,s,a,l){Fr?zs?zs.push(l):zs=[l]:Fr=l,s=eh(s,"onChange"),0<s.length&&(a=new qs("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var bl=null,El=null;function Rw(t){iv(t,0)}function dc(t){var s=Vn(t);if(Zi(s))return t}function Tg(t,s){if(t==="change")return s}var Sg=!1;if(es){var Id;if(es){var Dd="oninput"in document;if(!Dd){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Dd=typeof Ag.oninput=="function"}Id=Dd}else Id=!1;Sg=Id&&(!document.documentMode||9<document.documentMode)}function Ng(){bl&&(bl.detachEvent("onpropertychange",Cg),El=bl=null)}function Cg(t){if(t.propertyName==="value"&&dc(El)){var s=[];wg(s,El,t,Zn(t)),Gr(Rw,s)}}function Iw(t,s,a){t==="focusin"?(Ng(),bl=s,El=a,bl.attachEvent("onpropertychange",Cg)):t==="focusout"&&Ng()}function Dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dc(El)}function jw(t,s){if(t==="click")return dc(s)}function Ow(t,s){if(t==="input"||t==="change")return dc(s)}function Mw(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ln=typeof Object.is=="function"?Object.is:Mw;function wl(t,s){if(Ln(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Et.call(s,d)||!Ln(t[d],s[d]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,s){var a=Rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rg(a)}}function Dg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Dg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Us(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Us(t.document)}return s}function jd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Vw=es&&"documentMode"in document&&11>=document.documentMode,Wa=null,Od=null,Tl=null,Md=!1;function Og(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Md||Wa==null||Wa!==Us(l)||(l=Wa,"selectionStart"in l&&jd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&wl(Tl,l)||(Tl=l,l=eh(Od,"onSelect"),0<l.length&&(s=new qs("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Wa)))}function la(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ja={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Vd={},Mg={};es&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ua(t){if(Vd[t])return Vd[t];if(!Ja[t])return t;var s=Ja[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Mg)return Vd[t]=s[a];return t}var Vg=ua("animationend"),kg=ua("animationiteration"),Lg=ua("animationstart"),kw=ua("transitionrun"),Lw=ua("transitionstart"),Pw=ua("transitioncancel"),Pg=ua("transitionend"),Ug=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function xs(t,s){Ug.set(t,s),Ls(s,[t])}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ns=[],Za=0,Ld=0;function mc(){for(var t=Za,s=Ld=Za=0;s<t;){var a=ns[s];ns[s++]=null;var l=ns[s];ns[s++]=null;var d=ns[s];ns[s++]=null;var m=ns[s];if(ns[s++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}m!==0&&zg(a,d,m)}}function pc(t,s,a,l){ns[Za++]=t,ns[Za++]=s,ns[Za++]=a,ns[Za++]=l,Ld|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pd(t,s,a,l){return pc(t,s,a,l),gc(t)}function ca(t,s){return pc(t,null,null,s),gc(t)}function zg(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&s!==null&&(d=31-Ee(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=a|536870912),m):null}function gc(t){if(50<Ql)throw Ql=0,Yf=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var eo={};function Uw(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,s,a,l){return new Uw(t,s,a,l)}function Ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hr(t,s){var a=t.alternate;return a===null?(a=Pn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function yc(t,s,a,l,d,m){var _=0;if(l=t,typeof t=="function")Ud(t)&&(_=1);else if(typeof t=="string")_=FT(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Pn(31,a,s,d),t.elementType=I,t.lanes=m,t;case z:return ha(a.children,d,m,s);case P:_=8,d|=24;break;case te:return t=Pn(12,a,s,d|2),t.elementType=te,t.lanes=m,t;case oe:return t=Pn(13,a,s,d),t.elementType=oe,t.lanes=m,t;case de:return t=Pn(19,a,s,d),t.elementType=de,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:_=10;break e;case re:_=9;break e;case fe:_=11;break e;case R:_=14;break e;case C:_=16,l=null;break e}_=29,a=Error(i(130,t===null?"null":typeof t,"")),l=null}return s=Pn(_,a,s,d),s.elementType=t,s.type=l,s.lanes=m,s}function ha(t,s,a,l){return t=Pn(7,t,l,s),t.lanes=a,t}function zd(t,s,a){return t=Pn(6,t,null,s),t.lanes=a,t}function qg(t){var s=Pn(18,null,null,0);return s.stateNode=t,s}function Bd(t,s,a){return s=Pn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Hg=new WeakMap;function ss(t,s){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Hi(s)},Hg.set(t,s),s)}return{value:t,source:s,stack:Hi(s)}}var to=[],no=0,vc=null,Sl=0,rs=[],is=0,$r=null,Qs=1,Ks="";function dr(t,s){to[no++]=Sl,to[no++]=vc,vc=t,Sl=s}function Fg(t,s,a){rs[is++]=Qs,rs[is++]=Ks,rs[is++]=$r,$r=t;var l=Qs;t=Ks;var d=32-Ee(l)-1;l&=~(1<<d),a+=1;var m=32-Ee(s)+d;if(30<m){var _=d-d%5;m=(l&(1<<_)-1).toString(32),l>>=_,d-=_,Qs=1<<32-Ee(s)+d|a<<d|l,Ks=m+t}else Qs=1<<m|a<<d|l,Ks=t}function qd(t){t.return!==null&&(dr(t,1),Fg(t,1,0))}function Hd(t){for(;t===vc;)vc=to[--no],to[no]=null,Sl=to[--no],to[no]=null;for(;t===$r;)$r=rs[--is],rs[is]=null,Ks=rs[--is],rs[is]=null,Qs=rs[--is],rs[is]=null}function Gg(t,s){rs[is++]=Qs,rs[is++]=Ks,rs[is++]=$r,Qs=s.id,Ks=s.overflow,$r=t}var rn=null,ft=null,Qe=!1,Xr=null,as=!1,Fd=Error(i(519));function Wr(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Al(ss(s,t)),Fd}function Qg(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Mt]=t,s[Yt]=l,a){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(a=0;a<Yl.length;a++)ze(Yl[a],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),Wu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),qr(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||uv(s.textContent,a)?(l.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),l.onScroll!=null&&ze("scroll",s),l.onScrollEnd!=null&&ze("scrollend",s),l.onClick!=null&&(s.onclick=ps),s=!0):s=!1,s||Wr(t,!0)}function Kg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 31:case 13:as=!1;return;case 27:case 3:as=!0;return;default:rn=rn.return}}function so(t){if(t!==rn)return!1;if(!Qe)return Kg(t),Qe=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||um(t.type,t.memoizedProps)),a=!a),a&&ft&&Wr(t),Kg(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ft=vv(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));ft=vv(t)}else s===27?(s=ft,hi(t.type)?(t=mm,mm=null,ft=t):ft=s):ft=rn?ls(t.stateNode.nextSibling):null;return!0}function da(){ft=rn=null,Qe=!1}function Gd(){var t=Xr;return t!==null&&(Cn===null?Cn=t:Cn.push.apply(Cn,t),Xr=null),t}function Al(t){Xr===null?Xr=[t]:Xr.push(t)}var Qd=j(null),fa=null,fr=null;function Jr(t,s,a){ie(Qd,s._currentValue),s._currentValue=a}function mr(t){t._currentValue=Qd.current,X(Qd)}function Kd(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function Yd(t,s,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var _=d.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=d;for(var O=0;O<s.length;O++)if(w.context===s[O]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Kd(m.return,a,t),l||(_=null);break e}m=w.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(i(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Kd(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function ro(t,s,a,l){t=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var w=d.type;Ln(d.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(d===Pe.current){if(_=d.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}d=d.return}t!==null&&Yd(s,t,a,l),s.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){fa=t,fr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function an(t){return Yg(fa,t)}function xc(t,s){return fa===null&&ma(t),Yg(t,s)}function Yg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},fr===null){if(t===null)throw Error(i(308));fr=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else fr=fr.next=s;return a}var zw=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Bw=r.unstable_scheduleCallback,qw=r.unstable_NormalPriority,Lt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $d(){return{controller:new zw,data:new Map,refCount:0}}function Nl(t){t.refCount--,t.refCount===0&&Bw(qw,function(){t.controller.abort()})}var Cl=null,Xd=0,io=0,ao=null;function Hw(t,s){if(Cl===null){var a=Cl=[];Xd=0,io=em(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Xd++,s.then($g,$g),s}function $g(){if(--Xd===0&&Cl!==null){ao!==null&&(ao.status="fulfilled");var t=Cl;Cl=null,io=0,ao=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Fw(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Xg=Q.S;Q.S=function(t,s){O0=nn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Hw(t,s),Xg!==null&&Xg(t,s)};var pa=j(null);function Wd(){var t=pa.current;return t!==null?t:dt.pooledCache}function bc(t,s){s===null?ie(pa,pa.current):ie(pa,s.pool)}function Wg(){var t=Wd();return t===null?null:{parent:Lt._currentValue,pool:t}}var oo=Error(i(460)),Jd=Error(i(474)),Ec=Error(i(542)),wc={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zg(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ps,ps),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,ty(t),t;default:if(typeof s.status=="string")s.then(ps,ps);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,ty(t),t}throw ya=s,oo}}function ga(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ya=a,oo):a}}var ya=null;function ey(){if(ya===null)throw Error(i(459));var t=ya;return ya=null,t}function ty(t){if(t===oo||t===Ec)throw Error(i(483))}var lo=null,Rl=0;function Tc(t){var s=Rl;return Rl+=1,lo===null&&(lo=[]),Zg(lo,t,s)}function Il(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Sc(t,s){throw s.$$typeof===T?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function ny(t){function s(U,L){if(t){var H=U.deletions;H===null?(U.deletions=[L],U.flags|=16):H.push(L)}}function a(U,L){if(!t)return null;for(;L!==null;)s(U,L),L=L.sibling;return null}function l(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function d(U,L){return U=hr(U,L),U.index=0,U.sibling=null,U}function m(U,L,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<L?(U.flags|=67108866,L):H):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function w(U,L,H,ee){return L===null||L.tag!==6?(L=zd(H,U.mode,ee),L.return=U,L):(L=d(L,H),L.return=U,L)}function O(U,L,H,ee){var Se=H.type;return Se===z?W(U,L,H.props.children,ee,H.key):L!==null&&(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&ga(Se)===L.type)?(L=d(L,H.props),Il(L,H),L.return=U,L):(L=yc(H.type,H.key,H.props,null,U.mode,ee),Il(L,H),L.return=U,L)}function F(U,L,H,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Bd(H,U.mode,ee),L.return=U,L):(L=d(L,H.children||[]),L.return=U,L)}function W(U,L,H,ee,Se){return L===null||L.tag!==7?(L=ha(H,U.mode,ee,Se),L.return=U,L):(L=d(L,H),L.return=U,L)}function ne(U,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=zd(""+L,U.mode,H),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case k:return H=yc(L.type,L.key,L.props,null,U.mode,H),Il(H,L),H.return=U,H;case B:return L=Bd(L,U.mode,H),L.return=U,L;case C:return L=ga(L),ne(U,L,H)}if(Te(L)||N(L))return L=ha(L,U.mode,H,null),L.return=U,L;if(typeof L.then=="function")return ne(U,Tc(L),H);if(L.$$typeof===Z)return ne(U,xc(U,L),H);Sc(U,L)}return null}function G(U,L,H,ee){var Se=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Se!==null?null:w(U,L,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case k:return H.key===Se?O(U,L,H,ee):null;case B:return H.key===Se?F(U,L,H,ee):null;case C:return H=ga(H),G(U,L,H,ee)}if(Te(H)||N(H))return Se!==null?null:W(U,L,H,ee,null);if(typeof H.then=="function")return G(U,L,Tc(H),ee);if(H.$$typeof===Z)return G(U,L,xc(U,H),ee);Sc(U,H)}return null}function Y(U,L,H,ee,Se){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(H)||null,w(L,U,""+ee,Se);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return U=U.get(ee.key===null?H:ee.key)||null,O(L,U,ee,Se);case B:return U=U.get(ee.key===null?H:ee.key)||null,F(L,U,ee,Se);case C:return ee=ga(ee),Y(U,L,H,ee,Se)}if(Te(ee)||N(ee))return U=U.get(H)||null,W(L,U,ee,Se,null);if(typeof ee.then=="function")return Y(U,L,H,Tc(ee),Se);if(ee.$$typeof===Z)return Y(U,L,H,xc(L,ee),Se);Sc(L,ee)}return null}function ge(U,L,H,ee){for(var Se=null,We=null,_e=L,Le=L=0,qe=null;_e!==null&&Le<H.length;Le++){_e.index>Le?(qe=_e,_e=null):qe=_e.sibling;var Je=G(U,_e,H[Le],ee);if(Je===null){_e===null&&(_e=qe);break}t&&_e&&Je.alternate===null&&s(U,_e),L=m(Je,L,Le),We===null?Se=Je:We.sibling=Je,We=Je,_e=qe}if(Le===H.length)return a(U,_e),Qe&&dr(U,Le),Se;if(_e===null){for(;Le<H.length;Le++)_e=ne(U,H[Le],ee),_e!==null&&(L=m(_e,L,Le),We===null?Se=_e:We.sibling=_e,We=_e);return Qe&&dr(U,Le),Se}for(_e=l(_e);Le<H.length;Le++)qe=Y(_e,U,Le,H[Le],ee),qe!==null&&(t&&qe.alternate!==null&&_e.delete(qe.key===null?Le:qe.key),L=m(qe,L,Le),We===null?Se=qe:We.sibling=qe,We=qe);return t&&_e.forEach(function(gi){return s(U,gi)}),Qe&&dr(U,Le),Se}function Re(U,L,H,ee){if(H==null)throw Error(i(151));for(var Se=null,We=null,_e=L,Le=L=0,qe=null,Je=H.next();_e!==null&&!Je.done;Le++,Je=H.next()){_e.index>Le?(qe=_e,_e=null):qe=_e.sibling;var gi=G(U,_e,Je.value,ee);if(gi===null){_e===null&&(_e=qe);break}t&&_e&&gi.alternate===null&&s(U,_e),L=m(gi,L,Le),We===null?Se=gi:We.sibling=gi,We=gi,_e=qe}if(Je.done)return a(U,_e),Qe&&dr(U,Le),Se;if(_e===null){for(;!Je.done;Le++,Je=H.next())Je=ne(U,Je.value,ee),Je!==null&&(L=m(Je,L,Le),We===null?Se=Je:We.sibling=Je,We=Je);return Qe&&dr(U,Le),Se}for(_e=l(_e);!Je.done;Le++,Je=H.next())Je=Y(_e,U,Le,Je.value,ee),Je!==null&&(t&&Je.alternate!==null&&_e.delete(Je.key===null?Le:Je.key),L=m(Je,L,Le),We===null?Se=Je:We.sibling=Je,We=Je);return t&&_e.forEach(function(t1){return s(U,t1)}),Qe&&dr(U,Le),Se}function ct(U,L,H,ee){if(typeof H=="object"&&H!==null&&H.type===z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case k:e:{for(var Se=H.key;L!==null;){if(L.key===Se){if(Se=H.type,Se===z){if(L.tag===7){a(U,L.sibling),ee=d(L,H.props.children),ee.return=U,U=ee;break e}}else if(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===C&&ga(Se)===L.type){a(U,L.sibling),ee=d(L,H.props),Il(ee,H),ee.return=U,U=ee;break e}a(U,L);break}else s(U,L);L=L.sibling}H.type===z?(ee=ha(H.props.children,U.mode,ee,H.key),ee.return=U,U=ee):(ee=yc(H.type,H.key,H.props,null,U.mode,ee),Il(ee,H),ee.return=U,U=ee)}return _(U);case B:e:{for(Se=H.key;L!==null;){if(L.key===Se)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(U,L.sibling),ee=d(L,H.children||[]),ee.return=U,U=ee;break e}else{a(U,L);break}else s(U,L);L=L.sibling}ee=Bd(H,U.mode,ee),ee.return=U,U=ee}return _(U);case C:return H=ga(H),ct(U,L,H,ee)}if(Te(H))return ge(U,L,H,ee);if(N(H)){if(Se=N(H),typeof Se!="function")throw Error(i(150));return H=Se.call(H),Re(U,L,H,ee)}if(typeof H.then=="function")return ct(U,L,Tc(H),ee);if(H.$$typeof===Z)return ct(U,L,xc(U,H),ee);Sc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(U,L.sibling),ee=d(L,H),ee.return=U,U=ee):(a(U,L),ee=zd(H,U.mode,ee),ee.return=U,U=ee),_(U)):a(U,L)}return function(U,L,H,ee){try{Rl=0;var Se=ct(U,L,H,ee);return lo=null,Se}catch(_e){if(_e===oo||_e===Ec)throw _e;var We=Pn(29,_e,null,U.mode);return We.lanes=ee,We.return=U,We}finally{}}}var va=ny(!0),sy=ny(!1),Zr=!1;function Zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ei(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ti(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=gc(t),zg(t,null,a),s}return pc(t,l,s,a),gc(t)}function Dl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Xi(t,a)}}function tf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var nf=!1;function jl(){if(nf){var t=ao;if(t!==null)throw t}}function Ol(t,s,a,l){nf=!1;var d=t.updateQueue;Zr=!1;var m=d.firstBaseUpdate,_=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var O=w,F=O.next;O.next=null,_===null?m=F:_.next=F,_=O;var W=t.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==_&&(w===null?W.firstBaseUpdate=F:w.next=F,W.lastBaseUpdate=O))}if(m!==null){var ne=d.baseState;_=0,W=F=O=null,w=m;do{var G=w.lane&-536870913,Y=G!==w.lane;if(Y?(Be&G)===G:(l&G)===G){G!==0&&G===io&&(nf=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ge=t,Re=w;G=s;var ct=a;switch(Re.tag){case 1:if(ge=Re.payload,typeof ge=="function"){ne=ge.call(ct,ne,G);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Re.payload,G=typeof ge=="function"?ge.call(ct,ne,G):ge,G==null)break e;ne=E({},ne,G);break e;case 2:Zr=!0}}G=w.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(F=W=Y,O=ne):W=W.next=Y,_|=G;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);W===null&&(O=ne),d.baseState=O,d.firstBaseUpdate=F,d.lastBaseUpdate=W,m===null&&(d.shared.lanes=0),ai|=_,t.lanes=_,t.memoizedState=ne}}function ry(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function iy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ry(a[t],s)}var uo=j(null),Ac=j(0);function ay(t,s){t=wr,ie(Ac,t),ie(uo,s),wr=t|s.baseLanes}function sf(){ie(Ac,wr),ie(uo,uo.current)}function rf(){wr=Ac.current,X(uo),X(Ac)}var Un=j(null),os=null;function ni(t){var s=t.alternate;ie(Rt,Rt.current&1),ie(Un,t),os===null&&(s===null||uo.current!==null||s.memoizedState!==null)&&(os=t)}function af(t){ie(Rt,Rt.current),ie(Un,t),os===null&&(os=t)}function oy(t){t.tag===22?(ie(Rt,Rt.current),ie(Un,t),os===null&&(os=t)):si()}function si(){ie(Rt,Rt.current),ie(Un,Un.current)}function zn(t){X(Un),os===t&&(os=null),X(Rt)}var Rt=j(0);function Nc(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||dm(a)||fm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var pr=0,ke=null,lt=null,Pt=null,Cc=!1,co=!1,_a=!1,Rc=0,Ml=0,ho=null,Gw=0;function Tt(){throw Error(i(321))}function of(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Ln(t[a],s[a]))return!1;return!0}function lf(t,s,a,l,d,m){return pr=m,ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=t===null||t.memoizedState===null?Fy:wf,_a=!1,m=a(l,d),_a=!1,co&&(m=uy(s,a,l,d)),ly(t),m}function ly(t){Q.H=Ll;var s=lt!==null&&lt.next!==null;if(pr=0,Pt=lt=ke=null,Cc=!1,Ml=0,ho=null,s)throw Error(i(300));t===null||Ut||(t=t.dependencies,t!==null&&_c(t)&&(Ut=!0))}function uy(t,s,a,l){ke=t;var d=0;do{if(co&&(ho=null),Ml=0,co=!1,25<=d)throw Error(i(301));if(d+=1,Pt=lt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=Gy,m=s(a,l)}while(co);return m}function Qw(){var t=Q.H,s=t.useState()[0];return s=typeof s.then=="function"?Vl(s):s,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(ke.flags|=1024),s}function uf(){var t=Rc!==0;return Rc=0,t}function cf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function hf(t){if(Cc){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Cc=!1}pr=0,Pt=lt=ke=null,co=!1,Ml=Rc=0,ho=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ke.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function It(){if(lt===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var s=Pt===null?ke.memoizedState:Pt.next;if(s!==null)Pt=s,lt=t;else{if(t===null)throw ke.alternate===null?Error(i(467)):Error(i(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Pt===null?ke.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(t){var s=Ml;return Ml+=1,ho===null&&(ho=[]),t=Zg(ho,t,s),s=ke,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?Fy:wf),t}function Dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Vl(t);if(t.$$typeof===Z)return an(t)}throw Error(i(438,String(t)))}function df(t){var s=null,a=ke.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Ic(),ke.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=V;return s.index++,a}function gr(t,s){return typeof s=="function"?s(t):s}function jc(t){var s=It();return ff(s,lt,t)}function ff(t,s,a){var l=t.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var _=d.next;d.next=m.next,m.next=_}s.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{s=d.next;var w=_=null,O=null,F=s,W=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(Be&ne)===ne:(pr&ne)===ne){var G=F.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===io&&(W=!0);else if((pr&G)===G){F=F.next,G===io&&(W=!0);continue}else ne={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=ne,_=m):O=O.next=ne,ke.lanes|=G,ai|=G;ne=F.action,_a&&a(m,ne),m=F.hasEagerState?F.eagerState:a(m,ne)}else G={lane:ne,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(w=O=G,_=m):O=O.next=G,ke.lanes|=ne,ai|=ne;F=F.next}while(F!==null&&F!==s);if(O===null?_=m:O.next=w,!Ln(m,t.memoizedState)&&(Ut=!0,W&&(a=ao,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=O,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function mf(t){var s=It(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do m=t(m,_.action),_=_.next;while(_!==d);Ln(m,s.memoizedState)||(Ut=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function cy(t,s,a){var l=ke,d=It(),m=Qe;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var _=!Ln((lt||d).memoizedState,a);if(_&&(d.memoizedState=a,Ut=!0),d=d.queue,yf(fy.bind(null,l,d,t),[t]),d.getSnapshot!==s||_||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,fo(9,{destroy:void 0},dy.bind(null,l,d,a,s),null),dt===null)throw Error(i(349));m||(pr&127)!==0||hy(l,s,a)}return a}function hy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ke.updateQueue,s===null?(s=Ic(),ke.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function dy(t,s,a,l){s.value=a,s.getSnapshot=l,my(s)&&py(t)}function fy(t,s,a){return a(function(){my(s)&&py(t)})}function my(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Ln(t,a)}catch{return!0}}function py(t){var s=ca(t,2);s!==null&&Rn(s,t,2)}function pf(t){var s=yn();if(typeof t=="function"){var a=t;if(t=a(),_a){me(!0);try{a()}finally{me(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:t},s}function gy(t,s,a,l){return t.baseState=a,ff(t,lt,typeof l=="function"?l:gr)}function Kw(t,s,a,l,d){if(Vc(t))throw Error(i(485));if(t=s.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,yy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function yy(t,s){var a=s.action,l=s.payload,d=t.state;if(s.isTransition){var m=Q.T,_={};Q.T=_;try{var w=a(d,l),O=Q.S;O!==null&&O(_,w),vy(t,s,w)}catch(F){gf(t,s,F)}finally{m!==null&&_.types!==null&&(m.types=_.types),Q.T=m}}else try{m=a(d,l),vy(t,s,m)}catch(F){gf(t,s,F)}}function vy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(t,s,l)},function(l){return gf(t,s,l)}):_y(t,s,a)}function _y(t,s,a){s.status="fulfilled",s.value=a,xy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,yy(t,a)))}function gf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,xy(s),s=s.next;while(s!==l)}t.action=null}function xy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function by(t,s){return s}function Ey(t,s){if(Qe){var a=dt.formState;if(a!==null){e:{var l=ke;if(Qe){if(ft){t:{for(var d=ft,m=as;d.nodeType!==8;){if(!m){d=null;break t}if(d=ls(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){ft=ls(d.nextSibling),l=d.data==="F!";break e}}Wr(l)}l=!1}l&&(s=a[0])}}return a=yn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:by,lastRenderedState:s},a.queue=l,a=By.bind(null,ke,l),l.dispatch=a,l=pf(!1),m=Ef.bind(null,ke,!1,l.queue),l=yn(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,a=Kw.bind(null,ke,d,m,a),d.dispatch=a,l.memoizedState=t,[s,a,!1]}function wy(t){var s=It();return Ty(s,lt,t)}function Ty(t,s,a){if(s=ff(t,s,by)[0],t=jc(gr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Vl(s)}catch(_){throw _===oo?Ec:_}else l=s;s=It();var d=s.queue,m=d.dispatch;return a!==s.memoizedState&&(ke.flags|=2048,fo(9,{destroy:void 0},Yw.bind(null,d,a),null)),[l,m,t]}function Yw(t,s){t.action=s}function Sy(t){var s=It(),a=lt;if(a!==null)return Ty(s,a,t);It(),s=s.memoizedState,a=It();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function fo(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=ke.updateQueue,s===null&&(s=Ic(),ke.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Ay(){return It().memoizedState}function Oc(t,s,a,l){var d=yn();ke.flags|=t,d.memoizedState=fo(1|s,{destroy:void 0},a,l===void 0?null:l)}function Mc(t,s,a,l){var d=It();l=l===void 0?null:l;var m=d.memoizedState.inst;lt!==null&&l!==null&&of(l,lt.memoizedState.deps)?d.memoizedState=fo(s,m,a,l):(ke.flags|=t,d.memoizedState=fo(1|s,m,a,l))}function Ny(t,s){Oc(8390656,8,t,s)}function yf(t,s){Mc(2048,8,t,s)}function $w(t){ke.flags|=4;var s=ke.updateQueue;if(s===null)s=Ic(),ke.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Cy(t){var s=It().memoizedState;return $w({ref:s,nextImpl:t}),function(){if((et&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Ry(t,s){return Mc(4,2,t,s)}function Iy(t,s){return Mc(4,4,t,s)}function Dy(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function jy(t,s,a){a=a!=null?a.concat([t]):null,Mc(4,4,Dy.bind(null,s,t),a)}function vf(){}function Oy(t,s){var a=It();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&of(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function My(t,s){var a=It();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&of(s,l[1]))return l[0];if(l=t(),_a){me(!0);try{t()}finally{me(!1)}}return a.memoizedState=[l,s],l}function _f(t,s,a){return a===void 0||(pr&1073741824)!==0&&(Be&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=V0(),ke.lanes|=t,ai|=t,a)}function Vy(t,s,a,l){return Ln(a,s)?a:uo.current!==null?(t=_f(t,a,l),Ln(t,s)||(Ut=!0),t):(pr&42)===0||(pr&1073741824)!==0&&(Be&261930)===0?(Ut=!0,t.memoizedState=a):(t=V0(),ke.lanes|=t,ai|=t,s)}function ky(t,s,a,l,d){var m=le.p;le.p=m!==0&&8>m?m:8;var _=Q.T,w={};Q.T=w,Ef(t,!1,s,a);try{var O=d(),F=Q.S;if(F!==null&&F(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=Fw(O,l);kl(t,s,W,Hn(t))}else kl(t,s,l,Hn(t))}catch(ne){kl(t,s,{then:function(){},status:"rejected",reason:ne},Hn())}finally{le.p=m,_!==null&&w.types!==null&&(_.types=w.types),Q.T=_}}function Xw(){}function xf(t,s,a,l){if(t.tag!==5)throw Error(i(476));var d=Ly(t).queue;ky(t,d,s,ye,a===null?Xw:function(){return Py(t),a(l)})}function Ly(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Py(t){var s=Ly(t);s.next===null&&(s=t.alternate.memoizedState),kl(t,s.next.queue,{},Hn())}function bf(){return an(Zl)}function Uy(){return It().memoizedState}function zy(){return It().memoizedState}function Ww(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Hn();t=ei(a);var l=ti(s,t,a);l!==null&&(Rn(l,s,a),Dl(l,s,a)),s={cache:$d()},t.payload=s;return}s=s.return}}function Jw(t,s,a){var l=Hn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Vc(t)?qy(s,a):(a=Pd(t,s,a,l),a!==null&&(Rn(a,t,l),Hy(a,s,l)))}function By(t,s,a){var l=Hn();kl(t,s,a,l)}function kl(t,s,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vc(t))qy(s,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,w=m(_,a);if(d.hasEagerState=!0,d.eagerState=w,Ln(w,_))return pc(t,s,d,0),dt===null&&mc(),!1}catch{}finally{}if(a=Pd(t,s,d,l),a!==null)return Rn(a,t,l),Hy(a,s,l),!0}return!1}function Ef(t,s,a,l){if(l={lane:2,revertLane:em(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Vc(t)){if(s)throw Error(i(479))}else s=Pd(t,a,l,2),s!==null&&Rn(s,t,2)}function Vc(t){var s=t.alternate;return t===ke||s!==null&&s===ke}function qy(t,s){co=Cc=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Hy(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Xi(t,a)}}var Ll={readContext:an,use:Dc,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Ll.useEffectEvent=Tt;var Fy={readContext:an,use:Dc,useCallback:function(t,s){return yn().memoizedState=[t,s===void 0?null:s],t},useContext:an,useEffect:Ny,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Oc(4194308,4,Dy.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Oc(4194308,4,t,s)},useInsertionEffect:function(t,s){Oc(4,2,t,s)},useMemo:function(t,s){var a=yn();s=s===void 0?null:s;var l=t();if(_a){me(!0);try{t()}finally{me(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=yn();if(a!==void 0){var d=a(s);if(_a){me(!0);try{a(s)}finally{me(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Jw.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var s=yn();return t={current:t},s.memoizedState=t},useState:function(t){t=pf(t);var s=t.queue,a=By.bind(null,ke,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:vf,useDeferredValue:function(t,s){var a=yn();return _f(a,t,s)},useTransition:function(){var t=pf(!1);return t=ky.bind(null,ke,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=ke,d=yn();if(Qe){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),dt===null)throw Error(i(349));(Be&127)!==0||hy(l,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,Ny(fy.bind(null,l,m,t),[t]),l.flags|=2048,fo(9,{destroy:void 0},dy.bind(null,l,m,a,s),null),a},useId:function(){var t=yn(),s=dt.identifierPrefix;if(Qe){var a=Ks,l=Qs;a=(l&~(1<<32-Ee(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Rc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Gw++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:bf,useFormState:Ey,useActionState:Ey,useOptimistic:function(t){var s=yn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Ef.bind(null,ke,!0,a),a.dispatch=s,[t,s]},useMemoCache:df,useCacheRefresh:function(){return yn().memoizedState=Ww.bind(null,ke)},useEffectEvent:function(t){var s=yn(),a={impl:t};return s.memoizedState=a,function(){if((et&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},wf={readContext:an,use:Dc,useCallback:Oy,useContext:an,useEffect:yf,useImperativeHandle:jy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:My,useReducer:jc,useRef:Ay,useState:function(){return jc(gr)},useDebugValue:vf,useDeferredValue:function(t,s){var a=It();return Vy(a,lt.memoizedState,t,s)},useTransition:function(){var t=jc(gr)[0],s=It().memoizedState;return[typeof t=="boolean"?t:Vl(t),s]},useSyncExternalStore:cy,useId:Uy,useHostTransitionStatus:bf,useFormState:wy,useActionState:wy,useOptimistic:function(t,s){var a=It();return gy(a,lt,t,s)},useMemoCache:df,useCacheRefresh:zy};wf.useEffectEvent=Cy;var Gy={readContext:an,use:Dc,useCallback:Oy,useContext:an,useEffect:yf,useImperativeHandle:jy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:My,useReducer:mf,useRef:Ay,useState:function(){return mf(gr)},useDebugValue:vf,useDeferredValue:function(t,s){var a=It();return lt===null?_f(a,t,s):Vy(a,lt.memoizedState,t,s)},useTransition:function(){var t=mf(gr)[0],s=It().memoizedState;return[typeof t=="boolean"?t:Vl(t),s]},useSyncExternalStore:cy,useId:Uy,useHostTransitionStatus:bf,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,s){var a=It();return lt!==null?gy(a,lt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:df,useCacheRefresh:zy};Gy.useEffectEvent=Cy;function Tf(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:E({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sf={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Hn(),d=ei(l);d.payload=s,a!=null&&(d.callback=a),s=ti(t,d,l),s!==null&&(Rn(s,t,l),Dl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Hn(),d=ei(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=ti(t,d,l),s!==null&&(Rn(s,t,l),Dl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Hn(),l=ei(a);l.tag=2,s!=null&&(l.callback=s),s=ti(t,l,a),s!==null&&(Rn(s,t,a),Dl(s,t,a))}};function Qy(t,s,a,l,d,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,_):s.prototype&&s.prototype.isPureReactComponent?!wl(a,l)||!wl(d,m):!0}function Ky(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Sf.enqueueReplaceState(s,s.state,null)}function xa(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=E({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function Yy(t){fc(t)}function $y(t){console.error(t)}function Xy(t){fc(t)}function kc(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Wy(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Af(t,s,a){return a=ei(a),a.tag=3,a.payload={element:null},a.callback=function(){kc(t,s)},a}function Jy(t){return t=ei(t),t.tag=3,t}function Zy(t,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){Wy(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Wy(s,a,l),typeof d!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Zw(t,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ro(s,a,d,!0),a=Un.current,a!==null){switch(a.tag){case 31:case 13:return os===null?Yc():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===wc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Wf(t,l,d)),!1;case 22:return a.flags|=65536,l===wc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Wf(t,l,d)),!1}throw Error(i(435,a.tag))}return Wf(t,l,d),Yc(),!1}if(Qe)return s=Un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==Fd&&(t=Error(i(422),{cause:l}),Al(ss(t,a)))):(l!==Fd&&(s=Error(i(423),{cause:l}),Al(ss(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=ss(l,a),d=Af(t.stateNode,l,d),tf(t,d),St!==4&&(St=2)),!1;var m=Error(i(520),{cause:l});if(m=ss(m,a),Gl===null?Gl=[m]:Gl.push(m),St!==4&&(St=2),s===null)return!0;l=ss(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Af(a.stateNode,l,t),tf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(oi===null||!oi.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Jy(d),Zy(d,t,a,l),tf(a,d),!1}a=a.return}while(a!==null);return!1}var Nf=Error(i(461)),Ut=!1;function on(t,s,a,l){s.child=t===null?sy(s,null,a,l):va(s,t.child,a,l)}function e0(t,s,a,l,d){a=a.render;var m=s.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return ma(s),l=lf(t,s,a,_,m,d),w=uf(),t!==null&&!Ut?(cf(t,s,d),yr(t,s,d)):(Qe&&w&&qd(s),s.flags|=1,on(t,s,l,d),s.child)}function t0(t,s,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!Ud(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,n0(t,s,m,l,d)):(t=yc(a.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Vf(t,d)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:wl,a(_,l)&&t.ref===s.ref)return yr(t,s,d)}return s.flags|=1,t=hr(m,l),t.ref=s.ref,t.return=s,s.child=t}function n0(t,s,a,l,d){if(t!==null){var m=t.memoizedProps;if(wl(m,l)&&t.ref===s.ref)if(Ut=!1,s.pendingProps=l=m,Vf(t,d))(t.flags&131072)!==0&&(Ut=!0);else return s.lanes=t.lanes,yr(t,s,d)}return Cf(t,s,a,l,d)}function s0(t,s,a,l){var d=l.children,m=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(l=s.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~m}else l=0,s.child=null;return r0(t,s,m,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&bc(s,m!==null?m.cachePool:null),m!==null?ay(s,m):sf(),oy(s);else return l=s.lanes=536870912,r0(t,s,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(bc(s,m.cachePool),ay(s,m),si(),s.memoizedState=null):(t!==null&&bc(s,null),sf(),si());return on(t,s,d,a),s.child}function Pl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function r0(t,s,a,l,d){var m=Wd();return m=m===null?null:{parent:Lt._currentValue,pool:m},s.memoizedState={baseLanes:a,cachePool:m},t!==null&&bc(s,null),sf(),oy(s),t!==null&&ro(t,s,l,!0),s.childLanes=d,null}function Lc(t,s){return s=Uc({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function i0(t,s,a){return va(s,t.child,null,a),t=Lc(s,s.pendingProps),t.flags|=2,zn(s),s.memoizedState=null,t}function eT(t,s,a){var l=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Qe){if(l.mode==="hidden")return t=Lc(s,l),s.lanes=536870912,Pl(null,t);if(af(s),(t=ft)?(t=yv(t,as),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:$r!==null?{id:Qs,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=s,s.child=a,rn=s,ft=null)):t=null,t===null)throw Wr(s);return s.lanes=536870912,null}return Lc(s,l)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(af(s),d)if(s.flags&256)s.flags&=-257,s=i0(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Ut||ro(t,s,a,!1),d=(a&t.childLanes)!==0,Ut||d){if(l=dt,l!==null&&(_=Wi(l,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,ca(t,_),Rn(l,t,_),Nf;Yc(),s=i0(t,s,a)}else t=m.treeContext,ft=ls(_.nextSibling),rn=s,Qe=!0,Xr=null,as=!1,t!==null&&Gg(s,t),s=Lc(s,l),s.flags|=4096;return s}return t=hr(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Pc(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Cf(t,s,a,l,d){return ma(s),a=lf(t,s,a,l,void 0,d),l=uf(),t!==null&&!Ut?(cf(t,s,d),yr(t,s,d)):(Qe&&l&&qd(s),s.flags|=1,on(t,s,a,d),s.child)}function a0(t,s,a,l,d,m){return ma(s),s.updateQueue=null,a=uy(s,l,a,d),ly(t),l=uf(),t!==null&&!Ut?(cf(t,s,m),yr(t,s,m)):(Qe&&l&&qd(s),s.flags|=1,on(t,s,a,m),s.child)}function o0(t,s,a,l,d){if(ma(s),s.stateNode===null){var m=eo,_=a.contextType;typeof _=="object"&&_!==null&&(m=an(_)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Sf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},Zd(s),_=a.contextType,m.context=typeof _=="object"&&_!==null?an(_):eo,m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Tf(s,a,_,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Sf.enqueueReplaceState(m,m.state,null),Ol(s,l,m,d),jl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){m=s.stateNode;var w=s.memoizedProps,O=xa(a,w);m.props=O;var F=m.context,W=a.contextType;_=eo,typeof W=="object"&&W!==null&&(_=an(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||F!==_)&&Ky(s,m,l,_),Zr=!1;var G=s.memoizedState;m.state=G,Ol(s,l,m,d),jl(),F=s.memoizedState,w||G!==F||Zr?(typeof ne=="function"&&(Tf(s,a,ne,l),F=s.memoizedState),(O=Zr||Qy(s,a,O,l,G,F,_))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=F),m.props=l,m.state=F,m.context=_,l=O):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,ef(t,s),_=s.memoizedProps,W=xa(a,_),m.props=W,ne=s.pendingProps,G=m.context,F=a.contextType,O=eo,typeof F=="object"&&F!==null&&(O=an(F)),w=a.getDerivedStateFromProps,(F=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ne||G!==O)&&Ky(s,m,l,O),Zr=!1,G=s.memoizedState,m.state=G,Ol(s,l,m,d),jl();var Y=s.memoizedState;_!==ne||G!==Y||Zr||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof w=="function"&&(Tf(s,a,w,l),Y=s.memoizedState),(W=Zr||Qy(s,a,W,l,G,Y,O)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,O)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Y),m.props=l,m.state=Y,m.context=O,l=W):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),l=!1)}return m=l,Pc(t,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&l?(s.child=va(s,t.child,null,d),s.child=va(s,null,a,d)):on(t,s,a,d),s.memoizedState=m.state,t=s.child):t=yr(t,s,d),t}function l0(t,s,a,l){return da(),s.flags|=256,on(t,s,a,l),s.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(t){return{baseLanes:t,cachePool:Wg()}}function Df(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=qn),t}function u0(t,s,a){var l=s.pendingProps,d=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),_&&(d=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(Qe){if(d?ni(s):si(),(t=ft)?(t=yv(t,as),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:$r!==null?{id:Qs,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},a=qg(t),a.return=s,s.child=a,rn=s,ft=null)):t=null,t===null)throw Wr(s);return fm(t)?s.lanes=32:s.lanes=536870912,null}var w=l.children;return l=l.fallback,d?(si(),d=s.mode,w=Uc({mode:"hidden",children:w},d),l=ha(l,d,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,l=s.child,l.memoizedState=If(a),l.childLanes=Df(t,_,a),s.memoizedState=Rf,Pl(null,l)):(ni(s),jf(s,w))}var O=t.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(m)s.flags&256?(ni(s),s.flags&=-257,s=Of(t,s,a)):s.memoizedState!==null?(si(),s.child=t.child,s.flags|=128,s=null):(si(),w=l.fallback,d=s.mode,l=Uc({mode:"visible",children:l.children},d),w=ha(w,d,a,null),w.flags|=2,l.return=s,w.return=s,l.sibling=w,s.child=l,va(s,t.child,null,a),l=s.child,l.memoizedState=If(a),l.childLanes=Df(t,_,a),s.memoizedState=Rf,s=Pl(null,l));else if(ni(s),fm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(i(419)),l.stack="",l.digest=_,Al({value:l,source:null,stack:null}),s=Of(t,s,a)}else if(Ut||ro(t,s,a,!1),_=(a&t.childLanes)!==0,Ut||_){if(_=dt,_!==null&&(l=Wi(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,ca(t,l),Rn(_,t,l),Nf;dm(w)||Yc(),s=Of(t,s,a)}else dm(w)?(s.flags|=192,s.child=t.child,s=null):(t=O.treeContext,ft=ls(w.nextSibling),rn=s,Qe=!0,Xr=null,as=!1,t!==null&&Gg(s,t),s=jf(s,l.children),s.flags|=4096);return s}return d?(si(),w=l.fallback,d=s.mode,O=t.child,F=O.sibling,l=hr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?w=hr(F,w):(w=ha(w,d,a,null),w.flags|=2),w.return=s,l.return=s,l.sibling=w,s.child=l,Pl(null,l),l=s.child,w=t.child.memoizedState,w===null?w=If(a):(d=w.cachePool,d!==null?(O=Lt._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=Wg(),w={baseLanes:w.baseLanes|a,cachePool:d}),l.memoizedState=w,l.childLanes=Df(t,_,a),s.memoizedState=Rf,Pl(t.child,l)):(ni(s),a=t.child,t=a.sibling,a=hr(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function jf(t,s){return s=Uc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Uc(t,s){return t=Pn(22,t,null,s),t.lanes=0,t}function Of(t,s,a){return va(s,t.child,null,a),t=jf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function c0(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Kd(t.return,s,a)}function Mf(t,s,a,l,d,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=m)}function h0(t,s,a){var l=s.pendingProps,d=l.revealOrder,m=l.tail;l=l.children;var _=Rt.current,w=(_&2)!==0;if(w?(_=_&1|2,s.flags|=128):_&=1,ie(Rt,_),on(t,s,l,a),l=Qe?Sl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c0(t,a,s);else if(t.tag===19)c0(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&Nc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Mf(s,!1,d,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Nc(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Mf(s,!0,a,null,m,l);break;case"together":Mf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function yr(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),ai|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ro(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,a=hr(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=hr(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Vf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function tT(t,s,a){switch(s.tag){case 3:nt(s,s.stateNode.containerInfo),Jr(s,Lt,t.memoizedState.cache),da();break;case 27:case 5:ae(s);break;case 4:nt(s,s.stateNode.containerInfo);break;case 10:Jr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,af(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ni(s),s.flags|=128,null):(a&s.child.childLanes)!==0?u0(t,s,a):(ni(s),t=yr(t,s,a),t!==null?t.sibling:null);ni(s);break;case 19:var d=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ro(t,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return h0(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ie(Rt,Rt.current),l)break;return null;case 22:return s.lanes=0,s0(t,s,a,s.pendingProps);case 24:Jr(s,Lt,t.memoizedState.cache)}return yr(t,s,a)}function d0(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ut=!0;else{if(!Vf(t,a)&&(s.flags&128)===0)return Ut=!1,tT(t,s,a);Ut=(t.flags&131072)!==0}else Ut=!1,Qe&&(s.flags&1048576)!==0&&Fg(s,Sl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=ga(s.elementType),s.type=t,typeof t=="function")Ud(t)?(l=xa(t,l),s.tag=1,s=o0(null,s,t,l,a)):(s.tag=0,s=Cf(null,s,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===fe){s.tag=11,s=e0(null,s,t,l,a);break e}else if(d===R){s.tag=14,s=t0(null,s,t,l,a);break e}}throw s=be(t)||t,Error(i(306,s,""))}}return s;case 0:return Cf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=xa(l,s.pendingProps),o0(t,s,l,d,a);case 3:e:{if(nt(s,s.stateNode.containerInfo),t===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;d=m.element,ef(t,s),Ol(s,l,null,a);var _=s.memoizedState;if(l=_.cache,Jr(s,Lt,l),l!==m.cache&&Yd(s,[Lt],a,!0),jl(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=l0(t,s,l,a);break e}else if(l!==d){d=ss(Error(i(424)),s),Al(d),s=l0(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=ls(t.firstChild),rn=s,Qe=!0,Xr=null,as=!0,a=sy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(da(),l===d){s=yr(t,s,a);break e}on(t,s,l,a)}s=s.child}return s;case 26:return Pc(t,s),t===null?(a=wv(s.type,null,s.pendingProps,null))?s.memoizedState=a:Qe||(a=s.type,t=s.pendingProps,l=th(Ce.current).createElement(a),l[Mt]=s,l[Yt]=t,ln(l,a,t),Vt(l),s.stateNode=l):s.memoizedState=wv(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ae(s),t===null&&Qe&&(l=s.stateNode=xv(s.type,s.pendingProps,Ce.current),rn=s,as=!0,d=ft,hi(s.type)?(mm=d,ft=ls(l.firstChild)):ft=d),on(t,s,s.pendingProps.children,a),Pc(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Qe&&((d=l=ft)&&(l=DT(l,s.type,s.pendingProps,as),l!==null?(s.stateNode=l,rn=s,ft=ls(l.firstChild),as=!1,d=!0):d=!1),d||Wr(s)),ae(s),d=s.type,m=s.pendingProps,_=t!==null?t.memoizedProps:null,l=m.children,um(d,m)?l=null:_!==null&&um(d,_)&&(s.flags|=32),s.memoizedState!==null&&(d=lf(t,s,Qw,null,null,a),Zl._currentValue=d),Pc(t,s),on(t,s,l,a),s.child;case 6:return t===null&&Qe&&((t=a=ft)&&(a=jT(a,s.pendingProps,as),a!==null?(s.stateNode=a,rn=s,ft=null,t=!0):t=!1),t||Wr(s)),null;case 13:return u0(t,s,a);case 4:return nt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=va(s,null,l,a):on(t,s,l,a),s.child;case 11:return e0(t,s,s.type,s.pendingProps,a);case 7:return on(t,s,s.pendingProps,a),s.child;case 8:return on(t,s,s.pendingProps.children,a),s.child;case 12:return on(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Jr(s,s.type,l.value),on(t,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,ma(s),d=an(d),l=l(d),s.flags|=1,on(t,s,l,a),s.child;case 14:return t0(t,s,s.type,s.pendingProps,a);case 15:return n0(t,s,s.type,s.pendingProps,a);case 19:return h0(t,s,a);case 31:return eT(t,s,a);case 22:return s0(t,s,a,s.pendingProps);case 24:return ma(s),l=an(Lt),t===null?(d=Wd(),d===null&&(d=dt,m=$d(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),s.memoizedState={parent:l,cache:d},Zd(s),Jr(s,Lt,d)):((t.lanes&a)!==0&&(ef(t,s),Ol(s,null,null,a),jl()),d=t.memoizedState,m=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Jr(s,Lt,l)):(l=m.cache,Jr(s,Lt,l),l!==d.cache&&Yd(s,[Lt],a,!0))),on(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function vr(t){t.flags|=4}function kf(t,s,a,l,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(U0())t.flags|=8192;else throw ya=wc,Jd}else t.flags&=-16777217}function f0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cv(s))if(U0())t.flags|=8192;else throw ya=wc,Jd}function zc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?$i():536870912,t.lanes|=s,yo|=s)}function Ul(t,s){if(!Qe)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function mt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function nT(t,s,a){var l=s.pendingProps;switch(Hd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),mr(Lt),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(so(s)?vr(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Gd())),mt(s),null;case 26:var d=s.type,m=s.memoizedState;return t===null?(vr(s),m!==null?(mt(s),f0(s,m)):(mt(s),kf(s,d,null,l,a))):m?m!==t.memoizedState?(vr(s),mt(s),f0(s,m)):(mt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&vr(s),mt(s),kf(s,d,t,l,a)),null;case 27:if(at(s),a=Ce.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&vr(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return mt(s),null}t=he.current,so(s)?Qg(s):(t=xv(d,l,a),s.stateNode=t,vr(s))}return mt(s),null;case 5:if(at(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&vr(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return mt(s),null}if(m=he.current,so(s))Qg(s);else{var _=th(Ce.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}m[Mt]=s,m[Yt]=l;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(ln(m,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&vr(s)}}return mt(s),kf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&vr(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(t=Ce.current,so(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,d=rn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Mt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uv(t.nodeValue,a)),t||Wr(s,!0)}else t=th(t).createTextNode(l),t[Mt]=s,s.stateNode=t}return mt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=so(s),a!==null){if(t===null){if(!l)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Mt]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),t=!1}else a=Gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(zn(s),s):(zn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return mt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=so(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Mt]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),d=!1}else d=Gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(zn(s),s):(zn(s),null)}return zn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),zc(s,s.updateQueue),mt(s),null);case 4:return tt(),t===null&&rm(s.stateNode.containerInfo),mt(s),null;case 10:return mr(s.type),mt(s),null;case 19:if(X(Rt),l=s.memoizedState,l===null)return mt(s),null;if(d=(s.flags&128)!==0,m=l.rendering,m===null)if(d)Ul(l,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Nc(t),m!==null){for(s.flags|=128,Ul(l,!1),t=m.updateQueue,s.updateQueue=t,zc(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Bg(a,t),a=a.sibling;return ie(Rt,Rt.current&1|2),Qe&&dr(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&nn()>Gc&&(s.flags|=128,d=!0,Ul(l,!1),s.lanes=4194304)}else{if(!d)if(t=Nc(m),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,zc(s,t),Ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Qe)return mt(s),null}else 2*nn()-l.renderingStartTime>Gc&&a!==536870912&&(s.flags|=128,d=!0,Ul(l,!1),s.lanes=4194304);l.isBackwards?(m.sibling=s.child,s.child=m):(t=l.last,t!==null?t.sibling=m:s.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=Rt.current,ie(Rt,d?a&1|2:a&1),Qe&&dr(s,l.treeForkCount),t):(mt(s),null);case 22:case 23:return zn(s),rf(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),a=s.updateQueue,a!==null&&zc(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&X(pa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),mr(Lt),mt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function sT(t,s){switch(Hd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return mr(Lt),tt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return at(s),null;case 31:if(s.memoizedState!==null){if(zn(s),s.alternate===null)throw Error(i(340));da()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(zn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));da()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return X(Rt),null;case 4:return tt(),null;case 10:return mr(s.type),null;case 22:case 23:return zn(s),rf(),t!==null&&X(pa),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return mr(Lt),null;case 25:return null;default:return null}}function m0(t,s){switch(Hd(s),s.tag){case 3:mr(Lt),tt();break;case 26:case 27:case 5:at(s);break;case 4:tt();break;case 31:s.memoizedState!==null&&zn(s);break;case 13:zn(s);break;case 19:X(Rt);break;case 10:mr(s.type);break;case 22:case 23:zn(s),rf(),t!==null&&X(pa);break;case 24:mr(Lt)}}function zl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==d)}}catch(w){it(s,s.return,w)}}function ri(t,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,d=s;var O=a,F=w;try{F()}catch(W){it(d,O,W)}}}l=l.next}while(l!==m)}}catch(W){it(s,s.return,W)}}function p0(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{iy(s,a)}catch(l){it(t,t.return,l)}}}function g0(t,s,a){a.props=xa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,s,l)}}function Bl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){it(t,s,d)}}function Ys(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){it(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){it(t,s,d)}else a.current=null}function y0(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){it(t,t.return,d)}}function Lf(t,s,a){try{var l=t.stateNode;ST(l,t.type,a,s),l[Yt]=s}catch(d){it(t,t.return,d)}}function v0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hi(t.type)||t.tag===4}function Pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ps));else if(l!==4&&(l===27&&hi(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Uf(t,s,a),t=t.sibling;t!==null;)Uf(t,s,a),t=t.sibling}function Bc(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&hi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bc(t,s,a),t=t.sibling;t!==null;)Bc(t,s,a),t=t.sibling}function _0(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);ln(s,l,a),s[Mt]=t,s[Yt]=a}catch(m){it(t,t.return,m)}}var _r=!1,zt=!1,zf=!1,x0=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function rT(t,s){if(t=t.containerInfo,om=lh,t=jg(t),jd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,w=-1,O=-1,F=0,W=0,ne=t,G=null;t:for(;;){for(var Y;ne!==a||d!==0&&ne.nodeType!==3||(w=_+d),ne!==m||l!==0&&ne.nodeType!==3||(O=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)G=ne,ne=Y;for(;;){if(ne===t)break t;if(G===a&&++F===d&&(w=_),G===m&&++W===l&&(O=_),(Y=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=Y}a=w===-1||O===-1?null:{start:w,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:t,selectionRange:a},lh=!1,Xt=s;Xt!==null;)if(s=Xt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Xt=t;else for(;Xt!==null;){switch(s=Xt,m=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var ge=xa(a.type,d);t=l.getSnapshotBeforeUpdate(ge,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){it(a,a.return,Re)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)hm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Xt=t;break}Xt=s.return}}function b0(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(t,a),l&4&&zl(5,a);break;case 1:if(br(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){it(a,a.return,_)}else{var d=xa(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){it(a,a.return,_)}}l&64&&p0(a),l&512&&Bl(a,a.return);break;case 3:if(br(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{iy(t,s)}catch(_){it(a,a.return,_)}}break;case 27:s===null&&l&4&&_0(a);case 26:case 5:br(t,a),s===null&&l&4&&y0(a),l&512&&Bl(a,a.return);break;case 12:br(t,a);break;case 31:br(t,a),l&4&&T0(t,a);break;case 13:br(t,a),l&4&&S0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fT.bind(null,a),OT(t,a))));break;case 22:if(l=a.memoizedState!==null||_r,!l){s=s!==null&&s.memoizedState!==null||zt,d=_r;var m=zt;_r=l,(zt=s)&&!m?Er(t,a,(a.subtreeFlags&8772)!==0):br(t,a),_r=d,zt=m}break;case 30:break;default:br(t,a)}}function E0(t){var s=t.alternate;s!==null&&(t.alternate=null,E0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&za(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,Sn=!1;function xr(t,s,a){for(a=a.child;a!==null;)w0(t,s,a),a=a.sibling}function w0(t,s,a){if($&&typeof $.onCommitFiberUnmount=="function")try{$.onCommitFiberUnmount(_n,a)}catch{}switch(a.tag){case 26:zt||Ys(a,s),xr(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||Ys(a,s);var l=vt,d=Sn;hi(a.type)&&(vt=a.stateNode,Sn=!1),xr(t,s,a),Xl(a.stateNode),vt=l,Sn=d;break;case 5:zt||Ys(a,s);case 6:if(l=vt,d=Sn,vt=null,xr(t,s,a),vt=l,Sn=d,vt!==null)if(Sn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(m){it(a,s,m)}else try{vt.removeChild(a.stateNode)}catch(m){it(a,s,m)}break;case 18:vt!==null&&(Sn?(t=vt,pv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),So(t)):pv(vt,a.stateNode));break;case 4:l=vt,d=Sn,vt=a.stateNode.containerInfo,Sn=!0,xr(t,s,a),vt=l,Sn=d;break;case 0:case 11:case 14:case 15:ri(2,a,s),zt||ri(4,a,s),xr(t,s,a);break;case 1:zt||(Ys(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&g0(a,s,l)),xr(t,s,a);break;case 21:xr(t,s,a);break;case 22:zt=(l=zt)||a.memoizedState!==null,xr(t,s,a),zt=l;break;default:xr(t,s,a)}}function T0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{So(t)}catch(a){it(s,s.return,a)}}}function S0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{So(t)}catch(a){it(s,s.return,a)}}function iT(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new x0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new x0),s;default:throw Error(i(435,t.tag))}}function qc(t,s){var a=iT(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var d=mT.bind(null,t,l);l.then(d,d)}})}function An(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,_=s,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(hi(w.type)){vt=w.stateNode,Sn=!1;break e}break;case 5:vt=w.stateNode,Sn=!1;break e;case 3:case 4:vt=w.stateNode.containerInfo,Sn=!0;break e}w=w.return}if(vt===null)throw Error(i(160));w0(m,_,d),vt=null,Sn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)A0(s,t),s=s.sibling}var bs=null;function A0(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(s,t),Nn(t),l&4&&(ri(3,t,t.return),zl(3,t),ri(5,t,t.return));break;case 1:An(s,t),Nn(t),l&512&&(zt||a===null||Ys(a,a.return)),l&64&&_r&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=bs;if(An(s,t),Nn(t),l&512&&(zt||a===null||Ys(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ms]||m[Mt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),ln(m,l,a),m[Mt]=t,Vt(m),l=m;break e;case"link":var _=Av("link","href",d).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(m=_[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}m=d.createElement(l),ln(m,l,a),d.head.appendChild(m);break;case"meta":if(_=Av("meta","content",d).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(m=_[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}m=d.createElement(l),ln(m,l,a),d.head.appendChild(m);break;default:throw Error(i(468,l))}m[Mt]=t,Vt(m),l=m}t.stateNode=l}else Nv(d,t.type,t.stateNode);else t.stateNode=Sv(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Nv(d,t.type,t.stateNode):Sv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Lf(t,t.memoizedProps,a.memoizedProps)}break;case 27:An(s,t),Nn(t),l&512&&(zt||a===null||Ys(a,a.return)),a!==null&&l&4&&Lf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(An(s,t),Nn(t),l&512&&(zt||a===null||Ys(a,a.return)),t.flags&32){d=t.stateNode;try{Tn(d,"")}catch(ge){it(t,t.return,ge)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Lf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(zf=!0);break;case 6:if(An(s,t),Nn(t),l&4){if(t.stateNode===null)throw Error(i(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ge){it(t,t.return,ge)}}break;case 3:if(rh=null,d=bs,bs=nh(s.containerInfo),An(s,t),bs=d,Nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{So(s.containerInfo)}catch(ge){it(t,t.return,ge)}zf&&(zf=!1,N0(t));break;case 4:l=bs,bs=nh(t.stateNode.containerInfo),An(s,t),Nn(t),bs=l;break;case 12:An(s,t),Nn(t);break;case 31:An(s,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 13:An(s,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 22:d=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=_r,W=zt;if(_r=F||d,zt=W||O,An(s,t),zt=W,_r=F,Nn(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||O||_r||zt||ba(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(m=O.stateNode,d)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=O.stateNode;var ne=O.memoizedProps.style,G=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ge){it(O,O.return,ge)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(ge){it(O,O.return,ge)}}}else if(s.tag===18){if(a===null){O=s;try{var Y=O.stateNode;d?gv(Y,!0):gv(O.stateNode,!1)}catch(ge){it(O,O.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qc(t,a))));break;case 19:An(s,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 30:break;case 21:break;default:An(s,t),Nn(t)}}function Nn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(v0(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,m=Pf(t);Bc(t,m,d);break;case 5:var _=a.stateNode;a.flags&32&&(Tn(_,""),a.flags&=-33);var w=Pf(t);Bc(t,w,_);break;case 3:case 4:var O=a.stateNode.containerInfo,F=Pf(t);Uf(t,F,O);break;default:throw Error(i(161))}}catch(W){it(t,t.return,W)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function N0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;N0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function br(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)b0(t,s.alternate,s),s=s.sibling}function ba(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:ri(4,s,s.return),ba(s);break;case 1:Ys(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&g0(s,s.return,a),ba(s);break;case 27:Xl(s.stateNode);case 26:case 5:Ys(s,s.return),ba(s);break;case 22:s.memoizedState===null&&ba(s);break;case 30:ba(s);break;default:ba(s)}t=t.sibling}}function Er(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:Er(d,m,a),zl(4,m);break;case 1:if(Er(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){it(l,l.return,F)}if(l=m,d=l.updateQueue,d!==null){var w=l.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)ry(O[d],w)}catch(F){it(l,l.return,F)}}a&&_&64&&p0(m),Bl(m,m.return);break;case 27:_0(m);case 26:case 5:Er(d,m,a),a&&l===null&&_&4&&y0(m),Bl(m,m.return);break;case 12:Er(d,m,a);break;case 31:Er(d,m,a),a&&_&4&&T0(d,m);break;case 13:Er(d,m,a),a&&_&4&&S0(d,m);break;case 22:m.memoizedState===null&&Er(d,m,a),Bl(m,m.return);break;case 30:break;default:Er(d,m,a)}s=s.sibling}}function Bf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Nl(a))}function qf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Nl(t))}function Es(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)C0(t,s,a,l),s=s.sibling}function C0(t,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Es(t,s,a,l),d&2048&&zl(9,s);break;case 1:Es(t,s,a,l);break;case 3:Es(t,s,a,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Nl(t)));break;case 12:if(d&2048){Es(t,s,a,l),t=s.stateNode;try{var m=s.memoizedProps,_=m.id,w=m.onPostCommit;typeof w=="function"&&w(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){it(s,s.return,O)}}else Es(t,s,a,l);break;case 31:Es(t,s,a,l);break;case 13:Es(t,s,a,l);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?Es(t,s,a,l):ql(t,s):m._visibility&2?Es(t,s,a,l):(m._visibility|=2,mo(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Bf(_,s);break;case 24:Es(t,s,a,l),d&2048&&qf(s.alternate,s);break;default:Es(t,s,a,l)}}function mo(t,s,a,l,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=t,_=s,w=a,O=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:mo(m,_,w,O,d),zl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?mo(m,_,w,O,d):ql(m,_):(W._visibility|=2,mo(m,_,w,O,d)),d&&F&2048&&Bf(_.alternate,_);break;case 24:mo(m,_,w,O,d),d&&F&2048&&qf(_.alternate,_);break;default:mo(m,_,w,O,d)}s=s.sibling}}function ql(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,d=l.flags;switch(l.tag){case 22:ql(a,l),d&2048&&Bf(l.alternate,l);break;case 24:ql(a,l),d&2048&&qf(l.alternate,l);break;default:ql(a,l)}s=s.sibling}}var Hl=8192;function po(t,s,a){if(t.subtreeFlags&Hl)for(t=t.child;t!==null;)R0(t,s,a),t=t.sibling}function R0(t,s,a){switch(t.tag){case 26:po(t,s,a),t.flags&Hl&&t.memoizedState!==null&&GT(a,bs,t.memoizedState,t.memoizedProps);break;case 5:po(t,s,a);break;case 3:case 4:var l=bs;bs=nh(t.stateNode.containerInfo),po(t,s,a),bs=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Hl,Hl=16777216,po(t,s,a),Hl=l):po(t,s,a));break;default:po(t,s,a)}}function I0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Fl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Xt=l,j0(l,t)}I0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)D0(t),t=t.sibling}function D0(t){switch(t.tag){case 0:case 11:case 15:Fl(t),t.flags&2048&&ri(9,t,t.return);break;case 3:Fl(t);break;case 12:Fl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Hc(t)):Fl(t);break;default:Fl(t)}}function Hc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Xt=l,j0(l,t)}I0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:ri(8,s,s.return),Hc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Hc(s));break;default:Hc(s)}t=t.sibling}}function j0(t,s){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:ri(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=t;Xt!==null;){l=Xt;var d=l.sibling,m=l.return;if(E0(l),l===a){Xt=null;break e}if(d!==null){d.return=m,Xt=d;break e}Xt=m}}}var aT={getCacheForType:function(t){var s=an(Lt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return an(Lt).controller.signal}},oT=typeof WeakMap=="function"?WeakMap:Map,et=0,dt=null,Ue=null,Be=0,rt=0,Bn=null,ii=!1,go=!1,Hf=!1,wr=0,St=0,ai=0,Ea=0,Ff=0,qn=0,yo=0,Gl=null,Cn=null,Gf=!1,Fc=0,O0=0,Gc=1/0,Qc=null,oi=null,Gt=0,li=null,vo=null,Tr=0,Qf=0,Kf=null,M0=null,Ql=0,Yf=null;function Hn(){return(et&2)!==0&&Be!==0?Be&-Be:Q.T!==null?em():Ku()}function V0(){if(qn===0)if((Be&536870912)===0||Qe){var t=On;On<<=1,(On&3932160)===0&&(On=262144),qn=t}else qn=536870912;return t=Un.current,t!==null&&(t.flags|=32),qn}function Rn(t,s,a){(t===dt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(_o(t,0),ui(t,Be,qn,!1)),js(t,a),((et&2)===0||t!==dt)&&(t===dt&&((et&2)===0&&(Ea|=a),St===4&&ui(t,Be,qn,!1)),$s(t))}function k0(t,s,a){if((et&6)!==0)throw Error(i(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Mn(t,s),d=l?cT(t,s):Xf(t,s,!0),m=l;do{if(d===0){go&&!l&&ui(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!lT(a)){d=Xf(t,s,!1),m=!1;continue}if(d===2){if(m=s,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var w=t;d=Gl;var O=w.current.memoizedState.isDehydrated;if(O&&(_o(w,_).flags|=256),_=Xf(w,_,!1),_!==2){if(Hf&&!O){w.errorRecoveryDisabledLanes|=m,Ea|=m,d=4;break e}m=Cn,Cn=d,m!==null&&(Cn===null?Cn=m:Cn.push.apply(Cn,m))}d=_}if(m=!1,d!==2)continue}}if(d===1){_o(t,0),ui(t,s,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ui(l,s,qn,!ii);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Fc+300-nn(),10<d)){if(ui(l,s,qn,!ii),Wn(l,0,!0)!==0)break e;Tr=s,l.timeoutHandle=fv(L0.bind(null,l,a,Cn,Qc,Gf,s,qn,Ea,yo,ii,m,"Throttled",-0,0),d);break e}L0(l,a,Cn,Qc,Gf,s,qn,Ea,yo,ii,m,null,-0,0)}}break}while(!0);$s(t)}function L0(t,s,a,l,d,m,_,w,O,F,W,ne,G,Y){if(t.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ps},R0(s,m,ne);var ge=(m&62914560)===m?Fc-nn():(m&4194048)===m?O0-nn():0;if(ge=QT(ne,ge),ge!==null){Tr=m,t.cancelPendingCommit=ge(G0.bind(null,t,s,m,a,l,d,_,w,O,W,ne,null,G,Y)),ui(t,m,_,!F);return}}G0(t,s,m,a,l,d,_,w,O)}function lT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Ln(m(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ui(t,s,a,l){s&=~Ff,s&=~Ea,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var m=31-Ee(d),_=1<<m;l[m]=-1,d&=~_}a!==0&&ar(t,a,s)}function Kc(){return(et&6)===0?(Kl(0),!1):!0}function $f(){if(Ue!==null){if(rt===0)var t=Ue.return;else t=Ue,fr=fa=null,hf(t),lo=null,Rl=0,t=Ue;for(;t!==null;)m0(t.alternate,t),t=t.return;Ue=null}}function _o(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,CT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Tr=0,$f(),dt=t,Ue=a=hr(t.current,null),Be=s,rt=0,Bn=null,ii=!1,go=Mn(t,s),Hf=!1,yo=qn=Ff=Ea=ai=St=0,Cn=Gl=null,Gf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-Ee(l),m=1<<d;s|=t[d],l&=~m}return wr=s,mc(),a}function P0(t,s){ke=null,Q.H=Ll,s===oo||s===Ec?(s=ey(),rt=3):s===Jd?(s=ey(),rt=4):rt=s===Nf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,Ue===null&&(St=1,kc(t,ss(s,t.current)))}function U0(){var t=Un.current;return t===null?!0:(Be&4194048)===Be?os===null:(Be&62914560)===Be||(Be&536870912)!==0?t===os:!1}function z0(){var t=Q.H;return Q.H=Ll,t===null?Ll:t}function B0(){var t=Q.A;return Q.A=aT,t}function Yc(){St=4,ii||(Be&4194048)!==Be&&Un.current!==null||(go=!0),(ai&134217727)===0&&(Ea&134217727)===0||dt===null||ui(dt,Be,qn,!1)}function Xf(t,s,a){var l=et;et|=2;var d=z0(),m=B0();(dt!==t||Be!==s)&&(Qc=null,_o(t,s)),s=!1;var _=St;e:do try{if(rt!==0&&Ue!==null){var w=Ue,O=Bn;switch(rt){case 8:$f(),_=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(s=!0);var F=rt;if(rt=0,Bn=null,xo(t,w,O,F),a&&go){_=0;break e}break;default:F=rt,rt=0,Bn=null,xo(t,w,O,F)}}uT(),_=St;break}catch(W){P0(t,W)}while(!0);return s&&t.shellSuspendCounter++,fr=fa=null,et=l,Q.H=d,Q.A=m,Ue===null&&(dt=null,Be=0,mc()),_}function uT(){for(;Ue!==null;)q0(Ue)}function cT(t,s){var a=et;et|=2;var l=z0(),d=B0();dt!==t||Be!==s?(Qc=null,Gc=nn()+500,_o(t,s)):go=Mn(t,s);e:do try{if(rt!==0&&Ue!==null){s=Ue;var m=Bn;t:switch(rt){case 1:rt=0,Bn=null,xo(t,s,m,1);break;case 2:case 9:if(Jg(m)){rt=0,Bn=null,H0(s);break}s=function(){rt!==2&&rt!==9||dt!==t||(rt=7),$s(t)},m.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Jg(m)?(rt=0,Bn=null,H0(s)):(rt=0,Bn=null,xo(t,s,m,7));break;case 5:var _=null;switch(Ue.tag){case 26:_=Ue.memoizedState;case 5:case 27:var w=Ue;if(_?Cv(_):w.stateNode.complete){rt=0,Bn=null;var O=w.sibling;if(O!==null)Ue=O;else{var F=w.return;F!==null?(Ue=F,$c(F)):Ue=null}break t}}rt=0,Bn=null,xo(t,s,m,5);break;case 6:rt=0,Bn=null,xo(t,s,m,6);break;case 8:$f(),St=6;break e;default:throw Error(i(462))}}hT();break}catch(W){P0(t,W)}while(!0);return fr=fa=null,Q.H=l,Q.A=d,et=a,Ue!==null?0:(dt=null,Be=0,mc(),St)}function hT(){for(;Ue!==null&&!il();)q0(Ue)}function q0(t){var s=d0(t.alternate,t,wr);t.memoizedProps=t.pendingProps,s===null?$c(t):Ue=s}function H0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=a0(a,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=a0(a,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:hf(s);default:m0(a,s),s=Ue=Bg(s,wr),s=d0(a,s,wr)}t.memoizedProps=t.pendingProps,s===null?$c(t):Ue=s}function xo(t,s,a,l){fr=fa=null,hf(s),lo=null,Rl=0;var d=s.return;try{if(Zw(t,d,s,a,Be)){St=1,kc(t,ss(a,t.current)),Ue=null;return}}catch(m){if(d!==null)throw Ue=d,m;St=1,kc(t,ss(a,t.current)),Ue=null;return}s.flags&32768?(Qe||l===1?t=!0:go||(Be&536870912)!==0?t=!1:(ii=t=!0,(l===2||l===9||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),F0(s,t)):$c(s)}function $c(t){var s=t;do{if((s.flags&32768)!==0){F0(s,ii);return}t=s.return;var a=nT(s.alternate,s,wr);if(a!==null){Ue=a;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=t}while(s!==null);St===0&&(St=5)}function F0(t,s){do{var a=sT(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);St=6,Ue=null}function G0(t,s,a,l,d,m,_,w,O){t.cancelPendingCommit=null;do Xc();while(Gt!==0);if((et&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Ld,En(t,a,m,_,w,O),t===dt&&(Ue=dt=null,Be=0),vo=s,li=t,Tr=a,Qf=m,Kf=d,M0=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pT(Ds,function(){return X0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=le.p,le.p=2,_=et,et|=4;try{rT(t,s,a)}finally{et=_,le.p=d,Q.T=l}}Gt=1,Q0(),K0(),Y0()}}function Q0(){if(Gt===1){Gt=0;var t=li,s=vo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var d=et;et|=4;try{A0(s,t);var m=lm,_=jg(t.containerInfo),w=m.focusedElem,O=m.selectionRange;if(_!==w&&w&&w.ownerDocument&&Dg(w.ownerDocument.documentElement,w)){if(O!==null&&jd(w)){var F=O.start,W=O.end;if(W===void 0&&(W=F),"selectionStart"in w)w.selectionStart=F,w.selectionEnd=Math.min(W,w.value.length);else{var ne=w.ownerDocument||document,G=ne&&ne.defaultView||window;if(G.getSelection){var Y=G.getSelection(),ge=w.textContent.length,Re=Math.min(O.start,ge),ct=O.end===void 0?Re:Math.min(O.end,ge);!Y.extend&&Re>ct&&(_=ct,ct=Re,Re=_);var U=Ig(w,Re),L=Ig(w,ct);if(U&&L&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==L.node||Y.focusOffset!==L.offset)){var H=ne.createRange();H.setStart(U.node,U.offset),Y.removeAllRanges(),Re>ct?(Y.addRange(H),Y.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),Y.addRange(H))}}}}for(ne=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var ee=ne[w];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}lh=!!om,lm=om=null}finally{et=d,le.p=l,Q.T=a}}t.current=s,Gt=2}}function K0(){if(Gt===2){Gt=0;var t=li,s=vo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var d=et;et|=4;try{b0(t,s.alternate,s)}finally{et=d,le.p=l,Q.T=a}}Gt=3}}function Y0(){if(Gt===4||Gt===3){Gt=0,ka();var t=li,s=vo,a=Tr,l=M0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Gt=5:(Gt=0,vo=li=null,$0(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(oi=null),or(a),s=s.stateNode,$&&typeof $.onCommitFiberRoot=="function")try{$.onCommitFiberRoot(_n,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,d=le.p,le.p=2,Q.T=null;try{for(var m=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];m(w.value,{componentStack:w.stack})}}finally{Q.T=s,le.p=d}}(Tr&3)!==0&&Xc(),$s(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Yf?Ql++:(Ql=0,Yf=t):Ql=0,Kl(0)}}function $0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Nl(s)))}function Xc(){return Q0(),K0(),Y0(),X0()}function X0(){if(Gt!==5)return!1;var t=li,s=Qf;Qf=0;var a=or(Tr),l=Q.T,d=le.p;try{le.p=32>a?32:a,Q.T=null,a=Kf,Kf=null;var m=li,_=Tr;if(Gt=0,vo=li=null,Tr=0,(et&6)!==0)throw Error(i(331));var w=et;if(et|=4,D0(m.current),C0(m,m.current,_,a),et=w,Kl(0,!1),$&&typeof $.onPostCommitFiberRoot=="function")try{$.onPostCommitFiberRoot(_n,m)}catch{}return!0}finally{le.p=d,Q.T=l,$0(t,s)}}function W0(t,s,a){s=ss(a,s),s=Af(t.stateNode,s,2),t=ti(t,s,2),t!==null&&(js(t,2),$s(t))}function it(t,s,a){if(t.tag===3)W0(t,t,a);else for(;s!==null;){if(s.tag===3){W0(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(oi===null||!oi.has(l))){t=ss(a,t),a=Jy(2),l=ti(s,a,2),l!==null&&(Zy(a,l,s,t),js(l,2),$s(l));break}}s=s.return}}function Wf(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new oT;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(Hf=!0,d.add(a),t=dT.bind(null,t,s,a),s.then(t,t))}function dT(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,dt===t&&(Be&a)===a&&(St===4||St===3&&(Be&62914560)===Be&&300>nn()-Fc?(et&2)===0&&_o(t,0):Ff|=a,yo===Be&&(yo=0)),$s(t)}function J0(t,s){s===0&&(s=$i()),t=ca(t,s),t!==null&&(js(t,s),$s(t))}function fT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),J0(t,a)}function mT(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),J0(t,a)}function pT(t,s){return Nt(t,s)}var Wc=null,bo=null,Jf=!1,Jc=!1,Zf=!1,ci=0;function $s(t){t!==bo&&t.next===null&&(bo===null?Wc=bo=t:bo=bo.next=t),Jc=!0,Jf||(Jf=!0,yT())}function Kl(t,s){if(!Zf&&Jc){Zf=!0;do for(var a=!1,l=Wc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var _=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-Ee(42|t)+1)-1,m&=d&~(_&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,nv(l,m))}else m=Be,m=Wn(l,l===dt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Mn(l,m)||(a=!0,nv(l,m));l=l.next}while(a);Zf=!1}}function gT(){Z0()}function Z0(){Jc=Jf=!1;var t=0;ci!==0&&NT()&&(t=ci);for(var s=nn(),a=null,l=Wc;l!==null;){var d=l.next,m=ev(l,s);m===0?(l.next=null,a===null?Wc=d:a.next=d,d===null&&(bo=a)):(a=l,(t!==0||(m&3)!==0)&&(Jc=!0)),l=d}Gt!==0&&Gt!==5||Kl(t),ci!==0&&(ci=0)}function ev(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-Ee(m),w=1<<_,O=d[_];O===-1?((w&a)===0||(w&l)!==0)&&(d[_]=Pa(w,s)):O<=s&&(t.expiredLanes|=w),m&=~w}if(s=dt,a=Be,a=Wn(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Is(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Is(l),or(a)){case 2:case 8:a=Gi;break;case 32:a=Ds;break;case 268435456:a=Qi;break;default:a=Ds}return l=tv.bind(null,t),a=Nt(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Is(l),t.callbackPriority=2,t.callbackNode=null,2}function tv(t,s){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Xc()&&t.callbackNode!==a)return null;var l=Be;return l=Wn(t,t===dt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(k0(t,l,s),ev(t,nn()),t.callbackNode!=null&&t.callbackNode===a?tv.bind(null,t):null)}function nv(t,s){if(Xc())return null;k0(t,s,!0)}function yT(){RT(function(){(et&6)!==0?Nt(Fi,gT):Z0()})}function em(){if(ci===0){var t=io;t===0&&(t=xn,xn<<=1,(xn&261888)===0&&(xn=256)),ci=t}return ci}function sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fa(""+t)}function rv(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function vT(t,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var m=sv((d[Yt]||null).action),_=l.submitter;_&&(s=(s=_[Yt]||null)?sv(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var w=new qs("action","action",null,l,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ci!==0){var O=_?rv(d,_):new FormData(d);xf(a,{pending:!0,data:O,method:d.method,action:m},null,O)}}else typeof m=="function"&&(w.preventDefault(),O=_?rv(d,_):new FormData(d),xf(a,{pending:!0,data:O,method:d.method,action:m},m,O))},currentTarget:d}]})}}for(var tm=0;tm<kd.length;tm++){var nm=kd[tm],_T=nm.toLowerCase(),xT=nm[0].toUpperCase()+nm.slice(1);xs(_T,"on"+xT)}xs(Vg,"onAnimationEnd"),xs(kg,"onAnimationIteration"),xs(Lg,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(kw,"onTransitionRun"),xs(Lw,"onTransitionStart"),xs(Pw,"onTransitionCancel"),xs(Pg,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function iv(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var _=l.length-1;0<=_;_--){var w=l[_],O=w.instance,F=w.currentTarget;if(w=w.listener,O!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=F;try{m(d)}catch(W){fc(W)}d.currentTarget=null,m=O}else for(_=0;_<l.length;_++){if(w=l[_],O=w.instance,F=w.currentTarget,w=w.listener,O!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=F;try{m(d)}catch(W){fc(W)}d.currentTarget=null,m=O}}}}function ze(t,s){var a=s[Ua];a===void 0&&(a=s[Ua]=new Set);var l=t+"__bubble";a.has(l)||(av(s,t,2,!1),a.add(l))}function sm(t,s,a){var l=0;s&&(l|=4),av(a,t,l,s)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function rm(t){if(!t[Zc]){t[Zc]=!0,al.forEach(function(a){a!=="selectionchange"&&(bT.has(a)||sm(a,!1,t),sm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Zc]||(s[Zc]=!0,sm("selectionchange",!1,s))}}function av(t,s,a,l){switch(Vv(s)){case 2:var d=$T;break;case 8:d=XT;break;default:d=_m}a=d.bind(null,s,a,t),d=void 0,!na||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function im(t,s,a,l,d){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===d)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;w!==null;){if(_=Vs(w),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=m=_;continue e}w=w.parentNode}}l=l.return}Gr(function(){var F=m,W=Zn(a),ne=[];e:{var G=Ug.get(t);if(G!==void 0){var Y=qs,ge=t;switch(t){case"keypress":if(ra(a)===0)break e;case"keydown":case"keyup":Y=cc;break;case"focusin":ge="focus",Y=aa;break;case"focusout":ge="blur",Y=aa;break;case"beforeblur":case"afterblur":Y=aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=_l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=v;break;case Vg:case kg:case Lg:Y=sc;break;case Pg:Y=S;break;case"scroll":case"scrollend":Y=vl;break;case"wheel":Y=K;break;case"copy":case"cut":case"paste":Y=rc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=cr;break;case"toggle":case"beforetoggle":Y=Ve}var Re=(s&4)!==0,ct=!Re&&(t==="scroll"||t==="scrollend"),U=Re?G!==null?G+"Capture":null:G;Re=[];for(var L=F,H;L!==null;){var ee=L;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||U===null||(ee=gs(L,U),ee!=null&&Re.push($l(L,ee,H))),ct)break;L=L.return}0<Re.length&&(G=new Y(G,ge,null,a,W),ne.push({event:G,listeners:Re}))}}if((s&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&a!==pl&&(ge=a.relatedTarget||a.fromElement)&&(Vs(ge)||ge[Os]))break e;if((Y||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(ge=a.relatedTarget||a.toElement,Y=F,ge=ge?Vs(ge):null,ge!==null&&(ct=u(ge),Re=ge.tag,ge!==ct||Re!==5&&Re!==27&&Re!==6)&&(ge=null)):(Y=null,ge=F),Y!==ge)){if(Re=_l,ee="onMouseLeave",U="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Re=cr,ee="onPointerLeave",U="onPointerEnter",L="pointer"),ct=Y==null?G:Vn(Y),H=ge==null?G:Vn(ge),G=new Re(ee,L+"leave",Y,a,W),G.target=ct,G.relatedTarget=H,ee=null,Vs(W)===F&&(Re=new Re(U,L+"enter",ge,a,W),Re.target=H,Re.relatedTarget=ct,ee=Re),ct=ee,Y&&ge)t:{for(Re=ET,U=Y,L=ge,H=0,ee=U;ee;ee=Re(ee))H++;ee=0;for(var Se=L;Se;Se=Re(Se))ee++;for(;0<H-ee;)U=Re(U),H--;for(;0<ee-H;)L=Re(L),ee--;for(;H--;){if(U===L||L!==null&&U===L.alternate){Re=U;break t}U=Re(U),L=Re(L)}Re=null}else Re=null;Y!==null&&ov(ne,G,Y,Re,!1),ge!==null&&ct!==null&&ov(ne,ct,ge,Re,!0)}}e:{if(G=F?Vn(F):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var We=Tg;else if(Eg(G))if(Sg)We=Ow;else{We=Dw;var _e=Iw}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ha(F.elementType)&&(We=Tg):We=jw;if(We&&(We=We(t,F))){wg(ne,We,a,W);break e}_e&&_e(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&dl(G,"number",G.value)}switch(_e=F?Vn(F):window,t){case"focusin":(Eg(_e)||_e.contentEditable==="true")&&(Wa=_e,Od=F,Tl=null);break;case"focusout":Tl=Od=Wa=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,Og(ne,a,W);break;case"selectionchange":if(Vw)break;case"keydown":case"keyup":Og(ne,a,W)}var Le;if(Ze)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Xa?oa(t,a)&&(qe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Gs&&a.locale!=="ko"&&(Xa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Xa&&(Le=yl()):(Bs=W,gl="value"in Bs?Bs.value:Bs.textContent,Xa=!0)),_e=eh(F,qe),0<_e.length&&(qe=new Fs(qe,t,null,a,W),ne.push({event:qe,listeners:_e}),Le?qe.data=Le:(Le=$a(a),Le!==null&&(qe.data=Le)))),(Le=ts?Aw(t,a):Nw(t,a))&&(qe=eh(F,"onBeforeInput"),0<qe.length&&(_e=new Fs("onBeforeInput","beforeinput",null,a,W),ne.push({event:_e,listeners:qe}),_e.data=Le)),vT(ne,t,F,a,W)}iv(ne,s)})}function $l(t,s,a){return{instance:t,listener:s,currentTarget:a}}function eh(t,s){for(var a=s+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=gs(t,a),d!=null&&l.unshift($l(t,d,m)),d=gs(t,s),d!=null&&l.push($l(t,d,m))),t.tag===3)return l;t=t.return}return[]}function ET(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ov(t,s,a,l,d){for(var m=s._reactName,_=[];a!==null&&a!==l;){var w=a,O=w.alternate,F=w.stateNode;if(w=w.tag,O!==null&&O===l)break;w!==5&&w!==26&&w!==27||F===null||(O=F,d?(F=gs(a,m),F!=null&&_.unshift($l(a,F,O))):d||(F=gs(a,m),F!=null&&_.push($l(a,F,O)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var wT=/\r\n?/g,TT=/\u0000|\uFFFD/g;function lv(t){return(typeof t=="string"?t:""+t).replace(wT,`
`).replace(TT,"")}function uv(t,s){return s=lv(s),lv(t)===s}function ut(t,s,a,l,d,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Tn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,a,l);break;case"style":ml(t,l,m);break;case"data":if(s!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&ut(t,s,"name",d.name,d,null),ut(t,s,"formEncType",d.formEncType,d,null),ut(t,s,"formMethod",d.formMethod,d,null),ut(t,s,"formTarget",d.formTarget,d,null)):(ut(t,s,"encType",d.encType,d,null),ut(t,s,"method",d.method,d,null),ut(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ps);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Ba(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ec.get(a)||a,Ba(t,a,l))}}function am(t,s,a,l,d,m){switch(a){case"style":ml(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ps);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ol.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),m=t[Yt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ba(t,a,l)}}}function ln(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(t,s,m,_,a,null)}}d&&ut(t,s,"srcSet",a.srcSet,a,null),l&&ut(t,s,"src",a.src,a,null);return;case"input":ze("invalid",t);var w=m=_=d=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":d=W;break;case"type":_=W;break;case"checked":O=W;break;case"defaultChecked":F=W;break;case"value":m=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:ut(t,s,l,W,a,null)}}Wu(t,m,w,O,F,_,d,!1);return;case"select":ze("invalid",t),l=_=m=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":m=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:ut(t,s,d,w,a,null)}s=m,a=_,t.multiple=!!l,s!=null?Br(t,!!l,s,!1):a!=null&&Br(t,!!l,a,!0);return;case"textarea":ze("invalid",t),m=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":d=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ut(t,s,_,w,a,null)}qr(t,l,d,m);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,s,O,l,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Yl.length;l++)ze(Yl[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(t,s,F,l,a,null)}return;default:if(Ha(s)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&am(t,s,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&ut(t,s,w,l,a,null))}function ST(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,_=null,w=null,O=null,F=null,W=null;for(Y in a){var ne=a[Y];if(a.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=ne;default:l.hasOwnProperty(Y)||ut(t,s,Y,null,l,ne)}}for(var G in l){var Y=l[G];if(ne=a[G],l.hasOwnProperty(G)&&(Y!=null||ne!=null))switch(G){case"type":m=Y;break;case"name":d=Y;break;case"checked":F=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Y!==ne&&ut(t,s,G,Y,l,ne)}}qa(t,_,w,O,F,W,m,d);return;case"select":Y=_=w=G=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":Y=O;default:l.hasOwnProperty(m)||ut(t,s,m,null,l,O)}for(d in l)if(m=l[d],O=a[d],l.hasOwnProperty(d)&&(m!=null||O!=null))switch(d){case"value":G=m;break;case"defaultValue":w=m;break;case"multiple":_=m;default:m!==O&&ut(t,s,d,m,l,O)}s=w,a=_,l=Y,G!=null?Br(t,!!a,G,!1):!!l!=!!a&&(s!=null?Br(t,!!a,s,!0):Br(t,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ut(t,s,w,null,l,d)}for(_ in l)if(d=l[_],m=a[_],l.hasOwnProperty(_)&&(d!=null||m!=null))switch(_){case"value":G=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&ut(t,s,_,d,l,m)}Ju(t,G,Y);return;case"option":for(var ge in a)if(G=a[ge],a.hasOwnProperty(ge)&&G!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":t.selected=!1;break;default:ut(t,s,ge,null,l,G)}for(O in l)if(G=l[O],Y=a[O],l.hasOwnProperty(O)&&G!==Y&&(G!=null||Y!=null))switch(O){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ut(t,s,O,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)G=a[Re],a.hasOwnProperty(Re)&&G!=null&&!l.hasOwnProperty(Re)&&ut(t,s,Re,null,l,G);for(F in l)if(G=l[F],Y=a[F],l.hasOwnProperty(F)&&G!==Y&&(G!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:ut(t,s,F,G,l,Y)}return;default:if(Ha(s)){for(var ct in a)G=a[ct],a.hasOwnProperty(ct)&&G!==void 0&&!l.hasOwnProperty(ct)&&am(t,s,ct,void 0,l,G);for(W in l)G=l[W],Y=a[W],!l.hasOwnProperty(W)||G===Y||G===void 0&&Y===void 0||am(t,s,W,G,l,Y);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&ut(t,s,U,null,l,G);for(ne in l)G=l[ne],Y=a[ne],!l.hasOwnProperty(ne)||G===Y||G==null&&Y==null||ut(t,s,ne,G,l,Y)}function cv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],m=d.transferSize,_=d.initiatorType,w=d.duration;if(m&&w&&cv(_)){for(_=0,w=d.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>w)break;var W=O.transferSize,ne=O.initiatorType;W&&cv(ne)&&(O=O.responseEnd,_+=W*(O<w?1:(w-F)/(O-F)))}if(--l,s+=8*(m+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var om=null,lm=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function hv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function um(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cm=null;function NT(){var t=window.event;return t&&t.type==="popstate"?t===cm?!1:(cm=t,!0):(cm=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(t){return mv.resolve(null).then(t).catch(IT)}:fv;function IT(t){setTimeout(function(){throw t})}function hi(t){return t==="head"}function pv(t,s){var a=s,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),So(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Xl(a);for(var m=a.firstChild;m;){var _=m.nextSibling,w=m.nodeName;m[Ms]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Xl(t.ownerDocument.body);a=d}while(a);So(s)}function gv(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function hm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),za(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function DT(t,s,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ms])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ls(t.nextSibling),t===null)break}return null}function jT(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ls(t.nextSibling),t===null))return null;return t}function yv(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ls(t.nextSibling),t===null))return null;return t}function dm(t){return t.data==="$?"||t.data==="$~"}function fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function OT(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ls(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var mm=null;function vv(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return ls(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function _v(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function xv(t,s,a){switch(s=th(a),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Xl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);za(t)}var us=new Map,bv=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Sr=le.d;le.d={f:MT,r:VT,D:kT,C:LT,L:PT,m:UT,X:BT,S:zT,M:qT};function MT(){var t=Sr.f(),s=Kc();return t||s}function VT(t){var s=Jn(t);s!==null&&s.tag===5&&s.type==="form"?Py(s):Sr.r(t)}var Eo=typeof document>"u"?null:document;function Ev(t,s,a){var l=Eo;if(l&&typeof s=="string"&&s){var d=wn(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),bv.has(d)||(bv.add(d),t={rel:t,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),ln(s,"link",t),Vt(s),l.head.appendChild(s)))}}function kT(t){Sr.D(t),Ev("dns-prefetch",t,null)}function LT(t,s){Sr.C(t,s),Ev("preconnect",t,s)}function PT(t,s,a){Sr.L(t,s,a);var l=Eo;if(l&&t&&s){var d='link[rel="preload"][as="'+wn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+wn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+wn(a.imageSizes)+'"]')):d+='[href="'+wn(t)+'"]';var m=d;switch(s){case"style":m=wo(t);break;case"script":m=To(t)}us.has(m)||(t=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),us.set(m,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(Wl(m))||s==="script"&&l.querySelector(Jl(m))||(s=l.createElement("link"),ln(s,"link",t),Vt(s),l.head.appendChild(s)))}}function UT(t,s){Sr.m(t,s);var a=Eo;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=To(t)}if(!us.has(m)&&(t=E({rel:"modulepreload",href:t},s),us.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(m)))return}l=a.createElement("link"),ln(l,"link",t),Vt(l),a.head.appendChild(l)}}}function zT(t,s,a){Sr.S(t,s,a);var l=Eo;if(l&&t){var d=ks(l).hoistableStyles,m=wo(t);s=s||"default";var _=d.get(m);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Wl(m)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":s},a),(a=us.get(m))&&pm(t,a);var O=_=l.createElement("link");Vt(O),ln(O,"link",t),O._p=new Promise(function(F,W){O.onload=F,O.onerror=W}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,sh(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:w},d.set(m,_)}}}function BT(t,s){Sr.X(t,s);var a=Eo;if(a&&t){var l=ks(a).hoistableScripts,d=To(t),m=l.get(d);m||(m=a.querySelector(Jl(d)),m||(t=E({src:t,async:!0},s),(s=us.get(d))&&gm(t,s),m=a.createElement("script"),Vt(m),ln(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function qT(t,s){Sr.M(t,s);var a=Eo;if(a&&t){var l=ks(a).hoistableScripts,d=To(t),m=l.get(d);m||(m=a.querySelector(Jl(d)),m||(t=E({src:t,async:!0,type:"module"},s),(s=us.get(d))&&gm(t,s),m=a.createElement("script"),Vt(m),ln(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function wv(t,s,a,l){var d=(d=Ce.current)?nh(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=wo(a.href),a=ks(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=wo(a.href);var m=ks(d).hoistableStyles,_=m.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=d.querySelector(Wl(t)))&&!m._p&&(_.instance=m,_.state.loading=5),us.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},us.set(t,a),m||HT(d,t,a,_.state))),s&&l===null)throw Error(i(528,""));return _}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=To(a),a=ks(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function wo(t){return'href="'+wn(t)+'"'}function Wl(t){return'link[rel="stylesheet"]['+t+"]"}function Tv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function HT(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),ln(s,"link",a),Vt(s),t.head.appendChild(s))}function To(t){return'[src="'+wn(t)+'"]'}function Jl(t){return"script[async]"+t}function Sv(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+wn(a.href)+'"]');if(l)return s.instance=l,Vt(l),l;var d=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Vt(l),ln(l,"style",d),sh(l,a.precedence,t),s.instance=l;case"stylesheet":d=wo(a.href);var m=t.querySelector(Wl(d));if(m)return s.state.loading|=4,s.instance=m,Vt(m),m;l=Tv(a),(d=us.get(d))&&pm(l,d),m=(t.ownerDocument||t).createElement("link"),Vt(m);var _=m;return _._p=new Promise(function(w,O){_.onload=w,_.onerror=O}),ln(m,"link",l),s.state.loading|=4,sh(m,a.precedence,t),s.instance=m;case"script":return m=To(a.src),(d=t.querySelector(Jl(m)))?(s.instance=d,Vt(d),d):(l=a,(d=us.get(m))&&(l=E({},a),gm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Vt(d),ln(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,sh(l,a.precedence,t));return s.instance}function sh(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===s)m=w;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function pm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function gm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var rh=null;function Av(t,s,a){if(rh===null){var l=new Map,d=rh=new Map;d.set(a,l)}else d=rh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[Ms]||m[Mt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=t+_;var w=l.get(_);w?w.push(m):l.set(_,[m])}}return l}function Nv(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function FT(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Cv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function GT(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=wo(l.href),m=s.querySelector(Wl(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=ih.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=m,Vt(m);return}m=s.ownerDocument||s,l=Tv(l),(d=us.get(d))&&pm(l,d),m=m.createElement("link"),Vt(m);var _=m;_._p=new Promise(function(w,O){_.onload=w,_.onerror=O}),ln(m,"link",l),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ih.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var ym=0;function QT(t,s){return t.stylesheets&&t.count===0&&oh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+s);0<t.imgBytes&&ym===0&&(ym=62500*AT());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>ym?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ah=null;function oh(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ah=new Map,s.forEach(KT,t),ah=null,ih.call(t))}function KT(t,s){if(!(s.state.loading&4)){var a=ah.get(t);if(a)var l=a.get(null);else{a=new Map,ah.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var _=d[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=s.instance,_=d.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,d),a.set(_,d),this.count++,l=ih.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Zl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function YT(t,s,a,l,d,m,_,w,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bn(0),this.hiddenUpdates=bn(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Rv(t,s,a,l,d,m,_,w,O,F,W,ne){return t=new YT(t,s,a,_,O,F,W,ne,w),s=1,m===!0&&(s|=24),m=Pn(3,null,null,s),t.current=m,m.stateNode=t,s=$d(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},Zd(m),t}function Iv(t){return t?(t=eo,t):eo}function Dv(t,s,a,l,d,m){d=Iv(d),l.context===null?l.context=d:l.pendingContext=d,l=ei(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ti(t,l,s),a!==null&&(Rn(a,t,s),Dl(a,t,s))}function jv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function vm(t,s){jv(t,s),(t=t.alternate)&&jv(t,s)}function Ov(t){if(t.tag===13||t.tag===31){var s=ca(t,67108864);s!==null&&Rn(s,t,67108864),vm(t,67108864)}}function Mv(t){if(t.tag===13||t.tag===31){var s=Hn();s=Ji(s);var a=ca(t,s);a!==null&&Rn(a,t,s),vm(t,s)}}var lh=!0;function $T(t,s,a,l){var d=Q.T;Q.T=null;var m=le.p;try{le.p=2,_m(t,s,a,l)}finally{le.p=m,Q.T=d}}function XT(t,s,a,l){var d=Q.T;Q.T=null;var m=le.p;try{le.p=8,_m(t,s,a,l)}finally{le.p=m,Q.T=d}}function _m(t,s,a,l){if(lh){var d=xm(l);if(d===null)im(t,s,l,uh,a),kv(t,l);else if(JT(d,t,s,a,l))l.stopPropagation();else if(kv(t,l),s&4&&-1<WT.indexOf(t)){for(;d!==null;){var m=Jn(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Xn(m.pendingLanes);if(_!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var O=1<<31-Ee(_);w.entanglements[1]|=O,_&=~O}$s(m),(et&6)===0&&(Gc=nn()+500,Kl(0))}}break;case 31:case 13:w=ca(m,2),w!==null&&Rn(w,m,2),Kc(),vm(m,2)}if(m=xm(l),m===null&&im(t,s,l,uh,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else im(t,s,l,null,a)}}function xm(t){return t=Zn(t),bm(t)}var uh=null;function bm(t){if(uh=null,t=Vs(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=p(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return uh=t,null}function Vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ir()){case Fi:return 2;case Gi:return 8;case Ds:case La:return 32;case Qi:return 268435456;default:return 32}default:return 32}}var Em=!1,di=null,fi=null,mi=null,eu=new Map,tu=new Map,pi=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(t,s){switch(t){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":eu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(s.pointerId)}}function nu(t,s,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},s!==null&&(s=Jn(s),s!==null&&Ov(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function JT(t,s,a,l,d){switch(s){case"focusin":return di=nu(di,t,s,a,l,d),!0;case"dragenter":return fi=nu(fi,t,s,a,l,d),!0;case"mouseover":return mi=nu(mi,t,s,a,l,d),!0;case"pointerover":var m=d.pointerId;return eu.set(m,nu(eu.get(m)||null,t,s,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,tu.set(m,nu(tu.get(m)||null,t,s,a,l,d)),!0}return!1}function Lv(t){var s=Vs(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,fs(t.priority,function(){Mv(a)});return}}else if(s===31){if(s=p(a),s!==null){t.blockedOn=s,fs(t.priority,function(){Mv(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=xm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);pl=l,a.target.dispatchEvent(l),pl=null}else return s=Jn(a),s!==null&&Ov(s),t.blockedOn=a,!1;s.shift()}return!0}function Pv(t,s,a){ch(t)&&a.delete(s)}function ZT(){Em=!1,di!==null&&ch(di)&&(di=null),fi!==null&&ch(fi)&&(fi=null),mi!==null&&ch(mi)&&(mi=null),eu.forEach(Pv),tu.forEach(Pv)}function hh(t,s){t.blockedOn===s&&(t.blockedOn=null,Em||(Em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ZT)))}var dh=null;function Uv(t){dh!==t&&(dh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dh===t&&(dh=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if(bm(l||a)===null)continue;break}var m=Jn(a);m!==null&&(t.splice(s,3),s-=3,xf(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function So(t){function s(O){return hh(O,t)}di!==null&&hh(di,t),fi!==null&&hh(fi,t),mi!==null&&hh(mi,t),eu.forEach(s),tu.forEach(s);for(var a=0;a<pi.length;a++){var l=pi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pi.length&&(a=pi[0],a.blockedOn===null);)Lv(a),a.blockedOn===null&&pi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],_=d[Yt]||null;if(typeof m=="function")_||Uv(a);else if(_){var w=null;if(m&&m.hasAttribute("formAction")){if(d=m,_=m[Yt]||null)w=_.formAction;else if(bm(d)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Uv(a)}}}function zv(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function wm(t){this._internalRoot=t}fh.prototype.render=wm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=Hn();Dv(a,l,t,s,null,null)},fh.prototype.unmount=wm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Dv(t.current,2,null,t,null,null),Kc(),s[Os]=null}};function fh(t){this._internalRoot=t}fh.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ku();t={blockedOn:null,target:t,priority:s};for(var a=0;a<pi.length&&s!==0&&s<pi[a].priority;a++);pi.splice(a,0,t),a===0&&Lv(t)}};var Bv=e.version;if(Bv!=="19.2.0")throw Error(i(527,Bv,"19.2.0"));le.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=y(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var e1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{_n=mh.inject(e1),$=mh}catch{}}return ru.createRoot=function(t,s){if(!o(t))throw Error(i(299));var a=!1,l="",d=Yy,m=$y,_=Xy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=Rv(t,1,!1,null,null,a,l,null,d,m,_,zv),t[Os]=s.current,rm(t),new wm(s)},ru.hydrateRoot=function(t,s,a){if(!o(t))throw Error(i(299));var l=!1,d="",m=Yy,_=$y,w=Xy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),s=Rv(t,1,!0,s,a??null,l,d,O,m,_,w,zv),s.context=Iv(null),a=s.current,l=Hn(),l=Ji(l),d=ei(l),d.callback=null,ti(a,d,l),a=l,s.current.lanes=a,js(s,a),$s(s),t[Os]=s.current,rm(t),new fh(s)},ru.version="19.2.0",ru}var Wv;function c1(){if(Wv)return Am.exports;Wv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=u1(),Am.exports}var h1=c1();const d1=Px(h1);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jv="popstate";function f1(r={}){function e(o,u){let{pathname:h="/",search:p="",hash:g=""}=ja(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Gm("",{pathname:h,search:p,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof u=="string"?u:vu(u))}function i(o,u){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return p1(e,n,i,r)}function xt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m1(){return Math.random().toString(36).substring(2,10)}function Zv(r,e){return{usr:r.state,key:r.key,idx:e}}function Gm(r,e,n=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ja(e):e,state:n,key:e&&e.key||i||m1()}}function vu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ja(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function p1(r,e,n,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,h=o.history,p="POP",g=null,y=b();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function b(){return(h.state||{idx:null}).idx}function E(){p="POP";let P=b(),te=P==null?null:P-y;y=P,g&&g({action:p,location:z.location,delta:te})}function T(P,te){p="PUSH";let re=Gm(z.location,P,te);n&&n(re,P),y=b()+1;let Z=Zv(re,y),fe=z.createHref(re);try{h.pushState(Z,"",fe)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(fe)}u&&g&&g({action:p,location:z.location,delta:1})}function k(P,te){p="REPLACE";let re=Gm(z.location,P,te);n&&n(re,P),y=b();let Z=Zv(re,y),fe=z.createHref(re);h.replaceState(Z,"",fe),u&&g&&g({action:p,location:z.location,delta:0})}function B(P){return g1(P)}let z={get action(){return p},get location(){return r(o,h)},listen(P){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Jv,E),g=P,()=>{o.removeEventListener(Jv,E),g=null}},createHref(P){return e(o,P)},createURL:B,encodeLocation(P){let te=B(P);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:T,replace:k,go(P){return h.go(P)}};return z}function g1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),xt(n,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:vu(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function Ux(r,e,n="/"){return y1(r,e,n,!1)}function y1(r,e,n,i){let o=typeof e=="string"?ja(e):e,u=Dr(o.pathname||"/",n);if(u==null)return null;let h=zx(r);v1(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=R1(u);p=N1(h[g],y,i)}return p}function zx(r,e=[],n=[],i="",o=!1){let u=(h,p,g=o,y)=>{let b={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(i)&&g)return;xt(b.relativePath.startsWith(i),`Absolute route path "${b.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(i.length)}let E=Ir([i,b.relativePath]),T=n.concat(b);h.children&&h.children.length>0&&(xt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),zx(h.children,e,T,E,g)),!(h.path==null&&!h.index)&&e.push({path:E,score:S1(E,h.index),routesMeta:T})};return r.forEach((h,p)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))u(h,p);else for(let y of Bx(h.path))u(h,p,!0,y)}),e}function Bx(r){let e=r.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let h=Bx(i.join("/")),p=[];return p.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...h),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function v1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:A1(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var _1=/^:[\w-]+$/,x1=3,b1=2,E1=1,w1=10,T1=-2,e_=r=>r==="*";function S1(r,e){let n=r.split("/"),i=n.length;return n.some(e_)&&(i+=T1),e&&(i+=b1),n.filter(o=>!e_(o)).reduce((o,u)=>o+(_1.test(u)?x1:u===""?E1:w1),i)}function A1(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function N1(r,e,n=!1){let{routesMeta:i}=r,o={},u="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,b=u==="/"?e:e.slice(u.length)||"/",E=Lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),T=g.route;if(!E&&y&&n&&!i[i.length-1].route.index&&(E=Lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:Ir([u,E.pathname]),pathnameBase:M1(Ir([u,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(u=Ir([u,E.pathnameBase]))}return h}function Lh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,i]=C1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:b,isOptional:E},T)=>{if(b==="*"){let B=p[T]||"";h=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const k=p[T];return E&&!k?y[b]=void 0:y[b]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:r}}function C1(r,e=!1,n=!0){Kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function R1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Dr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=r.charAt(n);return i&&i!=="/"?null:r.slice(n)||"/"}var I1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D1=r=>I1.test(r);function j1(r,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof r=="string"?ja(r):r,u;if(n)if(D1(n))u=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),Kn(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${n}`)}n.startsWith("/")?u=t_(n.substring(1),"/"):u=t_(n,e)}else u=e;return{pathname:u,search:V1(i),hash:k1(o)}}function t_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Im(r,e,n,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _p(r){let e=O1(r);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function xp(r,e,n,i=!1){let o;typeof r=="string"?o=ja(r):(o={...r},xt(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),xt(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),xt(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,p;if(h==null)p=n;else{let E=e.length-1;if(!i&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}p=E>=0?e[E]:"/"}let g=j1(o,p),y=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var Ir=r=>r.join("/").replace(/\/\/+/g,"/"),M1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),V1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,k1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function L1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qx=["POST","PUT","PATCH","DELETE"];new Set(qx);var P1=["GET",...qx];new Set(P1);var Qo=D.createContext(null);Qo.displayName="DataRouter";var ad=D.createContext(null);ad.displayName="DataRouterState";D.createContext(!1);var Hx=D.createContext({isTransitioning:!1});Hx.displayName="ViewTransition";var U1=D.createContext(new Map);U1.displayName="Fetchers";var z1=D.createContext(null);z1.displayName="Await";var Ns=D.createContext(null);Ns.displayName="Navigation";var Ru=D.createContext(null);Ru.displayName="Location";var Cs=D.createContext({outlet:null,matches:[],isDataRoute:!1});Cs.displayName="Route";var bp=D.createContext(null);bp.displayName="RouteError";function B1(r,{relative:e}={}){xt(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=D.useContext(Ns),{hash:o,pathname:u,search:h}=Iu(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:Ir([n,u])),i.createHref({pathname:p,search:h,hash:o})}function Ko(){return D.useContext(Ru)!=null}function kr(){return xt(Ko(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Ru).location}var Fx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gx(r){D.useContext(Ns).static||D.useLayoutEffect(r)}function Pi(){let{isDataRoute:r}=D.useContext(Cs);return r?eS():q1()}function q1(){xt(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let r=D.useContext(Qo),{basename:e,navigator:n}=D.useContext(Ns),{matches:i}=D.useContext(Cs),{pathname:o}=kr(),u=JSON.stringify(_p(i)),h=D.useRef(!1);return Gx(()=>{h.current=!0}),D.useCallback((g,y={})=>{if(Kn(h.current,Fx),!h.current)return;if(typeof g=="number"){n.go(g);return}let b=xp(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Ir([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,u,o,r])}D.createContext(null);function Qx(){let{matches:r}=D.useContext(Cs),e=r[r.length-1];return e?e.params:{}}function Iu(r,{relative:e}={}){let{matches:n}=D.useContext(Cs),{pathname:i}=kr(),o=JSON.stringify(_p(n));return D.useMemo(()=>xp(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function H1(r,e){return Kx(r,e)}function Kx(r,e,n,i,o){var re;xt(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=D.useContext(Ns),{matches:h}=D.useContext(Cs),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",b=p?p.pathnameBase:"/",E=p&&p.route;{let Z=E&&E.path||"";Yx(y,!E||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let T=kr(),k;if(e){let Z=typeof e=="string"?ja(e):e;xt(b==="/"||((re=Z.pathname)==null?void 0:re.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),k=Z}else k=T;let B=k.pathname||"/",z=B;if(b!=="/"){let Z=b.replace(/^\//,"").split("/");z="/"+B.replace(/^\//,"").split("/").slice(Z.length).join("/")}let P=Ux(r,{pathname:z});Kn(E||P!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Kn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=Y1(P&&P.map(Z=>Object.assign({},Z,{params:Object.assign({},g,Z.params),pathname:Ir([b,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?b:Ir([b,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),h,n,i,o);return e&&te?D.createElement(Ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},te):te}function F1(){let r=Z1(),e=L1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,h)}var G1=D.createElement(F1,null),Q1=class extends D.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?D.createElement(Cs.Provider,{value:this.props.routeContext},D.createElement(bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function K1({routeContext:r,match:e,children:n}){let i=D.useContext(Qo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Cs.Provider,{value:r},n)}function Y1(r,e=[],n=null,i=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n==null?void 0:n.errors;if(h!=null){let b=u.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);xt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let p=!1,g=-1;if(n)for(let b=0;b<u.length;b++){let E=u[b];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=b),E.route.id){let{loaderData:T,errors:k}=n,B=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!k||k[E.route.id]===void 0);if(E.route.lazy||B){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&i?(b,E)=>{var T,k;i(b,{location:n.location,params:((k=(T=n.matches)==null?void 0:T[0])==null?void 0:k.params)??{},errorInfo:E})}:void 0;return u.reduceRight((b,E,T)=>{let k,B=!1,z=null,P=null;n&&(k=h&&E.route.id?h[E.route.id]:void 0,z=E.route.errorElement||G1,p&&(g<0&&T===0?(Yx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,P=null):g===T&&(B=!0,P=E.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,T+1)),re=()=>{let Z;return k?Z=z:B?Z=P:E.route.Component?Z=D.createElement(E.route.Component,null):E.route.element?Z=E.route.element:Z=b,D.createElement(K1,{match:E,routeContext:{outlet:b,matches:te,isDataRoute:n!=null},children:Z})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?D.createElement(Q1,{location:n.location,revalidation:n.revalidation,component:z,error:k,children:re(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:y}):re()},null)}function Ep(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(r){let e=D.useContext(Qo);return xt(e,Ep(r)),e}function X1(r){let e=D.useContext(ad);return xt(e,Ep(r)),e}function W1(r){let e=D.useContext(Cs);return xt(e,Ep(r)),e}function wp(r){let e=W1(r),n=e.matches[e.matches.length-1];return xt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function J1(){return wp("useRouteId")}function Z1(){var i;let r=D.useContext(bp),e=X1("useRouteError"),n=wp("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[n]}function eS(){let{router:r}=$1("useNavigate"),e=wp("useNavigate"),n=D.useRef(!1);return Gx(()=>{n.current=!0}),D.useCallback(async(o,u={})=>{Kn(n.current,Fx),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var n_={};function Yx(r,e,n){!e&&!n_[r]&&(n_[r]=!0,Kn(!1,n))}D.memo(tS);function tS({routes:r,future:e,state:n,unstable_onError:i}){return Kx(r,void 0,n,i,e)}function Th({to:r,replace:e,state:n,relative:i}){xt(Ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Ns);Kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=D.useContext(Cs),{pathname:h}=kr(),p=Pi(),g=xp(r,_p(u),h,i==="path"),y=JSON.stringify(g);return D.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:i})},[p,y,i,e,n]),null}function cs(r){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nS({basename:r="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:u=!1}){xt(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ja(n));let{pathname:g="/",search:y="",hash:b="",state:E=null,key:T="default"}=n,k=D.useMemo(()=>{let B=Dr(g,h);return B==null?null:{location:{pathname:B,search:y,hash:b,state:E,key:T},navigationType:i}},[h,g,y,b,E,T,i]);return Kn(k!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:D.createElement(Ns.Provider,{value:p},D.createElement(Ru.Provider,{children:e,value:k}))}function sS({children:r,location:e}){return H1(Qm(r),e)}function Qm(r,e=[]){let n=[];return D.Children.forEach(r,(i,o)=>{if(!D.isValidElement(i))return;let u=[...e,o];if(i.type===D.Fragment){n.push.apply(n,Qm(i.props.children,u));return}xt(i.type===cs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Qm(i.props.children,u)),n.push(h)}),n}var Sh="get",Ah="application/x-www-form-urlencoded";function od(r){return r!=null&&typeof r.tagName=="string"}function rS(r){return od(r)&&r.tagName.toLowerCase()==="button"}function iS(r){return od(r)&&r.tagName.toLowerCase()==="form"}function aS(r){return od(r)&&r.tagName.toLowerCase()==="input"}function oS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function lS(r,e){return r.button===0&&(!e||e==="_self")&&!oS(r)}var ph=null;function uS(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var cS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(r){return r!=null&&!cS.has(r)?(Kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):r}function hS(r,e){let n,i,o,u,h;if(iS(r)){let p=r.getAttribute("action");i=p?Dr(p,e):null,n=r.getAttribute("method")||Sh,o=Dm(r.getAttribute("enctype"))||Ah,u=new FormData(r)}else if(rS(r)||aS(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(i=g?Dr(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Sh,o=Dm(r.getAttribute("formenctype"))||Dm(p.getAttribute("enctype"))||Ah,u=new FormData(p,r),!uS()){let{name:y,type:b,value:E}=r;if(b==="image"){let T=y?`${y}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else y&&u.append(y,E)}}else{if(od(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sh,i=null,o=Ah,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function dS(r,e,n){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Dr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function fS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function pS(r,e,n){let i=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await fS(u,n);return h.links?h.links():[]}return[]}));return _S(i.flat(1).filter(mS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function s_(r,e,n,i,o,u){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>{var b;return n[y].pathname!==g.pathname||((b=n[y].route.path)==null?void 0:b.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{var E;let b=i.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function gS(r,e,{includeHydrateFallback:n}={}){return yS(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yS(r){return[...new Set(r)]}function vS(r){let e={},n=Object.keys(r).sort();for(let i of n)e[i]=r[i];return e}function _S(r,e){let n=new Set;return new Set(e),r.reduce((i,o)=>{let u=JSON.stringify(vS(o));return n.has(u)||(n.add(u),i.push({key:u,link:o})),i},[])}function $x(){let r=D.useContext(Qo);return Tp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xS(){let r=D.useContext(ad);return Tp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Sp=D.createContext(void 0);Sp.displayName="FrameworkContext";function Xx(){let r=D.useContext(Sp);return Tp(r,"You must render this element inside a <HydratedRouter> element"),r}function bS(r,e){let n=D.useContext(Sp),[i,o]=D.useState(!1),[u,h]=D.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:E}=e,T=D.useRef(null);D.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let z=te=>{te.forEach(re=>{h(re.isIntersecting)})},P=new IntersectionObserver(z,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[r]),D.useEffect(()=>{if(i){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[i]);let k=()=>{o(!0)},B=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,T,{}]:[u,T,{onFocus:iu(p,k),onBlur:iu(g,B),onMouseEnter:iu(y,k),onMouseLeave:iu(b,B),onTouchStart:iu(E,k)}]:[!1,T,{}]}function iu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function ES({page:r,...e}){let{router:n}=$x(),i=D.useMemo(()=>Ux(n.routes,r,n.basename),[n.routes,r,n.basename]);return i?D.createElement(TS,{page:r,matches:i,...e}):null}function wS(r){let{manifest:e,routeModules:n}=Xx(),[i,o]=D.useState([]);return D.useEffect(()=>{let u=!1;return pS(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),i}function TS({page:r,matches:e,...n}){let i=kr(),{manifest:o,routeModules:u}=Xx(),{basename:h}=$x(),{loaderData:p,matches:g}=xS(),y=D.useMemo(()=>s_(r,e,g,o,i,"data"),[r,e,g,o,i]),b=D.useMemo(()=>s_(r,e,g,o,i,"assets"),[r,e,g,o,i]),E=D.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let B=new Set,z=!1;if(e.forEach(te=>{var Z;let re=o.routes[te.route.id];!re||!re.hasLoader||(!y.some(fe=>fe.route.id===te.route.id)&&te.route.id in p&&((Z=u[te.route.id])!=null&&Z.shouldRevalidate)||re.hasClientLoader?z=!0:B.add(te.route.id))}),B.size===0)return[];let P=dS(r,h,"data");return z&&B.size>0&&P.searchParams.set("_routes",e.filter(te=>B.has(te.route.id)).map(te=>te.route.id).join(",")),[P.pathname+P.search]},[h,p,i,o,y,e,r,u]),T=D.useMemo(()=>gS(b,o),[b,o]),k=wS(b);return D.createElement(D.Fragment,null,E.map(B=>D.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),T.map(B=>D.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),k.map(({key:B,link:z})=>D.createElement("link",{key:B,nonce:n.nonce,...z})))}function SS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Wx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wx&&(window.__reactRouterVersion="7.9.6")}catch{}function AS({basename:r,children:e,window:n}){let i=D.useRef();i.current==null&&(i.current=f1({window:n,v5Compat:!0}));let o=i.current,[u,h]=D.useState({action:o.action,location:o.location}),p=D.useCallback(g=>{D.startTransition(()=>h(g))},[h]);return D.useLayoutEffect(()=>o.listen(p),[o,p]),D.createElement(nS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var Jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=D.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:u,replace:h,state:p,target:g,to:y,preventScrollReset:b,viewTransition:E,...T},k){let{basename:B}=D.useContext(Ns),z=typeof y=="string"&&Jx.test(y),P,te=!1;if(typeof y=="string"&&z&&(P=y,Wx))try{let I=new URL(window.location.href),V=y.startsWith("//")?new URL(I.protocol+y):new URL(y),M=Dr(V.pathname,B);V.origin===I.origin&&M!=null?y=M+V.search+V.hash:te=!0}catch{Kn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=B1(y,{relative:o}),[Z,fe,oe]=bS(i,T),de=IS(y,{replace:h,state:p,target:g,preventScrollReset:b,relative:o,viewTransition:E});function R(I){e&&e(I),I.defaultPrevented||de(I)}let C=D.createElement("a",{...T,...oe,href:P||re,onClick:te||u?e:R,ref:SS(k,fe),target:g,"data-discover":!z&&n==="render"?"true":void 0});return Z&&!z?D.createElement(D.Fragment,null,C,D.createElement(ES,{page:re})):C});Dt.displayName="Link";var NS=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:u,to:h,viewTransition:p,children:g,...y},b){let E=Iu(h,{relative:y.relative}),T=kr(),k=D.useContext(ad),{navigator:B,basename:z}=D.useContext(Ns),P=k!=null&&VS(E)&&p===!0,te=B.encodeLocation?B.encodeLocation(E).pathname:E.pathname,re=T.pathname,Z=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(re=re.toLowerCase(),Z=Z?Z.toLowerCase():null,te=te.toLowerCase()),Z&&z&&(Z=Dr(Z,z)||Z);const fe=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let oe=re===te||!o&&re.startsWith(te)&&re.charAt(fe)==="/",de=Z!=null&&(Z===te||!o&&Z.startsWith(te)&&Z.charAt(te.length)==="/"),R={isActive:oe,isPending:de,isTransitioning:P},C=oe?e:void 0,I;typeof i=="function"?I=i(R):I=[i,oe?"active":null,de?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(R):u;return D.createElement(Dt,{...y,"aria-current":C,className:I,ref:b,style:V,to:h,viewTransition:p},typeof g=="function"?g(R):g)});NS.displayName="NavLink";var CS=D.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:u,method:h=Sh,action:p,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:E,...T},k)=>{let B=OS(),z=MS(p,{relative:y}),P=h.toLowerCase()==="get"?"get":"post",te=typeof p=="string"&&Jx.test(p),re=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let fe=Z.nativeEvent.submitter,oe=(fe==null?void 0:fe.getAttribute("formmethod"))||h;B(fe||Z.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:y,preventScrollReset:b,viewTransition:E})};return D.createElement("form",{ref:k,method:P,action:z,onSubmit:i?g:re,...T,"data-discover":!te&&r==="render"?"true":void 0})});CS.displayName="Form";function RS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zx(r){let e=D.useContext(Qo);return xt(e,RS(r)),e}function IS(r,{target:e,replace:n,state:i,preventScrollReset:o,relative:u,viewTransition:h}={}){let p=Pi(),g=kr(),y=Iu(r,{relative:u});return D.useCallback(b=>{if(lS(b,e)){b.preventDefault();let E=n!==void 0?n:vu(g)===vu(y);p(r,{replace:E,state:i,preventScrollReset:o,relative:u,viewTransition:h})}},[g,p,y,n,i,e,r,o,u,h])}var DS=0,jS=()=>`__${String(++DS)}__`;function OS(){let{router:r}=Zx("useSubmit"),{basename:e}=D.useContext(Ns),n=J1();return D.useCallback(async(i,o={})=>{let{action:u,method:h,encType:p,formData:g,body:y}=hS(i,e);if(o.navigate===!1){let b=o.fetcherKey||jS();await r.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function MS(r,{relative:e}={}){let{basename:n}=D.useContext(Ns),i=D.useContext(Cs);xt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Iu(r||".",{relative:e})},h=kr();if(r==null){u.search=h.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(b=>b==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let b=p.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ir([n,u.pathname])),vu(u)}function VS(r,{relative:e}={}){let n=D.useContext(Hx);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Zx("useViewTransitionState"),o=Iu(r,{relative:e});if(!n.isTransitioning)return!1;let u=Dr(n.currentLocation.pathname,i)||n.currentLocation.pathname,h=Dr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Lh(o.pathname,h)!=null||Lh(o.pathname,u)!=null}var _t=(r=>(r.ADMIN="admin",r.USER="user",r))(_t||{}),Ao=(r=>(r.CONFIRMED="confirmed",r.CANCELED="canceled",r.WAITLIST="waitlist",r))(Ao||{});const Zt=r=>{if(!r)return"";if(r.match(/^\d{4}-\d{2}-\d{2}$/)){const[e,n,i]=r.split("-");return`${i}/${n}/${e}`}try{const e=new Date(r);return isNaN(e.getTime())?r:new Intl.DateTimeFormat("pt-BR").format(e)}catch{return r}},Ap={useFirebase:!0,firebase:{apiKey:"AIzaSyBOUAqkPhqFhsIkZVh97OJau-SzQug1PBE",authDomain:"eduevent-e50f4.firebaseapp.com",projectId:"eduevent-e50f4",storageBucket:"eduevent-e50f4.firebasestorage.app",messagingSenderId:"964945250582",appId:"1:964945250582:web:3ce9fcdad019132561a837",measurementId:"G-KCLHFXEEML"}},kS=()=>{};var r_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=function(r){const e=[];let n=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},LS=function(r){const e=[];let n=0,i=0;for(;n<r.length;){const o=r[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],h=r[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},tb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,p=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,b=u>>2,E=(u&3)<<4|p>>4;let T=(p&15)<<2|y>>6,k=y&63;g||(k=64,h||(T=64)),i.push(n[b],n[E],n[T],n[k])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(eb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):LS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||E==null)throw new PS;const T=u<<2|p>>4;if(i.push(T),y!==64){const k=p<<4&240|y>>2;if(i.push(k),E!==64){const B=y<<6&192|E;i.push(B)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class PS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(r){const e=eb(r);return tb.encodeByteArray(e,!0)},Ph=function(r){return US(r).replace(/\./g,"")},nb=function(r){try{return tb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=()=>zS().__FIREBASE_DEFAULTS__,qS=()=>{if(typeof process>"u"||typeof r_>"u")return;const r=r_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},HS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&nb(r[1]);return e&&JSON.parse(e)},ld=()=>{try{return kS()||BS()||qS()||HS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},sb=r=>{var e,n;return(n=(e=ld())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},FS=r=>{const e=sb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},rb=()=>{var r;return(r=ld())==null?void 0:r.config},ib=r=>{var e;return(e=ld())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ab(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ph(JSON.stringify(n)),Ph(JSON.stringify(h)),""].join(".")}const hu={};function KS(){const r={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?r.emulator.push(e):r.prod.push(e);return r}function YS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let i_=!1;function ob(r,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||hu[r]===e||hu[r]||i_)return;hu[r]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",u=KS().prod.length>0;function h(){const T=document.getElementById(i);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,k){T.setAttribute("width","24"),T.setAttribute("id",k),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{i_=!0,h()},T}function b(T,k){T.setAttribute("id",k),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=YS(i),k=n("text"),B=document.getElementById(k)||document.createElement("span"),z=n("learnmore"),P=document.getElementById(z)||document.createElement("a"),te=n("preprendIcon"),re=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Z=T.element;p(Z),b(P,z);const fe=y();g(re,te),Z.append(re,B,P,fe),document.body.appendChild(Z)}u?(B.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function XS(){var e;const r=(e=ld())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ZS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eA(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tA(){return!XS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nA(){try{return typeof indexedDB=="object"}catch{return!1}}function sA(){return new Promise((r,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="FirebaseError";class Lr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=rA,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?iA(u,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Lr(o,p,i)}}function iA(r,e){return r.replace(aA,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const aA=/\{\$([^}]+)}/g;function oA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Na(r,e){if(r===e)return!0;const n=Object.keys(r),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const u=r[o],h=e[o];if(a_(u)&&a_(h)){if(!Na(u,h))return!1}else if(u!==h)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function a_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(r){const e=[];for(const[n,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function au(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ou(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function lA(r,e){const n=new uA(r,e);return n.subscribe.bind(n)}class uA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");cA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=jm),o.error===void 0&&(o.error=jm),o.complete===void 0&&(o.complete=jm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cA(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(r){return r&&r._delegate?r._delegate:r}class Ca{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new GS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fA(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);i===p&&h.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:dA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dA(r){return r===Ta?void 0:r}function fA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(He||(He={}));const pA={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},gA=He.INFO,yA={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},vA=(r,e,...n)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=yA[e];if(o)console[o](`[${i}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Np{constructor(e){this.name=e,this._logLevel=gA,this._logHandler=vA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const _A=(r,e)=>e.some(n=>r instanceof n);let o_,l_;function xA(){return o_||(o_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bA(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lb=new WeakMap,Km=new WeakMap,ub=new WeakMap,Om=new WeakMap,Cp=new WeakMap;function EA(r){const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Si(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&lb.set(n,r)}).catch(()=>{}),Cp.set(e,r),e}function wA(r){if(Km.has(r))return;const e=new Promise((n,i)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Km.set(r,e)}let Ym={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Km.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ub.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function TA(r){Ym=r(Ym)}function SA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=r.call(Mm(this),e,...n);return ub.set(i,e.sort?e.sort():[e]),Si(i)}:bA().includes(r)?function(...e){return r.apply(Mm(this),e),Si(lb.get(this))}:function(...e){return Si(r.apply(Mm(this),e))}}function AA(r){return typeof r=="function"?SA(r):(r instanceof IDBTransaction&&wA(r),_A(r,xA())?new Proxy(r,Ym):r)}function Si(r){if(r instanceof IDBRequest)return EA(r);if(Om.has(r))return Om.get(r);const e=AA(r);return e!==r&&(Om.set(r,e),Cp.set(e,r)),e}const Mm=r=>Cp.get(r);function NA(r,e,{blocked:n,upgrade:i,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),p=Si(h);return i&&h.addEventListener("upgradeneeded",g=>{i(Si(h.result),g.oldVersion,g.newVersion,Si(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const CA=["get","getKey","getAll","getAllKeys","count"],RA=["put","add","delete","clear"],Vm=new Map;function u_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=RA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||CA.includes(n)))return;const u=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Vm.set(e,u),u}TA(r=>({...r,get:(e,n,i)=>u_(e,n)||r.get(e,n,i),has:(e,n)=>!!u_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function DA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",c_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new Np("@firebase/app"),jA="@firebase/app-compat",OA="@firebase/analytics-compat",MA="@firebase/analytics",VA="@firebase/app-check-compat",kA="@firebase/app-check",LA="@firebase/auth",PA="@firebase/auth-compat",UA="@firebase/database",zA="@firebase/data-connect",BA="@firebase/database-compat",qA="@firebase/functions",HA="@firebase/functions-compat",FA="@firebase/installations",GA="@firebase/installations-compat",QA="@firebase/messaging",KA="@firebase/messaging-compat",YA="@firebase/performance",$A="@firebase/performance-compat",XA="@firebase/remote-config",WA="@firebase/remote-config-compat",JA="@firebase/storage",ZA="@firebase/storage-compat",eN="@firebase/firestore",tN="@firebase/ai",nN="@firebase/firestore-compat",sN="firebase",rN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",iN={[$m]:"fire-core",[jA]:"fire-core-compat",[MA]:"fire-analytics",[OA]:"fire-analytics-compat",[kA]:"fire-app-check",[VA]:"fire-app-check-compat",[LA]:"fire-auth",[PA]:"fire-auth-compat",[UA]:"fire-rtdb",[zA]:"fire-data-connect",[BA]:"fire-rtdb-compat",[qA]:"fire-fn",[HA]:"fire-fn-compat",[FA]:"fire-iid",[GA]:"fire-iid-compat",[QA]:"fire-fcm",[KA]:"fire-fcm-compat",[YA]:"fire-perf",[$A]:"fire-perf-compat",[XA]:"fire-rc",[WA]:"fire-rc-compat",[JA]:"fire-gcs",[ZA]:"fire-gcs-compat",[eN]:"fire-fst",[nN]:"fire-fst-compat",[tN]:"fire-vertex","fire-js":"fire-js",[sN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,aN=new Map,Wm=new Map;function h_(r,e){try{r.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Po(r){const e=r.name;if(Wm.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,r);for(const n of Uh.values())h_(n,r);for(const n of aN.values())h_(n,r);return!0}function Rp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ws(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Du("app","Firebase",oN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=rN;function cb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const i={name:Xm,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ai.create("bad-app-name",{appName:String(o)});if(n||(n=rb()),!n)throw Ai.create("no-options");const u=Uh.get(o);if(u){if(Na(n,u.options)&&Na(i,u.config))return u;throw Ai.create("duplicate-app",{appName:o})}const h=new mA(o);for(const g of Wm.values())h.addComponent(g);const p=new lN(n,i,h);return Uh.set(o,p),p}function hb(r=Xm){const e=Uh.get(r);if(!e&&r===Xm&&rb())return cb();if(!e)throw Ai.create("no-app",{appName:r});return e}function Ni(r,e,n){let i=iN[r]??r;n&&(i+=`-${n}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(h.join(" "));return}Po(new Ca(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="firebase-heartbeat-database",cN=1,_u="firebase-heartbeat-store";let km=null;function db(){return km||(km=NA(uN,cN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_u)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ai.create("idb-open",{originalErrorMessage:r.message})})),km}async function hN(r){try{const n=(await db()).transaction(_u),i=await n.objectStore(_u).get(fb(r));return await n.done,i}catch(e){if(e instanceof Lr)jr.warn(e.message);else{const n=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(n.message)}}}async function d_(r,e){try{const i=(await db()).transaction(_u,"readwrite");await i.objectStore(_u).put(e,fb(r)),await i.done}catch(n){if(n instanceof Lr)jr.warn(n.message);else{const i=Ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jr.warn(i.message)}}}function fb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=1024,fN=30;class mN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=f_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>fN){const h=yN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){jr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f_(),{heartbeatsToSend:i,unsentEntries:o}=pN(this._heartbeatsCache.heartbeats),u=Ph(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return jr.warn(n),""}}}function f_(){return new Date().toISOString().substring(0,10)}function pN(r,e=dN){const n=[];let i=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),m_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),m_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class gN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nA()?sA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function m_(r){return Ph(JSON.stringify({version:2,heartbeats:r})).length}function yN(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let i=1;i<r.length;i++)r[i].date<n&&(n=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(r){Po(new Ca("platform-logger",e=>new IA(e),"PRIVATE")),Po(new Ca("heartbeat",e=>new mN(e),"PRIVATE")),Ni($m,c_,r),Ni($m,c_,"esm2020"),Ni("fire-js","")}vN("");var _N="firebase",xN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(_N,xN,"app");function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bN=mb,pb=new Du("auth","Firebase",mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Np("@firebase/auth");function EN(r,...e){zh.logLevel<=He.WARN&&zh.warn(`Auth (${$o}): ${r}`,...e)}function Nh(r,...e){zh.logLevel<=He.ERROR&&zh.error(`Auth (${$o}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(r,...e){throw Ip(r,...e)}function Js(r,...e){return Ip(r,...e)}function gb(r,e,n){const i={...bN(),[e]:n};return new Du("auth","Firebase",i).create(e,{appName:r.name})}function Ci(r){return gb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(r,...e){if(typeof r!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(n,...i)}return pb.create(r,...e)}function De(r,e,...n){if(!r)throw Ip(e,...n)}function Cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Nh(e),new Error(e)}function Or(r,e){r||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function wN(){return p_()==="http:"||p_()==="https:"}function p_(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wN()||JS()||"connection"in navigator)?navigator.onLine:!0}function SN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=$S()||ZS()}get(){return TN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(r,e){Or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CN=new Ou(3e4,6e4);function Oa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ui(r,e,n,i,o={}){return vb(r,o,async()=>{let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});const p=ju({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return WS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Yo(r.emulatorConfig.host)&&(y.credentials="include"),yb.fetch()(await _b(r,r.config.apiHost,n,p),y)})}async function vb(r,e,n){r._canInitEmulator=!1;const i={...AN,...e};try{const o=new IN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw gh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const p=u.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw gh(r,"user-disabled",h);const b=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw gb(r,b,y);Ss(r,b)}}catch(o){if(o instanceof Lr)throw o;Ss(r,"network-request-failed",{message:String(o)})}}async function ud(r,e,n,i,o={}){const u=await Ui(r,e,n,i,o);return"mfaPendingCredential"in u&&Ss(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function _b(r,e,n,i){const o=`${e}${n}?${i}`,u=r,h=u.config.emulator?Dp(r.config,o):`${r.config.apiScheme}://${o}`;return NN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function RN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class IN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Js(this.auth,"network-request-failed")),CN.get())})}}function gh(r,e,n){const i={appName:r.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Js(r,e,i);return o.customData._tokenResponse=n,o}function g_(r){return r!==void 0&&r.enterprise!==void 0}class DN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return RN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jN(r,e){return Ui(r,"GET","/v2/recaptchaConfig",Oa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(r,e){return Ui(r,"POST","/v1/accounts:delete",e)}async function Bh(r,e){return Ui(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MN(r,e=!1){const n=Ot(r),i=await n.getIdToken(e),o=jp(i);De(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:i,authTime:du(Lm(o.auth_time)),issuedAtTime:du(Lm(o.iat)),expirationTime:du(Lm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Lm(r){return Number(r)*1e3}function jp(r){const[e,n,i]=r.split(".");if(e===void 0||n===void 0||i===void 0)return Nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=nb(n);return o?JSON.parse(o):(Nh("Failed to decode base64 JWT payload"),null)}catch(o){return Nh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function y_(r){const e=jp(r);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(r,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Lr&&VN(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function VN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(r){var E;const e=r.auth,n=await r.getIdToken(),i=await xu(r,Bh(e,{idToken:n}));De(i==null?void 0:i.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const u=(E=o.providerUserInfo)!=null&&E.length?xb(o.providerUserInfo):[],h=PN(r.providerData,u),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!(h!=null&&h.length),y=p?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function LN(r){const e=Ot(r);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PN(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function xb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(r,e){const n=await vb(r,{},async()=>{const i=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await _b(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return r.emulatorConfig&&Yo(r.emulatorConfig.host)&&(g.credentials="include"),yb.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zN(r,e){return Ui(r,"POST","/v2/accounts:revokeToken",Oa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){De(e.length!==0,"internal-error");const n=y_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:u}=await UN(e,n);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:u}=n,h=new Oo;return i&&(De(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(De(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(De(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(r,e){De(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ts{constructor({uid:e,auth:n,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new kN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xu(this,this.stsTokenManager.getToken(this.auth,e));return De(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MN(this,e)}reload(){return LN(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await qh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ws(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await xu(this,ON(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:k,providerData:B,stsTokenManager:z}=n;De(E&&z,e,"internal-error");const P=Oo.fromJSON(this.name,z);De(typeof E=="string",e,"internal-error"),yi(i,e.name),yi(o,e.name),De(typeof T=="boolean",e,"internal-error"),De(typeof k=="boolean",e,"internal-error"),yi(u,e.name),yi(h,e.name),yi(p,e.name),yi(g,e.name),yi(y,e.name),yi(b,e.name);const te=new Ts({uid:E,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:p,stsTokenManager:P,createdAt:y,lastLoginAt:b});return B&&Array.isArray(B)&&(te.providerData=B.map(re=>({...re}))),g&&(te._redirectEventId=g),te}static async _fromIdTokenResponse(e,n,i=!1){const o=new Oo;o.updateFromServerResponse(n);const u=new Ts({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await qh(u),u}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];De(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new Oo;p.updateFromIdToken(i);const g=new Ts({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;function Rr(r){Or(r instanceof Function,"Expected a class definition");let e=v_.get(r);return e?(Or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,v_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bb.type="NONE";const __=bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(r,e,n){return`firebase:${r}:${e}:${n}`}class Mo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=Ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ch("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bh(this.auth,{idToken:e}).catch(()=>{});return n?Ts._fromGetAccountInfoResponse(this.auth,n,e):null}return Ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Mo(Rr(__),e,i);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Rr(__);const h=Ch(i,e.config.apiKey,e.name);let p=null;for(const y of n)try{const b=await y._get(h);if(b){let E;if(typeof b=="string"){const T=await Bh(e,{idToken:b}).catch(()=>{});if(!T)break;E=await Ts._fromGetAccountInfoResponse(e,T,b)}else E=Ts._fromJSON(e,b);y!==u&&(p=E),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Mo(u,e,i):(u=g[0],p&&await u._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new Mo(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nb(e))return"Blackberry";if(Cb(e))return"Webos";if(wb(e))return"Safari";if((e.includes("chrome/")||Tb(e))&&!e.includes("edge/"))return"Chrome";if(Ab(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Eb(r=pn()){return/firefox\//i.test(r)}function wb(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tb(r=pn()){return/crios\//i.test(r)}function Sb(r=pn()){return/iemobile/i.test(r)}function Ab(r=pn()){return/android/i.test(r)}function Nb(r=pn()){return/blackberry/i.test(r)}function Cb(r=pn()){return/webos/i.test(r)}function Op(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BN(r=pn()){var e;return Op(r)&&!!((e=window.navigator)!=null&&e.standalone)}function qN(){return eA()&&document.documentMode===10}function Rb(r=pn()){return Op(r)||Ab(r)||Cb(r)||Nb(r)||/windows phone/i.test(r)||Sb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(r,e=[]){let n;switch(r){case"Browser":n=x_(pn());break;case"Worker":n=`${x_(pn())}-${r}`;break;default:n=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((h,p)=>{try{const g=e(u);h(g)}catch(g){p(g)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(r,e={}){return Ui(r,"GET","/v2/passwordPolicy",Oa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=6;class QN{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new HN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var i,o,u;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bh(this,{idToken:e}),i=await Ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(ws(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=i==null?void 0:i._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===p)&&(g!=null&&g.user)&&(i=g.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(h){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ws(this.app))return Promise.reject(Ci(this));const n=e?Ot(e):null;return n&&De(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ws(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ws(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FN(this),n=new QN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await zN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;De(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(p,this,"internal-error"),p.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ib(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(ws(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&EN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xo(r){return Ot(r)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=lA(n=>this.observer=n)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YN(r){cd=r}function Db(r){return cd.loadJS(r)}function $N(){return cd.recaptchaEnterpriseScript}function XN(){return cd.gapiScript}function WN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class JN{constructor(){this.enterprise=new ZN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const eC="recaptcha-enterprise",jb="NO_RECAPTCHA";class tC{constructor(e){this.type=eC,this.auth=Xo(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,p)=>{jN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new DN(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,h,p){const g=window.grecaptcha;g_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(jb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{i(this.auth).then(p=>{if(!n&&g_(window.grecaptcha))o(p,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=$N();g.length!==0&&(g+=p),Db(g).then(()=>{o(p,u,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function E_(r,e,n,i=!1,o=!1){const u=new tC(r);let h;if(o)h=jb;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function w_(r,e,n,i,o){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await E_(r,e,n,n==="getOobCode");return i(r,h)}else return i(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await E_(r,e,n,n==="getOobCode");return i(r,p)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(r,e){const n=Rp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Na(u,e??{}))return o;Ss(o,"already-initialized")}return n.initialize({options:e})}function sC(r,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function rC(r,e,n){const i=Xo(r);De(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=Ob(e),{host:h,port:p}=iC(e),g=p===null?"":`:${p}`,y={url:`${u}//${h}${g}/`},b=Object.freeze({host:h,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){De(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),De(Na(y,i.config.emulator)&&Na(b,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=b,i.settings.appVerificationDisabledForTesting=!0,Yo(h)?(ab(`${u}//${h}${g}`),ob("Auth",!0)):aC()}function Ob(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function iC(r){const e=Ob(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:T_(i.substr(u.length+1))}}else{const[u,h]=i.split(":");return{host:u,port:T_(h)}}}function T_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function aC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function oC(r,e){return Ui(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(r,e){return ud(r,"POST","/v1/accounts:signInWithPassword",Oa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(r,e){return ud(r,"POST","/v1/accounts:signInWithEmailLink",Oa(r,e))}async function cC(r,e){return ud(r,"POST","/v1/accounts:signInWithEmailLink",Oa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Mp{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new bu(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return w_(e,n,"signInWithPassword",lC);case"emailLink":return uC(e,{email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return w_(e,i,"signUpPassword",oC);case"emailLink":return cC(e,{idToken:n,email:this._email,oobCode:this._password});default:Ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r,e){return ud(r,"POST","/v1/accounts:signInWithIdp",Oa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="http://localhost";class Ra extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o,...u}=n;if(!i||!o)return null;const h=new Ra(i,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Vo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:hC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fC(r){const e=au(ou(r)).link,n=e?au(ou(e)).deep_link_id:null,i=au(ou(r)).deep_link_id;return(i?au(ou(i)).link:null)||i||n||e||r}class Vp{constructor(e){const n=au(ou(e)),i=n.apiKey??null,o=n.oobCode??null,u=dC(n.mode??null);De(i&&o&&u,"argument-error"),this.apiKey=i,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=fC(e);try{return new Vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Vp.parseLink(n);return De(i,"argument-error"),bu._fromEmailAndCode(e,i.code,i.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Mb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Mu{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return xi.credential(n,i)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Mu{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Mu{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ei.credential(n,i)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const u=await Ts._fromIdTokenResponse(e,i,o),h=S_(i);return new Uo({user:u,providerId:h,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=S_(i);return new Uo({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function S_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends Lr{constructor(e,n,i,o){super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Hh(e,n,i,o)}}function Vb(r,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(r,u,e,i):u})}async function mC(r,e,n=!1){const i=await xu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Uo._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,e,n=!1){const{auth:i}=r;if(ws(i.app))return Promise.reject(Ci(i));const o="reauthenticate";try{const u=await xu(r,Vb(i,o,e,r),n);De(u.idToken,i,"internal-error");const h=jp(u.idToken);De(h,i,"internal-error");const{sub:p}=h;return De(r.uid===p,i,"user-mismatch"),Uo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ss(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(r,e,n=!1){if(ws(r.app))return Promise.reject(Ci(r));const i="signIn",o=await Vb(r,i,e),u=await Uo._fromIdTokenResponse(r,i,o);return n||await r._updateCurrentUser(u.user),u}async function gC(r,e){return kb(Xo(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(r){const e=Xo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function vC(r,e,n){return ws(r.app)?Promise.reject(Ci(r)):gC(Ot(r),Wo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yC(r),i})}function _C(r,e,n,i){return Ot(r).onIdTokenChanged(e,n,i)}function xC(r,e,n){return Ot(r).beforeAuthStateChanged(e,n)}function bC(r,e,n,i){return Ot(r).onAuthStateChanged(e,n,i)}function EC(r){return Ot(r).signOut()}const Fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1e3,TC=10;class Pb extends Lb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!n&&this.localCache[i]===h||this.notifyListeners(i,h)},u=this.storage.getItem(i);qN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,TC):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pb.type="LOCAL";const SC=Pb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Lb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ub.type="SESSION";const zb=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new hd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,u)),g=await AC(p);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((p,g)=>{const y=kp("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(T.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(){return window}function CC(r){Zs().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return typeof Zs().WorkerGlobalScope<"u"&&typeof Zs().importScripts=="function"}async function RC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function DC(){return Bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebaseLocalStorageDb",jC=1,Gh="firebaseLocalStorage",Hb="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dd(r,e){return r.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function OC(){const r=indexedDB.deleteDatabase(qb);return new Vu(r).toPromise()}function ep(){const r=indexedDB.open(qb,jC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Gh,{keyPath:Hb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Gh)?e(i):(i.close(),await OC(),e(await ep()))})})}async function A_(r,e,n){const i=dd(r,!0).put({[Hb]:e,value:n});return new Vu(i).toPromise()}async function MC(r,e){const n=dd(r,!1).get(e),i=await new Vu(n).toPromise();return i===void 0?null:i.value}function N_(r,e){const n=dd(r,!0).delete(e);return new Vu(n).toPromise()}const VC=800,kC=3;class Fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>kC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hd._getInstance(DC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await RC(),!this.activeServiceWorker)return;this.sender=new NC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await A_(e,Fh,"1"),await N_(e,Fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>A_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>MC(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=dd(o,!1).getAll();return new Vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fb.type="LOCAL";const LC=Fb;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(r,e){return e?Rr(e):(De(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends Mp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UC(r){return kb(r.auth,new Lp(r),r.bypassAuthState)}function zC(r){const{auth:e,user:n}=r;return De(n,e,"internal-error"),pC(n,new Lp(r),r.bypassAuthState)}async function BC(r){const{auth:e,user:n}=r;return De(n,e,"internal-error"),mC(n,new Lp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:u,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UC;case"linkViaPopup":case"linkViaRedirect":return BC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:Ss(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new Ou(2e3,1e4);class Do extends Gb{constructor(e,n,i,o,u){super(e,n,o,u),this.provider=i,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Js(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Js(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Js(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qC.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="pendingRedirect",Rh=new Map;class FC extends Gb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const i=await GC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GC(r,e){const n=YC(e),i=KC(r);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function QC(r,e){Rh.set(r._key(),e)}function KC(r){return Rr(r._redirectPersistence)}function YC(r){return Ch(HC,r.config.apiKey,r.name)}async function $C(r,e,n=!1){if(ws(r.app))return Promise.reject(Ci(r));const i=Xo(r),o=PC(i,e),h=await new FC(i,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=600*1e3;class WC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Qb(e)){const o=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Js(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XC&&this.cachedEventUids.clear(),this.cachedEventUids.has(C_(e))}saveEventToCache(e){this.cachedEventUids.add(C_(e)),this.lastProcessedEventTime=Date.now()}}function C_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Qb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZC(r,e={}){return Ui(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t2=/^https?/;async function n2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ZC(r);for(const n of e)try{if(s2(n))return}catch{}Ss(r,"unauthorized-domain")}function s2(r){const e=Jm(),{protocol:n,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===i}if(!t2.test(n))return!1;if(e2.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Ou(3e4,6e4);function R_(){const r=Zs().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function i2(r){return new Promise((e,n)=>{var o,u,h;function i(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),n(Js(r,"network-request-failed"))},timeout:r2.get()})}if((u=(o=Zs().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=Zs().gapi)!=null&&h.load)i();else{const p=WN("iframefcb");return Zs()[p]=()=>{gapi.load?i():n(Js(r,"network-request-failed"))},Db(`${XN()}?onload=${p}`).catch(g=>n(g))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function a2(r){return Ih=Ih||i2(r),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new Ou(5e3,15e3),l2="__/auth/iframe",u2="emulator/auth/iframe",c2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d2(r){const e=r.config;De(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Dp(e,u2):`https://${r.config.authDomain}/${l2}`,i={apiKey:e.apiKey,appName:r.name,v:$o},o=h2.get(r.config.apiHost);o&&(i.eid=o);const u=r._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${ju(i).slice(1)}`}async function f2(r){const e=await a2(r),n=Zs().gapi;return De(n,r,"internal-error"),e.open({where:document.body,url:d2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c2,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const h=Js(r,"network-request-failed"),p=Zs().setTimeout(()=>{u(h)},o2.get());function g(){Zs().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p2=500,g2=600,y2="_blank",v2="http://localhost";class I_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _2(r,e,n,i=p2,o=g2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g={...m2,width:i.toString(),height:o.toString(),top:u,left:h},y=pn().toLowerCase();n&&(p=Tb(y)?y2:n),Eb(y)&&(e=e||v2,g.scrollbars="yes");const b=Object.entries(g).reduce((T,[k,B])=>`${T}${k}=${B},`,"");if(BN(y)&&p!=="_self")return x2(e||"",p),new I_(null);const E=window.open(e||"",p,b);De(E,r,"popup-blocked");try{E.focus()}catch{}return new I_(E)}function x2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="__/auth/handler",E2="emulator/auth/handler",w2=encodeURIComponent("fac");async function D_(r,e,n,i,o,u){De(r.config.authDomain,r,"auth-domain-config-required"),De(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:i,v:$o,eventId:o};if(e instanceof Mb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",oA(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,E]of Object.entries({}))h[b]=E}if(e instanceof Mu){const b=e.getScopes().filter(E=>E!=="");b.length>0&&(h.scopes=b.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const g=await r._getAppCheckToken(),y=g?`#${w2}=${encodeURIComponent(g)}`:"";return`${T2(r)}?${ju(p).slice(1)}${y}`}function T2({config:r}){return r.emulator?Dp(r,E2):`https://${r.authDomain}/${b2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class S2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zb,this._completeRedirectFn=$C,this._overrideRedirectResult=QC}async _openPopup(e,n,i,o){var h;Or((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=await D_(e,n,i,Jm(),o);return _2(e,u,kp())}async _openRedirect(e,n,i,o){await this._originValidation(e);const u=await D_(e,n,i,Jm(),o);return CC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Or(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await f2(e),i=new WC(e);return n.register("authEvent",o=>(De(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[Pm];u!==void 0&&n(!!u),Ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rb()||wb()||Op()}}const A2=S2;var j_="@firebase/auth",O_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R2(r){Po(new Ca("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;De(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ib(r)},y=new KN(i,o,u,g);return sC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Po(new Ca("auth-internal",e=>{const n=Xo(e.getProvider("auth").getImmediate());return(i=>new N2(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(j_,O_,C2(r)),Ni(j_,O_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=300,D2=ib("authIdTokenMaxAge")||I2;let M_=null;const j2=r=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>D2)return;const o=n==null?void 0:n.token;M_!==o&&(M_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function O2(r=hb()){const e=Rp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=nC(r,{popupRedirectResolver:A2,persistence:[LC,SC,zb]}),i=ib("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const h=j2(u.toString());xC(n,h,()=>h(n.currentUser)),_C(n,p=>h(p))}}const o=sb("auth");return o&&rC(n,`http://${o}`),n}function M2(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}YN({loadJS(r){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const u=Js("internal-error");u.customData=o,n(u)},i.type="text/javascript",i.charset="UTF-8",M2().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R2("Browser");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ri,Kb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,C){function I(){}I.prototype=C.prototype,R.F=C.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(V,M,N){for(var A=Array(arguments.length-2),be=2;be<arguments.length;be++)A[be-2]=arguments[be];return C.prototype[M].apply(V,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,C,I){I||(I=0);const V=Array(16);if(typeof C=="string")for(var M=0;M<16;++M)V[M]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(M=0;M<16;++M)V[M]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=R.g[0],I=R.g[1],M=R.g[2];let N=R.g[3],A;A=C+(N^I&(M^N))+V[0]+3614090360&4294967295,C=I+(A<<7&4294967295|A>>>25),A=N+(M^C&(I^M))+V[1]+3905402710&4294967295,N=C+(A<<12&4294967295|A>>>20),A=M+(I^N&(C^I))+V[2]+606105819&4294967295,M=N+(A<<17&4294967295|A>>>15),A=I+(C^M&(N^C))+V[3]+3250441966&4294967295,I=M+(A<<22&4294967295|A>>>10),A=C+(N^I&(M^N))+V[4]+4118548399&4294967295,C=I+(A<<7&4294967295|A>>>25),A=N+(M^C&(I^M))+V[5]+1200080426&4294967295,N=C+(A<<12&4294967295|A>>>20),A=M+(I^N&(C^I))+V[6]+2821735955&4294967295,M=N+(A<<17&4294967295|A>>>15),A=I+(C^M&(N^C))+V[7]+4249261313&4294967295,I=M+(A<<22&4294967295|A>>>10),A=C+(N^I&(M^N))+V[8]+1770035416&4294967295,C=I+(A<<7&4294967295|A>>>25),A=N+(M^C&(I^M))+V[9]+2336552879&4294967295,N=C+(A<<12&4294967295|A>>>20),A=M+(I^N&(C^I))+V[10]+4294925233&4294967295,M=N+(A<<17&4294967295|A>>>15),A=I+(C^M&(N^C))+V[11]+2304563134&4294967295,I=M+(A<<22&4294967295|A>>>10),A=C+(N^I&(M^N))+V[12]+1804603682&4294967295,C=I+(A<<7&4294967295|A>>>25),A=N+(M^C&(I^M))+V[13]+4254626195&4294967295,N=C+(A<<12&4294967295|A>>>20),A=M+(I^N&(C^I))+V[14]+2792965006&4294967295,M=N+(A<<17&4294967295|A>>>15),A=I+(C^M&(N^C))+V[15]+1236535329&4294967295,I=M+(A<<22&4294967295|A>>>10),A=C+(M^N&(I^M))+V[1]+4129170786&4294967295,C=I+(A<<5&4294967295|A>>>27),A=N+(I^M&(C^I))+V[6]+3225465664&4294967295,N=C+(A<<9&4294967295|A>>>23),A=M+(C^I&(N^C))+V[11]+643717713&4294967295,M=N+(A<<14&4294967295|A>>>18),A=I+(N^C&(M^N))+V[0]+3921069994&4294967295,I=M+(A<<20&4294967295|A>>>12),A=C+(M^N&(I^M))+V[5]+3593408605&4294967295,C=I+(A<<5&4294967295|A>>>27),A=N+(I^M&(C^I))+V[10]+38016083&4294967295,N=C+(A<<9&4294967295|A>>>23),A=M+(C^I&(N^C))+V[15]+3634488961&4294967295,M=N+(A<<14&4294967295|A>>>18),A=I+(N^C&(M^N))+V[4]+3889429448&4294967295,I=M+(A<<20&4294967295|A>>>12),A=C+(M^N&(I^M))+V[9]+568446438&4294967295,C=I+(A<<5&4294967295|A>>>27),A=N+(I^M&(C^I))+V[14]+3275163606&4294967295,N=C+(A<<9&4294967295|A>>>23),A=M+(C^I&(N^C))+V[3]+4107603335&4294967295,M=N+(A<<14&4294967295|A>>>18),A=I+(N^C&(M^N))+V[8]+1163531501&4294967295,I=M+(A<<20&4294967295|A>>>12),A=C+(M^N&(I^M))+V[13]+2850285829&4294967295,C=I+(A<<5&4294967295|A>>>27),A=N+(I^M&(C^I))+V[2]+4243563512&4294967295,N=C+(A<<9&4294967295|A>>>23),A=M+(C^I&(N^C))+V[7]+1735328473&4294967295,M=N+(A<<14&4294967295|A>>>18),A=I+(N^C&(M^N))+V[12]+2368359562&4294967295,I=M+(A<<20&4294967295|A>>>12),A=C+(I^M^N)+V[5]+4294588738&4294967295,C=I+(A<<4&4294967295|A>>>28),A=N+(C^I^M)+V[8]+2272392833&4294967295,N=C+(A<<11&4294967295|A>>>21),A=M+(N^C^I)+V[11]+1839030562&4294967295,M=N+(A<<16&4294967295|A>>>16),A=I+(M^N^C)+V[14]+4259657740&4294967295,I=M+(A<<23&4294967295|A>>>9),A=C+(I^M^N)+V[1]+2763975236&4294967295,C=I+(A<<4&4294967295|A>>>28),A=N+(C^I^M)+V[4]+1272893353&4294967295,N=C+(A<<11&4294967295|A>>>21),A=M+(N^C^I)+V[7]+4139469664&4294967295,M=N+(A<<16&4294967295|A>>>16),A=I+(M^N^C)+V[10]+3200236656&4294967295,I=M+(A<<23&4294967295|A>>>9),A=C+(I^M^N)+V[13]+681279174&4294967295,C=I+(A<<4&4294967295|A>>>28),A=N+(C^I^M)+V[0]+3936430074&4294967295,N=C+(A<<11&4294967295|A>>>21),A=M+(N^C^I)+V[3]+3572445317&4294967295,M=N+(A<<16&4294967295|A>>>16),A=I+(M^N^C)+V[6]+76029189&4294967295,I=M+(A<<23&4294967295|A>>>9),A=C+(I^M^N)+V[9]+3654602809&4294967295,C=I+(A<<4&4294967295|A>>>28),A=N+(C^I^M)+V[12]+3873151461&4294967295,N=C+(A<<11&4294967295|A>>>21),A=M+(N^C^I)+V[15]+530742520&4294967295,M=N+(A<<16&4294967295|A>>>16),A=I+(M^N^C)+V[2]+3299628645&4294967295,I=M+(A<<23&4294967295|A>>>9),A=C+(M^(I|~N))+V[0]+4096336452&4294967295,C=I+(A<<6&4294967295|A>>>26),A=N+(I^(C|~M))+V[7]+1126891415&4294967295,N=C+(A<<10&4294967295|A>>>22),A=M+(C^(N|~I))+V[14]+2878612391&4294967295,M=N+(A<<15&4294967295|A>>>17),A=I+(N^(M|~C))+V[5]+4237533241&4294967295,I=M+(A<<21&4294967295|A>>>11),A=C+(M^(I|~N))+V[12]+1700485571&4294967295,C=I+(A<<6&4294967295|A>>>26),A=N+(I^(C|~M))+V[3]+2399980690&4294967295,N=C+(A<<10&4294967295|A>>>22),A=M+(C^(N|~I))+V[10]+4293915773&4294967295,M=N+(A<<15&4294967295|A>>>17),A=I+(N^(M|~C))+V[1]+2240044497&4294967295,I=M+(A<<21&4294967295|A>>>11),A=C+(M^(I|~N))+V[8]+1873313359&4294967295,C=I+(A<<6&4294967295|A>>>26),A=N+(I^(C|~M))+V[15]+4264355552&4294967295,N=C+(A<<10&4294967295|A>>>22),A=M+(C^(N|~I))+V[6]+2734768916&4294967295,M=N+(A<<15&4294967295|A>>>17),A=I+(N^(M|~C))+V[13]+1309151649&4294967295,I=M+(A<<21&4294967295|A>>>11),A=C+(M^(I|~N))+V[4]+4149444226&4294967295,C=I+(A<<6&4294967295|A>>>26),A=N+(I^(C|~M))+V[11]+3174756917&4294967295,N=C+(A<<10&4294967295|A>>>22),A=M+(C^(N|~I))+V[2]+718787259&4294967295,M=N+(A<<15&4294967295|A>>>17),A=I+(N^(M|~C))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+C&4294967295,R.g[1]=R.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+N&4294967295}i.prototype.v=function(R,C){C===void 0&&(C=R.length);const I=C-this.blockSize,V=this.C;let M=this.h,N=0;for(;N<C;){if(M==0)for(;N<=I;)o(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<C;)if(V[M++]=R.charCodeAt(N++),M==this.blockSize){o(this,V),M=0;break}}else for(;N<C;)if(V[M++]=R[N++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=C},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var C=1;C<R.length-8;++C)R[C]=0;C=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=C&255,C/=256;for(this.v(R),R=Array(16),C=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)R[C++]=this.g[I]>>>V&255;return R};function u(R,C){var I=p;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=C(R)}function h(R,C){this.h=C;const I=[];let V=!0;for(let M=R.length-1;M>=0;M--){const N=R[M]|0;V&&N==C||(I[M]=N,V=!1)}this.g=I}var p={};function g(R){return-128<=R&&R<128?u(R,function(C){return new h([C|0],C<0?-1:0)}):new h([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return P(y(-R));const C=[];let I=1;for(let V=0;R>=I;V++)C[V]=R/I|0,I*=4294967296;return new h(C,0)}function b(R,C){if(R.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(R.charAt(0)=="-")return P(b(R.substring(1),C));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(C,8));let V=E;for(let N=0;N<R.length;N+=8){var M=Math.min(8,R.length-N);const A=parseInt(R.substring(N,N+M),C);M<8?(M=y(Math.pow(C,M)),V=V.j(M).add(y(A))):(V=V.j(I),V=V.add(y(A)))}return V}var E=g(0),T=g(1),k=g(16777216);r=h.prototype,r.m=function(){if(z(this))return-P(this).m();let R=0,C=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);R+=(V>=0?V:4294967296+V)*C,C*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(B(this))return"0";if(z(this))return"-"+P(this).toString(R);const C=y(Math.pow(R,6));var I=this;let V="";for(;;){const M=fe(I,C).g;I=te(I,M.j(C));let N=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=M,B(I))return N+V;for(;N.length<6;)N="0"+N;V=N+V}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function B(R){if(R.h!=0)return!1;for(let C=0;C<R.g.length;C++)if(R.g[C]!=0)return!1;return!0}function z(R){return R.h==-1}r.l=function(R){return R=te(this,R),z(R)?-1:B(R)?0:1};function P(R){const C=R.g.length,I=[];for(let V=0;V<C;V++)I[V]=~R.g[V];return new h(I,~R.h).add(T)}r.abs=function(){return z(this)?P(this):this},r.add=function(R){const C=Math.max(this.g.length,R.g.length),I=[];let V=0;for(let M=0;M<=C;M++){let N=V+(this.i(M)&65535)+(R.i(M)&65535),A=(N>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);V=A>>>16,N&=65535,A&=65535,I[M]=A<<16|N}return new h(I,I[I.length-1]&-2147483648?-1:0)};function te(R,C){return R.add(P(C))}r.j=function(R){if(B(this)||B(R))return E;if(z(this))return z(R)?P(this).j(P(R)):P(P(this).j(R));if(z(R))return P(this.j(P(R)));if(this.l(k)<0&&R.l(k)<0)return y(this.m()*R.m());const C=this.g.length+R.g.length,I=[];for(var V=0;V<2*C;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<R.g.length;M++){const N=this.i(V)>>>16,A=this.i(V)&65535,be=R.i(M)>>>16,Te=R.i(M)&65535;I[2*V+2*M]+=A*Te,re(I,2*V+2*M),I[2*V+2*M+1]+=N*Te,re(I,2*V+2*M+1),I[2*V+2*M+1]+=A*be,re(I,2*V+2*M+1),I[2*V+2*M+2]+=N*be,re(I,2*V+2*M+2)}for(R=0;R<C;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=C;R<2*C;R++)I[R]=0;return new h(I,0)};function re(R,C){for(;(R[C]&65535)!=R[C];)R[C+1]+=R[C]>>>16,R[C]&=65535,C++}function Z(R,C){this.g=R,this.h=C}function fe(R,C){if(B(C))throw Error("division by zero");if(B(R))return new Z(E,E);if(z(R))return C=fe(P(R),C),new Z(P(C.g),P(C.h));if(z(C))return C=fe(R,P(C)),new Z(P(C.g),C.h);if(R.g.length>30){if(z(R)||z(C))throw Error("slowDivide_ only works with positive integers.");for(var I=T,V=C;V.l(R)<=0;)I=oe(I),V=oe(V);var M=de(I,1),N=de(V,1);for(V=de(V,2),I=de(I,2);!B(V);){var A=N.add(V);A.l(R)<=0&&(M=M.add(I),N=A),V=de(V,1),I=de(I,1)}return C=te(R,M.j(C)),new Z(M,C)}for(M=E;R.l(C)>=0;){for(I=Math.max(1,Math.floor(R.m()/C.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),N=y(I),A=N.j(C);z(A)||A.l(R)>0;)I-=V,N=y(I),A=N.j(C);B(N)&&(N=T),M=M.add(N),R=te(R,A)}return new Z(M,R)}r.B=function(R){return fe(this,R).h},r.and=function(R){const C=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)&R.i(V);return new h(I,this.h&R.h)},r.or=function(R){const C=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)|R.i(V);return new h(I,this.h|R.h)},r.xor=function(R){const C=Math.max(this.g.length,R.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)^R.i(V);return new h(I,this.h^R.h)};function oe(R){const C=R.g.length+1,I=[];for(let V=0;V<C;V++)I[V]=R.i(V)<<1|R.i(V-1)>>>31;return new h(I,R.h)}function de(R,C){const I=C>>5;C%=32;const V=R.g.length-I,M=[];for(let N=0;N<V;N++)M[N]=C>0?R.i(N+I)>>>C|R.i(N+I+1)<<32-C:R.i(N+I);return new h(M,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Kb=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=b,Ri=h}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yb,lu,$b,Dh,tp,Xb,Wb,Jb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var v=0;v<c.length;++v){var x=c[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function o(c,v){if(v)e:{var x=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in x))break e;x=x[q]}c=c[c.length-1],S=x[c],v=v(S),v!=S&&v!=null&&e(x,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var x=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&x.push([S,v[S]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function p(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function g(c,v,x){return c.call.apply(c.bind,arguments)}function y(c,v,x){return y=g,y.apply(null,arguments)}function b(c,v){var x=Array.prototype.slice.call(arguments,1);return function(){var S=x.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function E(c,v){function x(){}x.prototype=v.prototype,c.Z=v.prototype,c.prototype=new x,c.prototype.constructor=c,c.Ob=function(S,q,K){for(var ue=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ue[Ve-2]=arguments[Ve];return v.prototype[q].apply(S,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const v=c.length;if(v>0){const x=Array(v);for(let S=0;S<v;S++)x[S]=c[S];return x}return[]}function B(c,v){for(let S=1;S<arguments.length;S++){const q=arguments[S];var x=typeof q;if(x=x!="object"?x:q?Array.isArray(q)?"array":x:"null",x=="array"||x=="object"&&typeof q.length=="number"){x=c.length||0;const K=q.length||0;c.length=x+K;for(let ue=0;ue<K;ue++)c[x+ue]=q[ue]}else c.push(q)}}class z{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(c){h.setTimeout(()=>{throw c},0)}function te(){var c=R;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class re{constructor(){this.h=this.g=null}add(v,x){const S=Z.get();S.set(v,x),this.h?this.h.next=S:this.g=S,this.h=S}}var Z=new z(()=>new fe,c=>c.reset());class fe{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,de=!1,R=new re,C=()=>{const c=Promise.resolve(void 0);oe=()=>{c.then(I)}};function I(){for(var c;c=te();){try{c.h.call(c.g)}catch(x){P(x)}var v=Z;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}de=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};h.addEventListener("test",x,v),h.removeEventListener("test",x,v)}catch{}return c})();function A(c){return/^[\s\xa0]*$/.test(c)}function be(c,v){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}E(be,M),be.prototype.init=function(c,v){const x=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(x=="mouseover"?v=c.fromElement:x=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Te="closure_listenable_"+(Math.random()*1e6|0),Q=0;function le(c,v,x,S,q){this.listener=c,this.proxy=null,this.src=v,this.type=x,this.capture=!!S,this.ha=q,this.key=++Q,this.da=this.fa=!1}function ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ae(c,v,x){for(const S in c)v.call(x,c[S],S,c)}function Ke(c,v){for(const x in c)v.call(void 0,c[x],x,c)}function j(c){const v={};for(const x in c)v[x]=c[x];return v}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,v){let x,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(x in S)c[x]=S[x];for(let K=0;K<X.length;K++)x=X[K],Object.prototype.hasOwnProperty.call(S,x)&&(c[x]=S[x])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,v,x,S,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ue=Ce(c,v,S,q);return ue>-1?(v=c[ue],x||(v.fa=!1)):(v=new le(v,this.src,K,!!S,q),v.fa=x,c.push(v)),v};function ve(c,v){const x=v.type;if(x in c.g){var S=c.g[x],q=Array.prototype.indexOf.call(S,v,void 0),K;(K=q>=0)&&Array.prototype.splice.call(S,q,1),K&&(ye(v),c.g[x].length==0&&(delete c.g[x],c.h--))}}function Ce(c,v,x,S){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==v&&K.capture==!!x&&K.ha==S)return q}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),nt={};function tt(c,v,x,S,q){if(Array.isArray(v)){for(let K=0;K<v.length;K++)tt(c,v[K],x,S,q);return null}return x=Hi(x),c&&c[Te]?c.J(v,x,p(S)?!!S.capture:!1,q):ae(c,v,x,!1,S,q)}function ae(c,v,x,S,q,K){if(!v)throw Error("Invalid event type");const ue=p(q)?!!q.capture:!!q;let Ve=$n(c);if(Ve||(c[Pe]=Ve=new he(c)),x=Ve.add(v,x,S,ue,K),x.proxy)return x;if(S=at(),x.proxy=S,S.src=c,S.listener=x,c.addEventListener)N||(q=ue),q===void 0&&(q=!1),c.addEventListener(v.toString(),S,q);else if(c.attachEvent)c.attachEvent(tn(v.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return x}function at(){function c(x){return v.call(c.src,c.listener,x)}const v=Rs;return c}function Kt(c,v,x,S,q){if(Array.isArray(v))for(var K=0;K<v.length;K++)Kt(c,v[K],x,S,q);else S=p(S)?!!S.capture:!!S,x=Hi(x),c&&c[Te]?(c=c.i,K=String(v).toString(),K in c.g&&(v=c.g[K],x=Ce(v,x,S,q),x>-1&&(ye(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete c.g[K],c.h--)))):c&&(c=$n(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Ce(v,x,S,q)),(x=c>-1?v[c]:null)&&ds(x))}function ds(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[Te])ve(v.i,c);else{var x=c.type,S=c.proxy;v.removeEventListener?v.removeEventListener(x,S,c.capture):v.detachEvent?v.detachEvent(tn(x),S):v.addListener&&v.removeListener&&v.removeListener(S),(x=$n(v))?(ve(x,c),x.h==0&&(x.src=null,v[Pe]=null)):ye(c)}}}function tn(c){return c in nt?nt[c]:nt[c]="on"+c}function Rs(c,v){if(c.da)c=!0;else{v=new be(v,this);const x=c.listener,S=c.ha||c.src;c.fa&&ds(c),c=x.call(S,v)}return c}function $n(c){return c=c[Pe],c instanceof he?c:null}var qi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hi(c){return typeof c=="function"?c:(c[qi]||(c[qi]=function(v){return c.handleEvent(v)}),c[qi])}function Et(){V.call(this),this.i=new he(this),this.M=this,this.G=null}E(Et,V),Et.prototype[Te]=!0,Et.prototype.removeEventListener=function(c,v,x,S){Kt(this,c,v,x,S)};function Nt(c,v){var x,S=c.G;if(S)for(x=[];S;S=S.G)x.push(S);if(c=c.M,S=v.type||v,typeof v=="string")v=new M(v,c);else if(v instanceof M)v.target=v.target||c;else{var q=v;v=new M(S,c),ie(v,q)}q=!0;let K,ue;if(x)for(ue=x.length-1;ue>=0;ue--)K=v.g=x[ue],q=Is(K,S,!0,v)&&q;if(K=v.g=c,q=Is(K,S,!0,v)&&q,q=Is(K,S,!1,v)&&q,x)for(ue=0;ue<x.length;ue++)K=v.g=x[ue],q=Is(K,S,!1,v)&&q}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const x=c.g[v];for(let S=0;S<x.length;S++)ye(x[S]);delete c.g[v],c.h--}}this.G=null},Et.prototype.J=function(c,v,x,S){return this.i.add(String(c),v,!1,x,S)},Et.prototype.K=function(c,v,x,S){return this.i.add(String(c),v,!0,x,S)};function Is(c,v,x,S){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let K=0;K<v.length;++K){const ue=v[K];if(ue&&!ue.da&&ue.capture==x){const Ve=ue.listener,Ct=ue.ha||ue.src;ue.fa&&ve(c.i,ue),q=Ve.call(Ct,S)!==!1&&q}}return q&&!S.defaultPrevented}function il(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(c,v||0)}function ka(c){c.g=il(()=>{c.g=null,c.i&&(c.i=!1,ka(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class nn extends V{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ka(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(c){V.call(this),this.h=c,this.g={}}E(ir,V);var Fi=[];function Gi(c){Ae(c.g,function(v,x){this.g.hasOwnProperty(x)&&ds(v)},c),c.g={}}ir.prototype.N=function(){ir.Z.N.call(this),Gi(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=h.JSON.stringify,La=h.JSON.parse,Qi=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ki(){}function Yi(){}var _n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $(){M.call(this,"d")}E($,M);function me(){M.call(this,"c")}E(me,M);var Ee={},Ye=null;function wt(){return Ye=Ye||new Et}Ee.Ia="serverreachability";function jn(c){M.call(this,Ee.Ia,c)}E(jn,M);function xn(c){const v=wt();Nt(v,new jn(v))}Ee.STAT_EVENT="statevent";function On(c,v){M.call(this,Ee.STAT_EVENT,c),this.stat=v}E(On,M);function gt(c){const v=wt();Nt(v,new On(v,c))}Ee.Ja="timingevent";function Xn(c,v){M.call(this,Ee.Ja,c),this.size=v}E(Xn,M);function Wn(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},v)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function Pa(c,v,x,S,q,K){c.info(function(){if(c.g)if(K){var ue="",Ve=K.split("&");for(let Ze=0;Ze<Ve.length;Ze++){var Ct=Ve[Ze].split("=");if(Ct.length>1){const yt=Ct[0];Ct=Ct[1];const ts=yt.split("_");ue=ts.length>=2&&ts[1]=="type"?ue+(yt+"="+Ct+"&"):ue+(yt+"=redacted&")}}}else ue=null;else ue=K;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+x+`
`+ue})}function $i(c,v,x,S,q,K,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+x+`
`+K+" "+ue})}function bn(c,v,x,S){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+En(c,x)+(S?" "+S:"")})}function js(c,v){c.info(function(){return"TIMEOUT: "+v})}Mn.prototype.info=function(){};function En(c,v){if(!c.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var x=K[c];if(!(x.length<2)){var S=x[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return Ds(K)}catch{return v}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wi;function Ji(){}E(Ji,Ki),Ji.prototype.g=function(){return new XMLHttpRequest},Wi=new Ji;function or(c){return encodeURIComponent(String(c))}function Ku(c){var v=1;c=c.split(":");const x=[];for(;v>0&&c.length;)x.push(c.shift()),v--;return c.length&&x.push(c.join(":")),x}function fs(c,v,x,S){this.j=c,this.i=v,this.l=x,this.S=S||1,this.V=new ir(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ms}function ms(){this.i=null,this.g="",this.h=!1}var Mt={},Yt={};function Os(c,v,x){c.M=1,c.A=Zi(kt(v)),c.u=x,c.R=!0,Ua(c,null)}function Ua(c,v){c.F=Date.now(),Ms(c),c.B=kt(c.A);var x=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Ha(x.i,"t",S),c.C=0,x=c.j.L,c.h=new ms,c.g=lc(c.j,x?v:null,!c.u),c.P>0&&(c.O=new nn(y(c.Y,c,c.g),c.P)),v=c.V,x=c.g,S=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(Fi[0]=q.toString()),q=Fi);for(let K=0;K<q.length;K++){const ue=tt(x,q[K],S||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=c.J?j(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),xn(),Pa(c.i,c.v,c.B,c.l,c.S,c.u)}fs.prototype.ba=function(c){c=c.target;const v=this.O;v&&ys(c)==3?v.j():this.Y(c)},fs.prototype.Y=function(c){try{if(c==this.g)e:{const Ve=ys(this.g),Ct=this.g.ya(),Ze=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ve!=4||Ct==7||(Ct==8||Ze<=0?xn(3):xn(2)),Vs(this);var v=this.g.ca();this.X=v;var x=Rd(this);if(this.o=v==200,$i(this.i,this.v,this.B,this.l,this.S,Ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(S)){var K=S;break t}}K=null}if(c=K)bn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ks(this,c);else{this.o=!1,this.m=3,gt(12),Vn(this),Jn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<x.length;)if(yt=$u(this,x),yt==Yt){Ve==4&&(this.m=4,gt(14),c=!1),bn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Mt){this.m=4,gt(15),bn(this.i,this.l,x,"[Invalid Chunk]"),c=!1;break}else bn(this.i,this.l,yt,null),ks(this,yt);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||x.length!=0||this.h.h||(this.m=1,gt(16),c=!1),this.o=this.o&&c,!c)bn(this.i,this.l,x,"[Invalid Chunked Response]"),Vn(this),Jn(this);else if(x.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),xl(ue),ue.P=!0,gt(11))}}else bn(this.i,this.l,x,null),ks(this,x);Ve==4&&Vn(this),this.o&&!this.K&&(Ve==4?rc(this.j,this):(this.o=!1,Ms(this)))}else ur(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),Vn(this),Jn(this)}}}catch{}finally{}};function Rd(c){if(!Yu(c))return c.g.la();const v=sn(c.g);if(v==="")return"";let x="";const S=v.length,q=ys(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Vn(c),Jn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<S;K++)c.h.h=!0,x+=c.h.i.decode(v[K],{stream:!(q&&K==S-1)});return v.length=0,c.h.g+=x,c.C=0,c.h.g}function Yu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function $u(c,v){var x=c.C,S=v.indexOf(`
`,x);return S==-1?Yt:(x=Number(v.substring(x,S)),isNaN(x)?Mt:(S+=1,S+x>v.length?Yt:(v=v.slice(S,S+x),c.C=S+x,v)))}fs.prototype.cancel=function(){this.K=!0,Vn(this)};function Ms(c){c.T=Date.now()+c.H,za(c,c.H)}function za(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Wn(y(c.aa,c),v)}function Vs(c){c.D&&(h.clearTimeout(c.D),c.D=null)}fs.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(js(this.i,this.B),this.M!=2&&(xn(),gt(17)),Vn(this),this.m=2,Jn(this)):za(this,this.T-c)};function Jn(c){c.j.I==0||c.K||rc(c.j,c)}function Vn(c){Vs(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Gi(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function ks(c,v){try{var x=c.j;if(x.I!=0&&(x.g==c||Ps(x.h,c))){if(!c.L&&Ps(x.h,c)&&x.I==3){try{var S=x.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<c.F)Ya(x),Kr(x);else break e;aa(x),gt(18)}}else x.xa=q[1],0<x.xa-x.K&&q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Wn(y(x.Va,x),6e3));Ls(x.h)<=1&&x.ta&&(x.ta=void 0)}else Fs(x,11)}else if((c.L||x.g==c)&&Ya(x),!A(v))for(q=x.Ba.g.parse(v),v=0;v<q.length;v++){let Ze=q[v];const yt=Ze[0];if(!(yt<=x.K))if(x.K=yt,Ze=Ze[1],x.I==2)if(Ze[0]=="c"){x.M=Ze[1],x.ba=Ze[2];const ts=Ze[3];ts!=null&&(x.ka=ts,x.j.info("VER="+x.ka));const Gs=Ze[4];Gs!=null&&(x.za=Gs,x.j.info("SVER="+x.za));const vs=Ze[5];vs!=null&&typeof vs=="number"&&vs>0&&(S=1.5*vs,x.O=S,x.j.info("backChannelRequestTimeoutMs_="+S)),S=x;const _s=c.g;if(_s){const oa=_s.g?_s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var K=S.h;K.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ll(K,K.h),K.h=null))}if(S.G){const $a=_s.g?_s.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(S.wa=$a,st(S.J,S.G,$a))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-c.F,x.j.info("Handshake RTT: "+x.T+"ms")),S=x;var ue=c;if(S.na=oc(S,S.L?S.ba:null,S.W),ue.L){ul(S.h,ue);var Ve=ue,Ct=S.O;Ct&&(Ve.H=Ct),Ve.D&&(Vs(Ve),Ms(Ve)),S.g=ue}else nc(S);x.i.length>0&&Hs(x)}else Ze[0]!="stop"&&Ze[0]!="close"||Fs(x,7);else x.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Fs(x,7):vl(x):Ze[0]!="noop"&&x.l&&x.l.qa(Ze),x.A=0)}}xn(4)}catch{}}var Vt=class{constructor(c,v){this.g=c,this.map=v}};function al(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ol(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ls(c){return c.h?1:c.g?c.g.size:0}function Ps(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function ll(c,v){c.g?c.g.add(v):c.h=v}function ul(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}al.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const x of c.g.values())v=v.concat(x.G);return v}return k(c.i)}var Xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(c,v){if(c){c=c.split("&");for(let x=0;x<c.length;x++){const S=c[x].indexOf("=");let q,K=null;S>=0?(q=c[x].substring(0,S),K=c[x].substring(S+1)):q=c[x],v(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function kn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof kn?(this.l=c.l,$t(this,c.j),this.o=c.o,this.g=c.g,zr(this,c.u),this.h=c.h,hl(this,ec(c.i)),this.m=c.m):c&&(v=String(c).match(Xu))?(this.l=!1,$t(this,v[1]||"",!0),this.o=Us(v[2]||""),this.g=Us(v[3]||"",!0),zr(this,v[4]),this.h=Us(v[5]||"",!0),hl(this,v[6]||"",!0),this.m=Us(v[7]||"")):(this.l=!1,this.i=new qr(null,this.l))}kn.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(ea(v,qa,!0),":");var x=this.g;return(x||v=="file")&&(c.push("//"),(v=this.o)&&c.push(ea(v,qa,!0),"@"),c.push(or(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&c.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(ea(x,x.charAt(0)=="/"?dl:Wu,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",ea(x,Ju)),c.join("")},kn.prototype.resolve=function(c){const v=kt(this);let x=!!c.j;x?$t(v,c.j):x=!!c.o,x?v.o=c.o:x=!!c.g,x?v.g=c.g:x=c.u!=null;var S=c.h;if(x)zr(v,c.u);else if(x=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=v.h.lastIndexOf("/");q!=-1&&(S=v.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let ue=0;ue<q.length;){const Ve=q[ue++];Ve=="."?S&&ue==q.length&&K.push(""):Ve==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),S&&ue==q.length&&K.push("")):(K.push(Ve),S=!0)}S=K.join("/")}else S=q}return x?v.h=S:x=c.i.toString()!=="",x?hl(v,ec(c.i)):x=!!c.m,x&&(v.m=c.m),v};function kt(c){return new kn(c)}function $t(c,v,x){c.j=x?Us(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function zr(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function hl(c,v,x){v instanceof qr?(c.i=v,Fa(c.i,c.l)):(x||(v=ea(v,Br)),c.i=new qr(v,c.l))}function st(c,v,x){c.i.set(v,x)}function Zi(c){return st(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Us(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ea(c,v,x){return typeof c=="string"?(c=encodeURI(c).replace(v,wn),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qa=/[#\/\?@]/g,Wu=/[#\?:]/g,dl=/[#\?]/g,Br=/[#\?@]/g,Ju=/#/g;function qr(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ba(c.i,function(v,x){c.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}r=qr.prototype,r.add=function(c,v){Tn(this),this.i=null,c=Hr(this,c);let x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(v),this.h+=1,this};function Zu(c,v){Tn(c),v=Hr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function fl(c,v){return Tn(c),v=Hr(c,v),c.g.has(v)}r.forEach=function(c,v){Tn(this),this.g.forEach(function(x,S){x.forEach(function(q){c.call(v,q,S,this)},this)},this)};function ml(c,v){Tn(c);let x=[];if(typeof v=="string")fl(c,v)&&(x=x.concat(c.g.get(Hr(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)x=x.concat(c[v]);return x}r.set=function(c,v){return Tn(this),this.i=null,c=Hr(this,c),fl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},r.get=function(c,v){return c?(c=ml(this,c),c.length>0?String(c[0]):v):v};function Ha(c,v,x){Zu(c,v),x.length>0&&(c.i=null,c.g.set(Hr(c,v),k(x)),c.h+=x.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var x=v[S];const q=or(x);x=ml(this,x);for(let K=0;K<x.length;K++){let ue=q;x[K]!==""&&(ue+="="+or(x[K])),c.push(ue)}}return this.i=c.join("&")};function ec(c){const v=new qr;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Hr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Fa(c,v){v&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(x,S){const q=S.toLowerCase();S!=q&&(Zu(this,S),Ha(this,q,x))},c)),c.j=v}function ps(c,v){const x=new Mn;if(h.Image){const S=new Image;S.onload=b(Zn,x,"TestLoadImage: loaded",!0,v,S),S.onerror=b(Zn,x,"TestLoadImage: error",!1,v,S),S.onabort=b(Zn,x,"TestLoadImage: abort",!1,v,S),S.ontimeout=b(Zn,x,"TestLoadImage: timeout",!1,v,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else v(!1)}function pl(c,v){const x=new Mn,S=new AbortController,q=setTimeout(()=>{S.abort(),Zn(x,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(q),K.ok?Zn(x,"TestPingServer: ok",!0,v):Zn(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Zn(x,"TestPingServer: error",!1,v)})}function Zn(c,v,x,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(x)}catch{}}function Fr(){this.g=new Qi}function zs(c){this.i=c.Sb||null,this.h=c.ab||!1}E(zs,Ki),zs.prototype.g=function(){return new ta(this.i,this.h)};function ta(c,v){Et.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(ta,Et),r=ta.prototype,r.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,gs(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Gr(this):gs(this),this.readyState==3&&Ga(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Gr(this))},r.Na=function(c){this.g&&(this.response=c,Gr(this))},r.ga=function(){this.g&&Gr(this)};function Gr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,gs(c)}r.setRequestHeader=function(c,v){this.A.append(c,v)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=v.next();return c.join(`\r
`)};function gs(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function es(c){let v="";return Ae(c,function(x,S){v+=S,v+=":",v+=x,v+=`\r
`}),v}function na(c,v,x){e:{for(S in x){var S=!1;break e}S=!0}S||(x=es(x),typeof c=="string"?x!=null&&or(x):st(c,v,x))}function ot(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ot,Et);var Bs=/^https?$/i,gl=["POST","PUT"];r=ot.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,v,x,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wi.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(K){sa(this,K);return}if(c=x||"",x=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)x.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())x.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(x.keys()).find(K=>K.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(gl,v,void 0)>=0)||S||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of x)this.g.setRequestHeader(K,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){sa(this,K)}};function sa(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,yl(c),lr(c)}function yl(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Nt(this,"complete"),Nt(this,"abort"),lr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),ot.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ra(this):this.Xa())},r.Xa=function(){ra(this)};function ra(c){if(c.h&&typeof u<"u"){if(c.v&&ys(c)==4)setTimeout(c.Ca.bind(c),0);else if(Nt(c,"readystatechange"),ys(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var S;if(S=K===0){let ue=String(c.D).match(Xu)[1]||null;!ue&&h.self&&h.self.location&&(ue=h.self.location.protocol.slice(0,-1)),S=!Bs.test(ue?ue.toLowerCase():"")}x=S}if(x)Nt(c,"complete"),Nt(c,"success");else{c.o=6;try{var q=ys(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",yl(c)}}finally{lr(c)}}}}function lr(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const x=c.g;c.g=null,v||Nt(c,"ready");try{x.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ys(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ys(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),La(v)}};function sn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ur(c){const v={};c=(c.g&&ys(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(A(c[S]))continue;var x=Ku(c[S]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const K=v[q]||[];v[q]=K,K.push(x)}Ke(v,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(c,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||v}function Qr(c){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qs("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qs("baseRetryDelayMs",5e3,c),this.Za=qs("retryDelaySeedMs",1e4,c),this.Ta=qs("forwardChannelMaxRetries",2,c),this.va=qs("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new al(c&&c.concurrentRequestLimit),this.Ba=new Fr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Qr.prototype,r.ka=8,r.I=1,r.connect=function(c,v,x,S){gt(0),this.W=c,this.H=v||{},x&&S!==void 0&&(this.H.OSID=x,this.H.OAID=S),this.F=this.X,this.J=oc(this,null,this.W),Hs(this)};function vl(c){if(Qa(c),c.I==3){var v=c.V++,x=kt(c.J);if(st(x,"SID",c.M),st(x,"RID",v),st(x,"TYPE","terminate"),ia(c,x),v=new fs(c,c.j,v),v.M=2,v.A=Zi(kt(x)),x=!1,h.navigator&&h.navigator.sendBeacon)try{x=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&h.Image&&(new Image().src=v.A,x=!0),x||(v.g=lc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ms(v)}ac(c)}function Kr(c){c.g&&(xl(c),c.g.cancel(),c.g=null)}function Qa(c){Kr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Hs(c){if(!ol(c.h)&&!c.m){c.m=!0;var v=c.Ea;oe||C(),de||(oe(),de=!0),R.add(v,c),c.D=0}}function Ka(c,v){return Ls(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Wn(y(c.Ea,c,v),ic(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new fs(this,this.j,c);let K=this.o;if(this.U&&(K?(K=j(K),ie(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var S=this.i[x];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=tc(this,q,v),x=kt(this.J),st(x,"RID",c),st(x,"CVER",22),this.G&&st(x,"X-HTTP-Session-Id",this.G),ia(this,x),K&&(this.R?v="headers="+or(es(K))+"&"+v:this.u&&na(x,this.u,K)),ll(this.h,q),this.Ra&&st(x,"TYPE","init"),this.S?(st(x,"$req",v),st(x,"SID","null"),q.U=!0,Os(q,x,null)):Os(q,x,v),this.I=2}}else this.I==3&&(c?_l(this,c):this.i.length==0||ol(this.h)||_l(this))};function _l(c,v){var x;v?x=v.l:x=c.V++;const S=kt(c.J);st(S,"SID",c.M),st(S,"RID",x),st(S,"AID",c.K),ia(c,S),c.u&&c.o&&na(S,c.u,c.o),x=new fs(c,c.j,x,c.D+1),c.u===null&&(x.J=c.o),v&&(c.i=v.G.concat(c.i)),v=tc(c,x,1e3),x.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ll(c.h,x),Os(x,S,v)}function ia(c,v){c.H&&Ae(c.H,function(x,S){st(v,S,x)}),c.l&&Ae({},function(x,S){st(v,S,x)})}function tc(c,v,x){x=Math.min(c.i.length,x);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ve=-1;for(;;){const Ct=["count="+x];Ve==-1?x>0?(Ve=q[0].g,Ct.push("ofs="+Ve)):Ve=0:Ct.push("ofs="+Ve);let Ze=!0;for(let yt=0;yt<x;yt++){var K=q[yt].g;const ts=q[yt].map;if(K-=Ve,K<0)Ve=Math.max(0,q[yt].g-100),Ze=!1;else try{K="req"+K+"_"||"";try{var ue=ts instanceof Map?ts:Object.entries(ts);for(const[Gs,vs]of ue){let _s=vs;p(vs)&&(_s=Ds(vs)),Ct.push(K+Gs+"="+encodeURIComponent(_s))}}catch(Gs){throw Ct.push(K+"type="+encodeURIComponent("_badmap")),Gs}}catch{S&&S(ts)}}if(Ze){ue=Ct.join("&");break e}}ue=void 0}return c=c.i.splice(0,x),v.G=c,ue}function nc(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;oe||C(),de||(oe(),de=!0),R.add(v,c),c.A=0}}function aa(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Wn(y(c.Da,c),ic(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,sc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Wn(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),Kr(this),sc(this))};function xl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function sc(c){c.g=new fs(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=kt(c.na);st(v,"RID","rpc"),st(v,"SID",c.M),st(v,"AID",c.K),st(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&st(v,"TO",c.ia),st(v,"TYPE","xmlhttp"),ia(c,v),c.u&&c.o&&na(v,c.u,c.o),c.O&&(c.g.H=c.O);var x=c.g;c=c.ba,x.M=1,x.A=Zi(kt(v)),x.u=null,x.R=!0,Ua(x,c)}r.Va=function(){this.C!=null&&(this.C=null,Kr(this),aa(this),gt(19))};function Ya(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function rc(c,v){var x=null;if(c.g==v){Ya(c),xl(c),c.g=null;var S=2}else if(Ps(c.h,v))x=v.G,ul(c.h,v),S=1;else return;if(c.I!=0){if(v.o)if(S==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var q=c.D;S=wt(),Nt(S,new Xn(S,x)),Hs(c)}else nc(c);else if(q=v.m,q==3||q==0&&v.X>0||!(S==1&&Ka(c,v)||S==2&&aa(c)))switch(x&&x.length>0&&(v=c.h,v.i=v.i.concat(x)),q){case 1:Fs(c,5);break;case 4:Fs(c,10);break;case 3:Fs(c,6);break;default:Fs(c,2)}}}function ic(c,v){let x=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(x*=2),x*v}function Fs(c,v){if(c.j.info("Error code "+v),v==2){var x=y(c.bb,c),S=c.Ua;const q=!S;S=new kn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||$t(S,"https"),Zi(S),q?ps(S.toString(),x):pl(S.toString(),x)}else gt(2);c.I=0,c.l&&c.l.pa(v),ac(c),Qa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function ac(c){if(c.I=0,c.ja=[],c.l){const v=cl(c.h);(v.length!=0||c.i.length!=0)&&(B(c.ja,v),B(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function oc(c,v,x){var S=x instanceof kn?kt(x):new kn(x);if(S.g!="")v&&(S.g=v+"."+S.g),zr(S,S.u);else{var q=h.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const K=new kn(null);S&&$t(K,S),v&&(K.g=v),q&&zr(K,q),x&&(K.h=x),S=K}return x=c.G,v=c.wa,x&&v&&st(S,x,v),st(S,"VER",c.ka),ia(c,S),S}function lc(c,v,x){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new ot(new zs({ab:x})):new ot(c.ma),v.Fa(c.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function uc(){}r=uc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Yr(){}Yr.prototype.g=function(c,v){return new gn(c,v)};function gn(c,v){Et.call(this),this.g=new Qr(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!A(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!A(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new cr(this)}E(gn,Et),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){vl(this.g)},gn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.v&&(x={},x.__data__=Ds(c),c=x);v.i.push(new Vt(v.Ya++,c)),v.I==3&&Hs(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,gn.Z.N.call(this)};function cc(c){$.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const x in v){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}E(cc,$);function hc(){me.call(this),this.status=1}E(hc,me);function cr(c){this.g=c}E(cr,uc),cr.prototype.ra=function(){Nt(this.g,"a")},cr.prototype.qa=function(c){Nt(this.g,new cc(c))},cr.prototype.pa=function(c){Nt(this.g,new hc)},cr.prototype.oa=function(){Nt(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Jb=function(){return new Yr},Wb=function(){return wt()},Xb=Ee,tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,Dh=ar,Xi.COMPLETE="complete",$b=Xi,Yi.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",Et.prototype.listen=Et.prototype.J,lu=Yi,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,Yb=ot}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});const k_="@firebase/firestore",L_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Np("@firebase/firestore");function No(){return Ia.logLevel}function pe(r,...e){if(Ia.logLevel<=He.DEBUG){const n=e.map(Pp);Ia.debug(`Firestore (${Jo}): ${r}`,...n)}}function Mr(r,...e){if(Ia.logLevel<=He.ERROR){const n=e.map(Pp);Ia.error(`Firestore (${Jo}): ${r}`,...n)}}function zo(r,...e){if(Ia.logLevel<=He.WARN){const n=e.map(Pp);Ia.warn(`Firestore (${Jo}): ${r}`,...n)}}function Pp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,Zb(r,i,n)}function Zb(r,e,n){let i=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Mr(i),new Error(i)}function Xe(r,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,r||Zb(e,o,i)}function je(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class k2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class L2{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,n(g)):Promise.resolve();let u=new er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new er,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new er)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xe(typeof i.accessToken=="string",31837,{l:i}),new eE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class P2{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U2{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new P2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class P_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ws(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const i=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>i(u)))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new P_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new P_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<r;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=B2(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%62))}return i}}function Fe(r,e){return r<e?-1:r>e?1:0}function np(r,e){const n=Math.min(r.length,e.length);for(let i=0;i<n;i++){const o=r.charAt(i),u=e.charAt(i);if(o!==u)return Um(o)===Um(u)?Fe(o,u):Um(o)?1:-1}return Fe(r.length,e.length)}const q2=55296,H2=57343;function Um(r){const e=r.charCodeAt(0);return e>=q2&&e<=H2}function Bo(r,e,n){return r.length===e.length&&r.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="__name__";class Ws{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ne(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ws?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const u=Ws.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Fe(e.length,n.length)}static compareSegments(e,n){const i=Ws.isNumericId(e),o=Ws.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?Ws.extractNumericId(e).compare(Ws.extractNumericId(n)):np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ri.fromString(e.substring(4,e.length-2))}}class ht extends Ws{construct(e,n,i){return new ht(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const F2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Ws{construct(e,n,i){return new cn(e,n,i)}static isValidIdentifier(e){return F2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U_}static keyField(){return new cn([U_])}static fromServerFormat(e){const n=[];let i="",o=0;const u=()=>{if(i.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(u(),o++)}if(u(),h)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ht.fromString(e))}static fromName(e){return new we(ht.fromString(e).popFirst(5))}static empty(){return new we(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r,e,n){if(!n)throw new ce(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function G2(r,e,n,i){if(e===!0&&i===!0)throw new ce(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function z_(r){if(!we.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function B_(r){if(we.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function fd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ne(12329,{type:typeof r})}function Yn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fd(r);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(r,e){const n={typeString:r};return e&&(n.value=e),n}function ku(r,e){if(!nE(r))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,u="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){n=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${i}' field to equal '${u.value}'`;break}}if(n)throw new ce(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=-62135596800,H_=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*H_);return new pt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q_)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Ft("string",pt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new pt(0,0))}static max(){return new Ie(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=-1;function Q2(r,e){const n=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new pt(n+1,0):new pt(n,i));return new ji(o,we.empty(),e)}function K2(r){return new ji(r.readTime,r.key,Eu)}class ji{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ji(Ie.min(),we.empty(),Eu)}static max(){return new ji(Ie.max(),we.empty(),Eu)}}function Y2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(r.documentKey,e.documentKey),n!==0?n:Fe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==$2)throw r;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,i)=>{n(e)}))}static reject(e){return new se(((n,i)=>{i(e)}))}static waitFor(e){return new se(((n,i)=>{let o=0,u=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++u,h&&u===o&&n()}),(g=>i(g)))})),h=!0,u===o&&n()}))}static or(e){let n=se.resolve(!1);for(const i of e)n=n.next((o=>o?se.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,u)=>{i.push(n.call(this,o,u))})),this.waitFor(i)}static mapArray(e,n){return new se(((i,o)=>{const u=e.length,h=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((b=>{h[y]=b,++p,p===u&&i(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new se(((i,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):i()};u()}))}}function W2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function el(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}md.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function Lu(r){return r==null}function Qh(r){return r===0&&1/r==-1/0}function J2(r){return typeof r=="number"&&Number.isInteger(r)&&!Qh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="";function Z2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=F_(e)),e=eR(r.get(n),e);return F_(e)}function eR(r,e){let n=e;const i=r.length;for(let o=0;o<i;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case sE:n+="";break;default:n+=u}}return n}function F_(r){return r+sE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function zi(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function rE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,i,o,u){this.key=e,this.value=n,this.color=i??un.RED,this.left=o??un.EMPTY,this.right=u??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,u){return new un(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return un.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,i,o,u){return this}insert(e,n,i){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(e){return new Q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class Q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Qt(cn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iE("Invalid base64 string: "+u):u}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const tR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(r){if(Xe(!!r,39018),typeof r=="string"){let e=0;const n=tR.exec(r);if(Xe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:jt(r.seconds),nanos:jt(r.nanos)}}function jt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Mi(r){return typeof r=="string"?hn.fromBase64String(r):hn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="server_timestamp",oE="__type__",lE="__previous_value__",uE="__local_write_time__";function Bp(r){var n,i;return((i=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[oE])==null?void 0:i.stringValue)===aE}function pd(r){const e=r.mapValue.fields[lE];return Bp(e)?pd(e):e}function wu(r){const e=Oi(r.mapValue.fields[uE].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n,i,o,u,h,p,g,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const Kh="(default)";class Tu{constructor(e,n){this.projectId=e,this.database=n||Kh}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database===Kh}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__type__",sR="__max__",_h={mapValue:{}},hE="__vector__",Yh="value";function Vi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bp(r)?4:iR(r)?9007199254740991:rR(r)?10:11:Ne(28295,{value:r})}function rr(r,e){if(r===e)return!0;const n=Vi(r);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return wu(r).isEqual(wu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Oi(o.timestampValue),p=Oi(u.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return Mi(o.bytesValue).isEqual(Mi(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return jt(o.geoPointValue.latitude)===jt(u.geoPointValue.latitude)&&jt(o.geoPointValue.longitude)===jt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return jt(o.integerValue)===jt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=jt(o.doubleValue),p=jt(u.doubleValue);return h===p?Qh(h)===Qh(p):isNaN(h)&&isNaN(p)}return!1})(r,e);case 9:return Bo(r.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},p=u.mapValue.fields||{};if(G_(h)!==G_(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!rr(h[g],p[g])))return!1;return!0})(r,e);default:return Ne(52216,{left:r})}}function Su(r,e){return(r.values||[]).find((n=>rr(n,e)))!==void 0}function qo(r,e){if(r===e)return 0;const n=Vi(r),i=Vi(e);if(n!==i)return Fe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const p=jt(u.integerValue||u.doubleValue),g=jt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return K_(r.timestampValue,e.timestampValue);case 4:return K_(wu(r),wu(e));case 5:return np(r.stringValue,e.stringValue);case 6:return(function(u,h){const p=Mi(u),g=Mi(h);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const p=u.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const b=Fe(p[y],g[y]);if(b!==0)return b}return Fe(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const p=Fe(jt(u.latitude),jt(h.latitude));return p!==0?p:Fe(jt(u.longitude),jt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Y_(r.arrayValue,e.arrayValue);case 10:return(function(u,h){var T,k,B,z;const p=u.fields||{},g=h.fields||{},y=(T=p[Yh])==null?void 0:T.arrayValue,b=(k=g[Yh])==null?void 0:k.arrayValue,E=Fe(((B=y==null?void 0:y.values)==null?void 0:B.length)||0,((z=b==null?void 0:b.values)==null?void 0:z.length)||0);return E!==0?E:Y_(y,b)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===_h.mapValue&&h===_h.mapValue)return 0;if(u===_h.mapValue)return 1;if(h===_h.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=h.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let E=0;E<g.length&&E<b.length;++E){const T=np(g[E],b[E]);if(T!==0)return T;const k=qo(p[g[E]],y[b[E]]);if(k!==0)return k}return Fe(g.length,b.length)})(r.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function K_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Fe(r,e);const n=Oi(r),i=Oi(e),o=Fe(n.seconds,i.seconds);return o!==0?o:Fe(n.nanos,i.nanos)}function Y_(r,e){const n=r.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const u=qo(n[o],i[o]);if(u)return u}return Fe(n.length,i.length)}function Ho(r){return sp(r)}function sp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const i=Oi(n);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Mi(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return we.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let i="[",o=!0;for(const u of n.values||[])o?o=!1:i+=",",i+=sp(u);return i+"]"})(r.arrayValue):"mapValue"in r?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of i)u?u=!1:o+=",",o+=`${h}:${sp(n.fields[h])}`;return o+"}"})(r.mapValue):Ne(61005,{value:r})}function jh(r){switch(Vi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pd(r);return e?16+jh(e):16;case 5:return 2*r.stringValue.length;case 6:return Mi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,u)=>o+jh(u)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return zi(i.fields,((u,h)=>{o+=u.length+jh(h)})),o})(r.mapValue);default:throw Ne(13486,{value:r})}}function $_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function qp(r){return!!r&&"arrayValue"in r}function X_(r){return!!r&&"nullValue"in r}function W_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Oh(r){return!!r&&"mapValue"in r}function rR(r){var n,i;return((i=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[cE])==null?void 0:i.stringValue)===hE}function fu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return zi(r.mapValue.fields,((n,i)=>e.mapValue.fields[n]=fu(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(r.arrayValue.values[n]);return e}return{...r}}function iR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===sR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=cn.emptyPath(),i={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,i,o),i={},o=[],n=p.popLast()}h?i[p.lastSegment()]=fu(h):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,i,o)}delete(e){const n=this.field(e.popLast());Oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){zi(n,((o,u)=>e[o]=u));for(const o of i)delete e[o]}clone(){return new vn(fu(this.value))}}function dE(r){const e=[];return zi(r.fields,((n,i)=>{const o=new cn([n]);if(Oh(i)){const u=dE(i.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,i,o,u,h,p){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=u,this.data=h,this.documentState=p}static newInvalidDocument(e){return new en(e,0,Ie.min(),Ie.min(),Ie.min(),vn.empty(),0)}static newFoundDocument(e,n,i,o){return new en(e,1,n,Ie.min(),i,o,0)}static newNoDocument(e,n){return new en(e,2,n,Ie.min(),Ie.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Ie.min(),Ie.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n){this.position=e,this.inclusive=n}}function J_(r,e,n){let i=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?i=we.comparator(we.fromName(h.referenceValue),n.key):i=qo(h,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function Z_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!rr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function aR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{}class qt extends fE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new lR(e,n,i):n==="array-contains"?new hR(e,i):n==="in"?new dR(e,i):n==="not-in"?new fR(e,i):n==="array-contains-any"?new mR(e,i):new qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new uR(e,i):new cR(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qo(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class As extends fE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new As(e,n)}matches(e){return mE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mE(r){return r.op==="and"}function pE(r){return oR(r)&&mE(r)}function oR(r){for(const e of r.filters)if(e instanceof As)return!1;return!0}function ip(r){if(r instanceof qt)return r.field.canonicalString()+r.op.toString()+Ho(r.value);if(pE(r))return r.filters.map((e=>ip(e))).join(",");{const e=r.filters.map((n=>ip(n))).join(",");return`${r.op}(${e})`}}function gE(r,e){return r instanceof qt?(function(i,o){return o instanceof qt&&i.op===o.op&&i.field.isEqual(o.field)&&rr(i.value,o.value)})(r,e):r instanceof As?(function(i,o){return o instanceof As&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((u,h,p)=>u&&gE(h,o.filters[p])),!0):!1})(r,e):void Ne(19439)}function yE(r){return r instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`})(r):r instanceof As?(function(n){return n.op.toString()+" {"+n.getFilters().map(yE).join(" ,")+"}"})(r):"Filter"}class lR extends qt{constructor(e,n,i){super(e,n,i),this.key=we.fromName(i.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class uR extends qt{constructor(e,n){super(e,"in",n),this.keys=vE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class cR extends qt{constructor(e,n){super(e,"not-in",n),this.keys=vE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vE(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>we.fromName(i.referenceValue)))}class hR extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qp(n)&&Su(n.arrayValue,this.value)}}class dR extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}}class fR extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Su(this.value.arrayValue,n)}}class mR extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Su(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n=null,i=[],o=[],u=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=h,this.endAt=p,this.Te=null}}function ex(r,e=null,n=[],i=[],o=null,u=null,h=null){return new pR(r,e,n,i,o,u,h)}function Hp(r){const e=je(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>ip(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(u){return u.field.canonicalString()+u.dir})(i))).join(","),Lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Ho(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Ho(i))).join(",")),e.Te=n}return e.Te}function Fp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!aR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!gE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Z_(r.startAt,e.startAt)&&Z_(r.endAt,e.endAt)}function ap(r){return we.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n=null,i=[],o=[],u=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gR(r,e,n,i,o,u,h,p){return new Pu(r,e,n,i,o,u,h,p)}function Gp(r){return new Pu(r)}function tx(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _E(r){return r.collectionGroup!==null}function mu(r){const e=je(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Qt(cn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Xh(u,i))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new Xh(cn.keyField(),i))}return e.Ie}function tr(r){const e=je(r);return e.Ee||(e.Ee=yR(e,mu(r))),e.Ee}function yR(r,e){if(r.limitType==="F")return ex(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Xh(o.field,u)}));const n=r.endAt?new $h(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new $h(r.startAt.position,r.startAt.inclusive):null;return ex(r.path,r.collectionGroup,e,r.filters,r.limit,n,i)}}function op(r,e){const n=r.filters.concat([e]);return new Pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function lp(r,e,n){return new Pu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function gd(r,e){return Fp(tr(r),tr(e))&&r.limitType===e.limitType}function xE(r){return`${Hp(tr(r))}|lt:${r.limitType}`}function Co(r){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>yE(o))).join(", ")}]`),Lu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Ho(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Ho(o))).join(",")),`Target(${i})`})(tr(r))}; limitType=${r.limitType})`}function yd(r,e){return e.isFoundDocument()&&(function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):we.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)})(r,e)&&(function(i,o){for(const u of mu(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,p,g){const y=J_(h,p,g);return h.inclusive?y<=0:y<0})(i.startAt,mu(i),o)||i.endAt&&!(function(h,p,g){const y=J_(h,p,g);return h.inclusive?y>=0:y>0})(i.endAt,mu(i),o))})(r,e)}function vR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function bE(r){return(e,n)=>{let i=!1;for(const o of mu(r)){const u=_R(o,e,n);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function _R(r,e,n){const i=r.field.isKeyField()?we.comparator(e.key,n.key):(function(u,h,p){const g=h.data.field(u),y=p.data.field(u);return g!==null&&y!==null?qo(g,y):Ne(42886)})(r.field,e,n);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ne(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,((n,i)=>{for(const[o,u]of i)e(o,u)}))}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new bt(we.comparator);function Vr(){return xR}const EE=new bt(we.comparator);function uu(...r){let e=EE;for(const n of r)e=e.insert(n.key,n);return e}function wE(r){let e=EE;return r.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function Aa(){return pu()}function TE(){return pu()}function pu(){return new Ma((r=>r.toString()),((r,e)=>r.isEqual(e)))}const bR=new bt(we.comparator),ER=new Qt(we.comparator);function Ge(...r){let e=ER;for(const n of r)e=e.add(n);return e}const wR=new Qt(Fe);function TR(){return wR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function SE(r){return{integerValue:""+r}}function SR(r,e){return J2(e)?SE(e):Qp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this._=void 0}}function AR(r,e,n){return r instanceof Wh?(function(o,u){const h={fields:{[oE]:{stringValue:aE},[uE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bp(u)&&(u=pd(u)),u&&(h.fields[lE]=u),{mapValue:h}})(n,e):r instanceof Au?NE(r,e):r instanceof Nu?CE(r,e):(function(o,u){const h=AE(o,u),p=nx(h)+nx(o.Ae);return rp(h)&&rp(o.Ae)?SE(p):Qp(o.serializer,p)})(r,e)}function NR(r,e,n){return r instanceof Au?NE(r,e):r instanceof Nu?CE(r,e):n}function AE(r,e){return r instanceof Jh?(function(i){return rp(i)||(function(u){return!!u&&"doubleValue"in u})(i)})(e)?e:{integerValue:0}:null}class Wh extends vd{}class Au extends vd{constructor(e){super(),this.elements=e}}function NE(r,e){const n=RE(e);for(const i of r.elements)n.some((o=>rr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Nu extends vd{constructor(e){super(),this.elements=e}}function CE(r,e){let n=RE(e);for(const i of r.elements)n=n.filter((o=>!rr(o,i)));return{arrayValue:{values:n}}}class Jh extends vd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nx(r){return jt(r.integerValue||r.doubleValue)}function RE(r){return qp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function CR(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof Au&&o instanceof Au||i instanceof Nu&&o instanceof Nu?Bo(i.elements,o.elements,rr):i instanceof Jh&&o instanceof Jh?rr(i.Ae,o.Ae):i instanceof Wh&&o instanceof Wh})(r.transform,e.transform)}class RR{constructor(e,n){this.version=e,this.transformResults=n}}class Ht{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ht}static exists(e){return new Ht(void 0,e)}static updateTime(e){return new Ht(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _d{}function IE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new zu(r.key,Ht.none()):new Uu(r.key,r.data,Ht.none());{const n=r.data,i=vn.empty();let o=new Qt(cn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?i.delete(u):i.set(u,h),o=o.add(u)}return new Bi(r.key,i,new Gn(o.toArray()),Ht.none())}}function IR(r,e,n){r instanceof Uu?(function(o,u,h){const p=o.value.clone(),g=rx(o.fieldTransforms,u,h.transformResults);p.setAll(g),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Bi?(function(o,u,h){if(!Mh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const p=rx(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(DE(o)),g.setAll(p),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function gu(r,e,n,i){return r instanceof Uu?(function(u,h,p,g){if(!Mh(u.precondition,h))return p;const y=u.value.clone(),b=ix(u.fieldTransforms,g,h);return y.setAll(b),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,n,i):r instanceof Bi?(function(u,h,p,g){if(!Mh(u.precondition,h))return p;const y=ix(u.fieldTransforms,g,h),b=h.data;return b.setAll(DE(u)),b.setAll(y),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(r,e,n,i):(function(u,h,p){return Mh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(r,e,n)}function DR(r,e){let n=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),u=AE(i.transform,o||null);u!=null&&(n===null&&(n=vn.empty()),n.set(i.field,u))}return n||null}function sx(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Bo(i,o,((u,h)=>CR(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Uu extends _d{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bi extends _d{constructor(e,n,i,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function DE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=r.data.field(n);e.set(n,i)}})),e}function rx(r,e,n){const i=new Map;Xe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,p=e.data.field(u.field);i.set(u.field,NR(h,p,n[o]))}return i}function ix(r,e,n){const i=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);i.set(o.field,AR(u,h,e))}return i}class zu extends _d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jE extends _d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&IR(u,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=gu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=gu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=TE();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let p=this.applyToLocalView(h,u.mutatedFields);p=n.has(o.key)?null:p;const g=IE(h,p);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ie.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,((n,i)=>sx(n,i)))&&Bo(this.baseMutations,e.baseMutations,((n,i)=>sx(n,i)))}}class Kp{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Xe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return bR})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,i[h].version);return new Kp(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,$e;function OE(r){switch(r){case J.OK:return Ne(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ne(15467,{code:r})}}function ME(r){if(r===void 0)return Mr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Bt.OK:return J.OK;case Bt.CANCELLED:return J.CANCELLED;case Bt.UNKNOWN:return J.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return J.INTERNAL;case Bt.UNAVAILABLE:return J.UNAVAILABLE;case Bt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Bt.NOT_FOUND:return J.NOT_FOUND;case Bt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Bt.ABORTED:return J.ABORTED;case Bt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Bt.DATA_LOSS:return J.DATA_LOSS;default:return Ne(39323,{code:r})}}($e=Bt||(Bt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Ri([4294967295,4294967295],0);function ax(r){const e=VR().encode(r),n=new Kb;return n.update(e),new Uint8Array(n.digest())}function ox(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ri([n,i],0),new Ri([o,u],0)]}class Yp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(i<0)throw new cu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ri.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Ri.fromNumber(i)));return o.compare(kR)===1&&(o=new Ri([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ax(e),[i,o]=ox(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);if(!this.we(h))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Yp(u,o,n);return i.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=ax(e),[i,o]=ox(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(i,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new xd(Ie.min(),o,new bt(Fe),Vr(),Ge())}}class Bu{constructor(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Bu(i,n,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class VE{constructor(e,n){this.targetId=e,this.Ce=n}}class kE{constructor(e,n,i=hn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class lx{constructor(){this.ve=0,this.Fe=ux(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),n=Ge(),i=Ge();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ne(38017,{changeType:u})}})),new Bu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=ux()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vr(),this.Je=xh(),this.He=xh(),this.Ye=new bt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ap(u))if(i===0){const h=new we(u.path);this.et(n,h,en.newNoDocument(h,Ie.min()))}else Xe(i===1,20013,{expectedCount:i});else{const h=this._t(n);if(h!==i){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=n;let h,p;try{h=Mi(i).toUint8Array()}catch(g){if(g instanceof iE)return zo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Yp(h,o,u)}catch(g){return zo(g instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((u=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const p=this.ot(h);if(p){if(u.current&&ap(p.target)){const g=new we(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,en.newNoDocument(g,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let i=Ge();this.He.forEach(((u,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(i=i.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new xd(e,n,this.Ye,this.je,i);return this.je=Vr(),this.Je=xh(),this.He=xh(),this.Ye=new bt(Fe),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new lx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xh(){return new bt(we.comparator)}function ux(){return new bt(we.comparator)}const PR={asc:"ASCENDING",desc:"DESCENDING"},UR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zR={and:"AND",or:"OR"};class BR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(r,e){return r.useProto3Json||Lu(e)?e:{value:e}}function Zh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qR(r,e){return Zh(r,e.toTimestamp())}function Qn(r){return Xe(!!r,49232),Ie.fromTimestamp((function(n){const i=Oi(n);return new pt(i.seconds,i.nanos)})(r))}function $p(r,e){return cp(r,e).canonicalString()}function cp(r,e){const n=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function PE(r){const e=ht.fromString(r);return Xe(FE(e),10190,{key:e.toString()}),e}function ed(r,e){return $p(r.databaseId,e.path)}function yu(r,e){const n=PE(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new we(zE(n))}function UE(r,e){return $p(r.databaseId,e)}function HR(r){const e=PE(r);return e.length===4?ht.emptyPath():zE(e)}function hp(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zE(r){return Xe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function cx(r,e,n){return{name:ed(r,e),fields:n.value.mapValue.fields}}function FR(r,e){return"found"in e?(function(i,o){Xe(!!o.found,43571),o.found.name,o.found.updateTime;const u=yu(i,o.found.name),h=Qn(o.found.updateTime),p=o.found.createTime?Qn(o.found.createTime):Ie.min(),g=new vn({mapValue:{fields:o.found.fields}});return en.newFoundDocument(u,h,p,g)})(r,e):"missing"in e?(function(i,o){Xe(!!o.missing,3894),Xe(!!o.readTime,22933);const u=yu(i,o.missing),h=Qn(o.readTime);return en.newNoDocument(u,h)})(r,e):Ne(7234,{result:e})}function GR(r,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Xe(b===void 0||typeof b=="string",58123),hn.fromBase64String(b||"")):(Xe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),hn.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const b=y.code===void 0?J.UNKNOWN:ME(y.code);return new ce(b,y.message||"")})(h);n=new kE(i,o,u,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=yu(r,i.document.name),u=Qn(i.document.updateTime),h=i.document.createTime?Qn(i.document.createTime):Ie.min(),p=new vn({mapValue:{fields:i.document.fields}}),g=en.newFoundDocument(o,u,h,p),y=i.targetIds||[],b=i.removedTargetIds||[];n=new Vh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=yu(r,i.document),u=i.readTime?Qn(i.readTime):Ie.min(),h=en.newNoDocument(o,u),p=i.removedTargetIds||[];n=new Vh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=yu(r,i.document),u=i.removedTargetIds||[];n=new Vh([],u,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,h=new MR(o,u),p=i.targetId;n=new VE(p,h)}}return n}function BE(r,e){let n;if(e instanceof Uu)n={update:cx(r,e.key,e.value)};else if(e instanceof zu)n={delete:ed(r,e.key)};else if(e instanceof Bi)n={update:cx(r,e.key,e.data),updateMask:eI(e.fieldMask)};else{if(!(e instanceof jE))return Ne(16599,{Vt:e.type});n={verify:ed(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(u,h){const p=h.transform;if(p instanceof Wh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Nu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ne(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:qR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ne(27497)})(r,e.precondition)),n}function QR(r,e){return r&&r.length>0?(Xe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Qn(o.updateTime):Qn(u);return h.isEqual(Ie.min())&&(h=Qn(u)),new RR(h,o.transformResults||[])})(n,e)))):[]}function KR(r,e){return{documents:[UE(r,e.path)]}}function YR(r,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=UE(r,o);const u=(function(y){if(y.length!==0)return HE(As.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((b=>(function(T){return{field:Ro(T.field),direction:WR(T.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=up(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function $R(r){let e=HR(r.parent);const n=r.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Xe(i===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(E){const T=qE(E);return T instanceof As&&pE(T)?T.getFilters():[T]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((T=>(function(B){return new Xh(Io(B.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(T)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let T;return T=typeof E=="object"?E.value:E,Lu(T)?null:T})(n.limit));let g=null;n.startAt&&(g=(function(E){const T=!!E.before,k=E.values||[];return new $h(k,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const T=!E.before,k=E.values||[];return new $h(k,T)})(n.endAt)),gR(e,o,h,u,p,"F",g,y)}function XR(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Io(n.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Io(n.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Io(n.unaryFilter.field);return qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Io(n.unaryFilter.field);return qt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(r):r.fieldFilter!==void 0?(function(n){return qt.create(Io(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return As.create(n.compositeFilter.filters.map((i=>qE(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(r):Ne(30097,{filter:r})}function WR(r){return PR[r]}function JR(r){return UR[r]}function ZR(r){return zR[r]}function Ro(r){return{fieldPath:r.canonicalString()}}function Io(r){return cn.fromServerFormat(r.fieldPath)}function HE(r){return r instanceof qt?(function(n){if(n.op==="=="){if(W_(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(X_(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W_(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(X_(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:JR(n.op),value:n.value}}})(r):r instanceof As?(function(n){const i=n.getFilters().map((o=>HE(o)));return i.length===1?i[0]:{compositeFilter:{op:ZR(n.op),filters:i}}})(r):Ne(54877,{filter:r})}function eI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function FE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,i,o,u=Ie.min(),h=Ie.min(),p=hn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.yt=e}}function nI(r){const e=$R({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.Cn=new rI}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ji.min())}updateCollectionGroup(e,n,i){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class rI{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Qt(ht.comparator),u=!o.has(i);return this.index[n]=o.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Qt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(GE,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fo(0)}static cr(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="LruGarbageCollector",iI=1048576;function fx([r,e],[n,i]){const o=Fe(r,n);return o===0?Fe(e,i):o}class aI{constructor(e){this.Ir=e,this.buffer=new Qt(fx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();fx(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oI{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(dx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){el(n)?pe(dx,"Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Vr(3e5)}))}}class lI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(md.ce);const i=new aI(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(hx)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hx):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,u,h,p,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,p=Date.now(),this.removeTargets(e,i,n)))).next((E=>(u=E,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),No()<=He.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function uI(r,e){return new lI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.changes=new Ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?se.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&gu(i.mutation,o,Gn.empty(),pt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ge()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ge()){const o=Aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((u=>{let h=uu();return u.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const i=Aa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ge())))}populateOverlays(e,n,i){const o=[];return i.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,i,o){let u=Vr();const h=pu(),p=(function(){return pu()})();return n.forEach(((g,y)=>{const b=i.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Bi)?u=u.insert(y.key,y):b!==void 0?(h.set(y.key,b.mutation.getFieldMask()),gu(b.mutation,y,b.mutation.getFieldMask(),pt.now())):h.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>h.set(y,b))),n.forEach(((y,b)=>p.set(y,new hI(b,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const i=pu();let o=new bt(((h,p)=>h-p)),u=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let b=i.get(g)||Gn.empty();b=p.applyToLocalView(y,b),i.set(g,b);const E=(o.get(p.batchId)||Ge()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,b=g.value,E=TE();b.forEach((T=>{if(!u.has(T)){const k=IE(n.get(T),i.get(T));k!==null&&E.set(T,k),u=u.add(T)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return se.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(h){return we.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_E(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-u.size):se.resolve(Aa());let p=Eu,g=u;return h.next((y=>se.forEach(y,((b,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),u.get(b)?se.resolve():this.remoteDocumentCache.getEntry(e,b).next((T=>{g=g.insert(b,T)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Ge()))).next((b=>({batchId:p,changes:wE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((i=>{let o=uu();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const u=n.collectionGroup;let h=uu();return this.indexManager.getCollectionParents(e,u).next((p=>se.forEach(p,(g=>{const y=(function(E,T){return new Pu(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((b=>{b.forEach(((E,T)=>{h=h.insert(E,T)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,o)))).next((h=>{u.forEach(((g,y)=>{const b=y.getKey();h.get(b)===null&&(h=h.insert(b,en.newInvalidDocument(b)))}));let p=uu();return h.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&gu(b.mutation,y,Gn.empty(),pt.now()),yd(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Qn(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:nI(o.bundledQuery),readTime:Qn(o.readTime)}})(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.overlays=new bt(we.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Aa();return se.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&i.set(o,u)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,u)=>{this.St(e,n,u)})),se.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(i)),se.resolve()}getOverlaysForCollection(e,n,i){const o=Aa(),u=n.length+1,h=new we(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>i&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let u=new bt(((y,b)=>y-b));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let b=u.get(y.largestBatchId);b===null&&(b=Aa(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=Aa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=o)););return se.resolve(p)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new OR(n,i));let u=this.qr.get(n);u===void 0&&(u=Ge(),this.qr.set(n,u)),this.qr.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this.Qr=new Qt(Jt.$r),this.Ur=new Qt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Jt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new Jt(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new we(new ht([])),i=new Jt(n,e),o=new Jt(n,e+1),u=[];return this.Ur.forEachInRange([i,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new ht([])),i=new Jt(n,e),o=new Jt(n,e+1);let u=Ge();return this.Ur.forEachInRange([i,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Jt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(Jt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new jR(u,n,i,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Jt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?zp:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Jt(n,0),o=new Jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([i,o],(h=>{const p=this.Xr(h.Yr);u.push(p)})),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Qt(Fe);return n.forEach((o=>{const u=new Jt(o,0),h=new Jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(p=>{i=i.add(p.Yr)}))})),se.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let u=i;we.isDocumentKey(u)||(u=u.child(""));const h=new Jt(new we(u),0);let p=new Qt(Fe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),se.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return se.forEach(n.mutations,(o=>{const u=new Jt(o.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new Jt(n,0),o=this.Zr.firstAfterOrEqual(i);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.ri=e,this.docs=(function(){return new bt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return se.resolve(i?i.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let i=Vr();return n.forEach((o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),se.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let u=Vr();const h=n.path,p=new we(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||Y2(K2(b),i)<=0||(o.has(b.key)||yd(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,i,o){Ne(9500)}ii(e,n){return se.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new vI(this)}getSize(e){return se.resolve(this.size)}}class vI extends cI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.persistence=e,this.si=new Ma((n=>Hp(n)),Fp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Xp,this.targetCount=0,this.ai=Fo.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Fo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,i){let o=0;const u=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&i.get(p.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),se.waitFor(u).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return se.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),se.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return se.resolve(i)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.ui={},this.overlays={},this.ci=new md(0),this.li=!1,this.li=!0,this.hi=new pI,this.referenceDelegate=e(this),this.Pi=new _I(this),this.indexManager=new sI,this.remoteDocumentCache=(function(o){return new yI(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new tI(n),this.Ii=new fI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new gI(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){pe("MemoryPersistence","Starting transaction:",e);const o=new xI(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return se.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class xI extends X2{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Ri=new Xp,this.Vi=null}static mi(e){return new Wp(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),se.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(i=>{const o=we.fromPath(i);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class td{constructor(e,n){this.persistence=e,this.pi=new Ma((i=>Z2(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=uI(this,n)}static mi(e,n){return new td(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((i,o)=>this.br(e,i,o).next((u=>u?se.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(i++,u.removeEntry(h,Ie.min()))})))).next((()=>u.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jh(e.data.value)),n}br(e,n,i){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return se.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ge(),o=Ge();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jp(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tA()?8:W2(pn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,i).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new bI;return this.Ss(e,n,h).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>u.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(No()<=He.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(No()<=He.DEBUG&&pe("QueryEngine","Query:",Co(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(No()<=He.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):se.resolve())}ys(e,n){if(tx(n))return se.resolve(null);let i=tr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),i=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((u=>{const h=Ge(...u);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,i).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,h,g.readTime)?this.ys(e,lp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,i,o){return tx(n)||o.isEqual(Ie.min())?se.resolve(null):this.ps.getDocuments(e,i).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,i,o)?se.resolve(null):(No()<=He.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Co(n)),this.vs(e,h,n,Q2(o,Eu)).next((p=>p)))}))}Ds(e,n){let i=new Qt(bE(e));return n.forEach(((o,u)=>{yd(e,u)&&(i=i.add(u))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,i){return No()<=He.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Co(n)),this.ps.getDocumentsMatchingQuery(e,n,ji.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LocalStore",wI=3e8;class TI{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new bt(Fe),this.xs=new Ma((u=>Hp(u)),Fp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function SI(r,e,n,i){return new TI(r,e,n,i)}async function KE(r,e){const n=je(r);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((u=>{const h=[],p=[];let g=Ge();for(const y of o){h.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){p.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(i,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function AI(r,e){const n=je(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,b){const E=y.batch,T=E.keys();let k=se.resolve();return T.forEach((B=>{k=k.next((()=>b.getEntry(g,B))).next((z=>{const P=y.docVersions.get(B);Xe(P!==null,48541),z.version.compareTo(P)<0&&(E.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),b.addEntry(z)))}))})),k.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,i,e,u).next((()=>u.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(p){let g=Ge();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function YE(r){const e=je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function NI(r,e){const n=je(r),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((b,E)=>{const T=o.get(E);if(!T)return;p.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,E))));let k=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(E)!==null?k=k.withResumeToken(hn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):b.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(b.resumeToken,i)),o=o.insert(E,k),(function(z,P,te){return z.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=wI?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(T,k,b)&&p.push(n.Pi.updateTargetData(u,k))}));let g=Vr(),y=Ge();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),p.push(CI(u,h,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!i.isEqual(Ie.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,i)));p.push(b)}return se.waitFor(p).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function CI(r,e,n){let i=Ge(),o=Ge();return n.forEach((u=>i=i.add(u))),e.getEntries(r,i).next((u=>{let h=Vr();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):pe(Zp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function RI(r,e){const n=je(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=zp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function II(r,e){const n=je(r);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((u=>u?(o=u,se.resolve(o)):n.Pi.allocateTargetId(i).next((h=>(o=new wi(e,h,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function dp(r,e,n){const i=je(r),o=i.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!el(h))throw h;pe(Zp,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function mx(r,e,n){const i=je(r);let o=Ie.min(),u=Ge();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,b){const E=je(g),T=E.xs.get(b);return T!==void 0?se.resolve(E.Ms.get(T)):E.Pi.getTargetData(y,b)})(i,h,tr(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{u=g}))})).next((()=>i.Fs.getDocumentsMatchingQuery(h,e,n?o:Ie.min(),n?u:Ge()))).next((p=>(DI(i,vR(e),p),{documents:p,Qs:u})))))}function DI(r,e,n){let i=r.Os.get(e)||Ie.min();n.forEach(((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)})),r.Os.set(e,i)}class px{constructor(){this.activeTargetIds=TR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jI{constructor(){this.Mo=new px,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new px,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="ConnectivityMonitor";class yx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(gx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(gx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function fp(){return bh===null?bh=(function(){return 268435456+Math.round(2147483648*Math.random())})():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="RestConnection",MI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Kh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,u){const h=fp(),p=this.zo(e,n.toUriEncodedString());pe(zm,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),b=Yo(y);return this.Jo(e,p,g,i,b).then((E=>(pe(zm,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw zo(zm,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",i),E}))}Ho(e,n,i,o,u,h){return this.Go(e,n,i,o,u)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),i&&i.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const i=MI[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class LI extends VI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,u){const h=fp();return new Promise(((p,g)=>{const y=new Yb;y.setWithCredentials(!0),y.listenOnce($b.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Dh.NO_ERROR:const E=y.getResponseJson();pe(fn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Dh.TIMEOUT:pe(fn,`RPC '${e}' ${h} timed out`),g(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const T=y.getStatus();if(pe(fn,`RPC '${e}' ${h} failed with status:`,T,"response text:",y.getResponseText()),T>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const B=k==null?void 0:k.error;if(B&&B.status&&B.message){const z=(function(te){const re=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(re)>=0?re:J.UNKNOWN})(B.status);g(new ce(z,B.message))}else g(new ce(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ce(J.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{pe(fn,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);pe(fn,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",b,i,15)}))}T_(e,n,i){const o=fp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Jb(),p=Wb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,i),g.encodeInitMessageHeaders=!0;const b=u.join("");pe(fn,`Creating RPC '${e}' stream ${o}: ${b}`,g);const E=h.createWebChannel(b,g);this.I_(E);let T=!1,k=!1;const B=new kI({Yo:P=>{k?pe(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(T||(pe(fn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),pe(fn,`RPC '${e}' stream ${o} sending:`,P),E.send(P))},Zo:()=>E.close()}),z=(P,te,re)=>{P.listen(te,(Z=>{try{re(Z)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return z(E,lu.EventType.OPEN,(()=>{k||(pe(fn,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),z(E,lu.EventType.CLOSE,(()=>{k||(k=!0,pe(fn,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(E))})),z(E,lu.EventType.ERROR,(P=>{k||(k=!0,zo(fn,`RPC '${e}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),B.a_(new ce(J.UNAVAILABLE,"The operation could not be completed")))})),z(E,lu.EventType.MESSAGE,(P=>{var te;if(!k){const re=P.data[0];Xe(!!re,16349);const Z=re,fe=(Z==null?void 0:Z.error)||((te=Z[0])==null?void 0:te.error);if(fe){pe(fn,`RPC '${e}' stream ${o} received error:`,fe);const oe=fe.status;let de=(function(I){const V=Bt[I];if(V!==void 0)return ME(V)})(oe),R=fe.message;de===void 0&&(de=J.INTERNAL,R="Unknown error status: "+oe+" with message "+fe.message),k=!0,B.a_(new ce(de,R)),E.close()}else pe(fn,`RPC '${e}' stream ${o} received:`,re),B.u_(re)}})),z(p,Xb.STAT_EVENT,(P=>{P.stat===tp.PROXY?pe(fn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===tp.NOPROXY&&pe(fn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(r){return new BR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,i=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="PersistentStream";class $E{constructor(e,n,i,o,u,h,p,g){this.Mi=e,this.S_=i,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eg(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Mr(n.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new ce(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(vx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(vx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PI extends $E{constructor(e,n,i,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GR(this.serializer,e),i=(function(u){if(!("targetChange"in u))return Ie.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?Qn(h.readTime):Ie.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=hp(this.serializer),n.addTarget=(function(u,h){let p;const g=h.target;if(p=ap(g)?{documents:KR(u,g)}:{query:YR(u,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=LE(u,h.resumeToken);const y=up(u,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ie.min())>0){p.readTime=Zh(u,h.snapshotVersion.toTimestamp());const y=up(u,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const i=XR(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=hp(this.serializer),n.removeTarget=e,this.q_(n)}}class UI extends $E{constructor(e,n,i,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QR(e.writeResults,e.commitTime),i=Qn(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=hp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>BE(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{}class BI extends zI{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,cp(n,i),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(J.UNKNOWN,u.toString())}))}Ho(e,n,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,cp(n,i),o,h,p,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class HI{constructor(e,n,i,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{i.enqueueAndForget((async()=>{Va(this)&&(pe(Da,"Restarting streams for network reachability change."),await(async function(g){const y=je(g);y.Ea.add(4),await qu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ed(y)})(this))}))})),this.Ra=new qI(i,o)}}async function Ed(r){if(Va(r))for(const e of r.da)await e(!0)}async function qu(r){for(const e of r.da)await e(!1)}function XE(r,e){const n=je(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rg(n)?sg(n):tl(n).O_()&&ng(n,e))}function tg(r,e){const n=je(r),i=tl(n);n.Ia.delete(e),i.O_()&&WE(n,e),n.Ia.size===0&&(i.O_()?i.L_():Va(n)&&n.Ra.set("Unknown"))}function ng(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tl(r).Y_(e)}function WE(r,e){r.Va.Ue(e),tl(r).Z_(e)}function sg(r){r.Va=new LR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),tl(r).start(),r.Ra.ua()}function rg(r){return Va(r)&&!tl(r).x_()&&r.Ia.size>0}function Va(r){return je(r).Ea.size===0}function JE(r){r.Va=void 0}async function FI(r){r.Ra.set("Online")}async function GI(r){r.Ia.forEach(((e,n)=>{ng(r,e)}))}async function QI(r,e){JE(r),rg(r)?(r.Ra.ha(e),sg(r)):r.Ra.set("Unknown")}async function KI(r,e,n){if(r.Ra.set("Online"),e instanceof kE&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(i){pe(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await nd(r,i)}else if(e instanceof Vh?r.Va.Ze(e):e instanceof VE?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ie.min()))try{const i=await YE(r.localStore);n.compareTo(i)>=0&&await(function(u,h){const p=u.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(hn.EMPTY_BYTE_STRING,b.snapshotVersion)),WE(u,g);const E=new wi(b.target,g,y,b.sequenceNumber);ng(u,E)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(i){pe(Da,"Failed to raise snapshot:",i),await nd(r,i)}}async function nd(r,e,n){if(!el(e))throw e;r.Ea.add(1),await qu(r),r.Ra.set("Offline"),n||(n=()=>YE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{pe(Da,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ed(r)}))}function ZE(r,e){return e().catch((n=>nd(r,n,e)))}async function wd(r){const e=je(r),n=ki(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zp;for(;YI(e);)try{const o=await RI(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,$I(e,o)}catch(o){await nd(e,o)}ew(e)&&tw(e)}function YI(r){return Va(r)&&r.Ta.length<10}function $I(r,e){r.Ta.push(e);const n=ki(r);n.O_()&&n.X_&&n.ea(e.mutations)}function ew(r){return Va(r)&&!ki(r).x_()&&r.Ta.length>0}function tw(r){ki(r).start()}async function XI(r){ki(r).ra()}async function WI(r){const e=ki(r);for(const n of r.Ta)e.ea(n.mutations)}async function JI(r,e,n){const i=r.Ta.shift(),o=Kp.from(i,e,n);await ZE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await wd(r)}async function ZI(r,e){e&&ki(r).X_&&await(async function(i,o){if((function(h){return OE(h)&&h!==J.ABORTED})(o.code)){const u=i.Ta.shift();ki(i).B_(),await ZE(i,(()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o))),await wd(i)}})(r,e),ew(r)&&tw(r)}async function _x(r,e){const n=je(r);n.asyncQueue.verifyOperationInProgress(),pe(Da,"RemoteStore received new credentials");const i=Va(n);n.Ea.add(3),await qu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ed(n)}async function eD(r,e){const n=je(r);e?(n.Ea.delete(2),await Ed(n)):e||(n.Ea.add(2),await qu(n),n.Ra.set("Unknown"))}function tl(r){return r.ma||(r.ma=(function(n,i,o){const u=je(n);return u.sa(),new PI(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:FI.bind(null,r),t_:GI.bind(null,r),r_:QI.bind(null,r),H_:KI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),rg(r)?sg(r):r.Ra.set("Unknown")):(await r.ma.stop(),JE(r))}))),r.ma}function ki(r){return r.fa||(r.fa=(function(n,i,o){const u=je(n);return u.sa(),new UI(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:XI.bind(null,r),r_:ZI.bind(null,r),ta:WI.bind(null,r),na:JI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await wd(r)):(await r.fa.stop(),r.Ta.length>0&&(pe(Da,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,u){const h=Date.now()+i,p=new ig(e,n,h,o,u);return p.start(i),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,e){if(Mr("AsyncQueue",`${e}: ${r}`),el(r))return new ce(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||we.comparator(n.key,i.key):(n,i)=>we.comparator(n.key,i.key),this.keyedMap=uu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.ga=new bt(we.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Go{constructor(e,n,i,o,u,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,o,u){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Go(e,n,ko.emptySet(n),h,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nD{constructor(){this.queries=bx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=je(n),u=o.queries;o.queries=bx(),u.forEach(((h,p)=>{for(const g of p.Sa)g.onError(i)}))})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function bx(){return new Ma((r=>xE(r)),gd)}async function nw(r,e){const n=je(r);let i=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(i=2):(u=new tD,i=e.Da()?0:1);try{switch(i){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=ag(h,`Initialization of query '${Co(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&og(n)}async function sw(r,e){const n=je(r),i=e.query;let o=3;const u=n.queries.get(i);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function sD(r,e){const n=je(r);let i=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const p of h.Sa)p.Fa(o)&&(i=!0);h.wa=o}}i&&og(n)}function rD(r,e,n){const i=je(r),o=i.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);i.queries.delete(e)}function og(r){r.Ca.forEach((e=>{e.next()}))}var mp,Ex;(Ex=mp||(mp={})).Ma="default",Ex.Cache="cache";class rw{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Go(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.key=e}}class aw{constructor(e){this.key=e}}class iD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=bE(e),this.tu=new ko(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new xx,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,E)=>{const T=o.get(b),k=yd(this.query,E)?E:null,B=!!T&&this.mutatedKeys.has(T.key),z=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let P=!1;T&&k?T.data.isEqual(k.data)?B!==z&&(i.track({type:3,doc:k}),P=!0):this.su(T,k)||(i.track({type:2,doc:k}),P=!0,(g&&this.eu(k,g)>0||y&&this.eu(k,y)<0)&&(p=!0)):!T&&k?(i.track({type:0,doc:k}),P=!0):T&&!k&&(i.track({type:1,doc:T}),P=!0,(g||y)&&(p=!0)),P&&(k?(h=h.add(k),u=z?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),i.track({type:1,doc:b})}return{tu:h,iu:i,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,E)=>(function(k,B){const z=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:P})}};return z(k)-z(B)})(b.type,E.type)||this.eu(b.doc,E.doc))),this.ou(i),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new Go(this.query,e.tu,u,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new aw(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new iw(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class aD{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class oD{constructor(e){this.key=e,this.hu=!1}}class lD{constructor(e,n,i,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ma((p=>xE(p)),gd),this.Iu=new Map,this.Eu=new Set,this.du=new bt(we.comparator),this.Au=new Map,this.Ru=new Xp,this.Vu={},this.mu=new Map,this.fu=Fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uD(r,e,n=!0){const i=dw(r);let o;const u=i.Tu.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ow(i,e,n,!0),o}async function cD(r,e){const n=dw(r);await ow(n,e,!0,!1)}async function ow(r,e,n,i){const o=await II(r.localStore,tr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let p;return i&&(p=await hD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&XE(r.remoteStore,o),p}async function hD(r,e,n,i,o){r.pu=(E,T,k)=>(async function(z,P,te,re){let Z=P.view.ru(te);Z.Cs&&(Z=await mx(z.localStore,P.query,!1).then((({documents:R})=>P.view.ru(R,Z))));const fe=re&&re.targetChanges.get(P.targetId),oe=re&&re.targetMismatches.get(P.targetId)!=null,de=P.view.applyChanges(Z,z.isPrimaryClient,fe,oe);return Tx(z,P.targetId,de.au),de.snapshot})(r,E,T,k);const u=await mx(r.localStore,e,!0),h=new iD(e,u.Qs),p=h.ru(u.documents),g=Bu.createSynthesizedTargetChangeForCurrentChange(n,i&&r.onlineState!=="Offline",o),y=h.applyChanges(p,r.isPrimaryClient,g);Tx(r,n,y.au);const b=new aD(e,n,h);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function dD(r,e,n){const i=je(r),o=i.Tu.get(e),u=i.Iu.get(o.targetId);if(u.length>1)return i.Iu.set(o.targetId,u.filter((h=>!gd(h,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&tg(i.remoteStore,o.targetId),pp(i,o.targetId)})).catch(Zo)):(pp(i,o.targetId),await dp(i.localStore,o.targetId,!0))}async function fD(r,e){const n=je(r),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),tg(n.remoteStore,i.targetId))}async function mD(r,e,n){const i=bD(r);try{const o=await(function(h,p){const g=je(h),y=pt.now(),b=p.reduce(((k,B)=>k.add(B.key)),Ge());let E,T;return g.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let B=Vr(),z=Ge();return g.Ns.getEntries(k,b).next((P=>{B=P,B.forEach(((te,re)=>{re.isValidDocument()||(z=z.add(te))}))})).next((()=>g.localDocuments.getOverlayedDocuments(k,B))).next((P=>{E=P;const te=[];for(const re of p){const Z=DR(re,E.get(re.key).overlayedDocument);Z!=null&&te.push(new Bi(re.key,Z,dE(Z.value.mapValue),Ht.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,te,p)})).next((P=>{T=P;const te=P.applyToLocalDocumentSet(E,z);return g.documentOverlayCache.saveOverlays(k,P.batchId,te)}))})).then((()=>({batchId:T.batchId,changes:wE(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new bt(Fe)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(i,o.batchId,n),await Hu(i,o.changes),await wd(i.remoteStore)}catch(o){const u=ag(o,"Failed to persist write");n.reject(u)}}async function lw(r,e){const n=je(r);try{const i=await NI(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Xe(h.hu,14607):o.removedDocuments.size>0&&(Xe(h.hu,42227),h.hu=!1))})),await Hu(n,i,e)}catch(i){await Zo(i)}}function wx(r,e,n){const i=je(r);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((u,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=je(h);g.onlineState=p;let y=!1;g.queries.forEach(((b,E)=>{for(const T of E.Sa)T.va(p)&&(y=!0)})),y&&og(g)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pD(r,e,n){const i=je(r);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),u=o&&o.key;if(u){let h=new bt(we.comparator);h=h.insert(u,en.newNoDocument(u,Ie.min()));const p=Ge().add(u),g=new xd(Ie.min(),new Map,new bt(Fe),h,p);await lw(i,g),i.du=i.du.remove(u),i.Au.delete(e),ug(i)}else await dp(i.localStore,e,!1).then((()=>pp(i,e,n))).catch(Zo)}async function gD(r,e){const n=je(r),i=e.batch.batchId;try{const o=await AI(n.localStore,e);cw(n,i,null),uw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Hu(n,o)}catch(o){await Zo(o)}}async function yD(r,e,n){const i=je(r);try{const o=await(function(h,p){const g=je(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Xe(E!==null,37113),b=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(i.localStore,e);cw(i,e,n),uw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Hu(i,o)}catch(o){await Zo(o)}}function uw(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function cw(r,e,n){const i=je(r);let o=i.Vu[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function pp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),n&&r.Pu.yu(i,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||hw(r,i)}))}function hw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(tg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),ug(r))}function Tx(r,e,n){for(const i of n)i instanceof iw?(r.Ru.addReference(i.key,e),vD(r,i)):i instanceof aw?(pe(lg,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||hw(r,i.key)):Ne(19791,{wu:i})}function vD(r,e){const n=e.key,i=n.path.canonicalString();r.du.get(n)||r.Eu.has(i)||(pe(lg,"New document in limbo: "+n),r.Eu.add(i),ug(r))}function ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new we(ht.fromString(e)),i=r.fu.next();r.Au.set(i,new oD(n)),r.du=r.du.insert(n,i),XE(r.remoteStore,new wi(tr(Gp(n.path)),i,"TargetPurposeLimboResolution",md.ce))}}async function Hu(r,e,n){const i=je(r),o=[],u=[],h=[];i.Tu.isEmpty()||(i.Tu.forEach(((p,g)=>{h.push(i.pu(g,e,n).then((y=>{var b;if((y||n)&&i.isPrimaryClient){const E=y?!y.fromCache:(b=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:b.current;i.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Jp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(h),i.Pu.H_(o),await(async function(g,y){const b=je(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>se.forEach(y,(T=>se.forEach(T.Es,(k=>b.persistence.referenceDelegate.addReference(E,T.targetId,k))).next((()=>se.forEach(T.ds,(k=>b.persistence.referenceDelegate.removeReference(E,T.targetId,k)))))))))}catch(E){if(!el(E))throw E;pe(Zp,"Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const k=b.Ms.get(T),B=k.snapshotVersion,z=k.withLastLimboFreeSnapshotVersion(B);b.Ms=b.Ms.insert(T,z)}}})(i.localStore,u))}async function _D(r,e){const n=je(r);if(!n.currentUser.isEqual(e)){pe(lg,"User change. New user:",e.toKey());const i=await KE(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ce(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Hu(n,i.Ls)}}function xD(r,e){const n=je(r),i=n.Au.get(e);if(i&&i.hu)return Ge().add(i.key);{let o=Ge();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function dw(r){const e=je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pD.bind(null,e),e.Pu.H_=sD.bind(null,e.eventManager),e.Pu.yu=rD.bind(null,e.eventManager),e}function bD(r){const e=je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yD.bind(null,e),e}class sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SI(this.persistence,new EI,e.initialUser,this.serializer)}Cu(e){return new QE(Wp.mi,this.serializer)}Du(e){return new jI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sd.provider={build:()=>new sd};class ED extends sd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof td,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new oI(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new QE((i=>td.mi(i,n)),this.serializer)}}class gp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>wx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_D.bind(null,this.syncEngine),await eD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nD})()}createDatastore(e){const n=bd(e.databaseInfo.databaseId),i=(function(u){return new LI(u)})(e.databaseInfo);return(function(u,h,p,g){return new BI(u,h,p,g)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,u,h,p){return new HI(i,o,u,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>wx(this.syncEngine,n,0)),(function(){return yx.v()?new yx:new OI})())}createSyncEngine(e,n){return(function(o,u,h,p,g,y,b){const E=new lD(o,u,h,p,g,y);return b&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=je(o);pe(Da,"RemoteStore shutting down."),u.Ea.add(5),await qu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ce(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const h=je(o),p={documents:u.map((E=>ed(h.serializer,E)))},g=await h.Ho("BatchGetDocuments",h.serializer.databaseId,ht.emptyPath(),p,u.length),y=new Map;g.forEach((E=>{const T=FR(h.serializer,E);y.set(T.key.toString(),T)}));const b=[];return u.forEach((E=>{const T=y.get(E.toString());Xe(!!T,55234,{key:E}),b.push(T)})),b})(this.datastore,e);return n.forEach((i=>this.recordVersion(i))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new zu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,i)=>{const o=we.fromPath(i);this.mutations.push(new jE(o,this.precondition(o)))})),await(async function(i,o){const u=je(i),h={writes:o.map((p=>BE(u.serializer,p)))};await u.Go("Commit",u.serializer.databaseId,ht.emptyPath(),h)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ne(50498,{Gu:e.constructor.name});n=Ie.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new ce(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ie.min())?Ht.exists(!1):Ht.updateTime(n):Ht.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ie.min()))throw new ce(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ht.updateTime(n)}return Ht.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,i,o,u){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=o,this.deferred=u,this.zu=i.maxAttempts,this.M_=new eg(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new wD(this.datastore),n=this.Hu(e);n&&n.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((o=>{this.Yu(o)}))))})).catch((i=>{this.Yu(i)}))}))}Hu(e){try{const n=this.updateFunction(e);return!Lu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!OE(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="FirestoreClient";class SD{constructor(e,n,i,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=mn.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,(async h=>{pe(Li,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(pe(Li,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=ag(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function qm(r,e){r.asyncQueue.verifyOperationInProgress(),pe(Li,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let i=n.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await KE(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Sx(r,e){r.asyncQueue.verifyOperationInProgress();const n=await AD(r);pe(Li,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((i=>_x(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>_x(e.remoteStore,o))),r._onlineComponents=e}async function AD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(Li,"Using user provided OfflineComponentProvider");try{await qm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await qm(r,new sd)}}else pe(Li,"Using default OfflineComponentProvider"),await qm(r,new ED(void 0));return r._offlineComponents}async function cg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(Li,"Using user provided OnlineComponentProvider"),await Sx(r,r._uninitializedComponentsProvider._online)):(pe(Li,"Using default OnlineComponentProvider"),await Sx(r,new gp))),r._onlineComponents}function ND(r){return cg(r).then((e=>e.syncEngine))}function CD(r){return cg(r).then((e=>e.datastore))}async function mw(r){const e=await cg(r),n=e.eventManager;return n.onListen=uD.bind(null,e.syncEngine),n.onUnlisten=dD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fD.bind(null,e.syncEngine),n}function RD(r,e,n={}){const i=new er;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const b=new fw({next:T=>{b.Nu(),h.enqueueAndForget((()=>sw(u,E)));const k=T.docs.has(p);!k&&T.fromCache?y.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&T.fromCache&&g&&g.source==="server"?y.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new rw(Gp(p.path),b,{includeMetadataChanges:!0,qa:!0});return nw(u,E)})(await mw(r),r.asyncQueue,e,n,i))),i.promise}function ID(r,e,n={}){const i=new er;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,p,g,y){const b=new fw({next:T=>{b.Nu(),h.enqueueAndForget((()=>sw(u,E))),T.fromCache&&g.source==="server"?y.reject(new ce(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new rw(p,b,{includeMetadataChanges:!0,qa:!0});return nw(u,E)})(await mw(r),r.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firestore.googleapis.com",Nx=!0;class Cx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gw,this.ssl=Nx}else this.host=e.host,this.ssl=e.ssl??Nx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iI)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new V2;switch(i.type){case"firstParty":return new U2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=Ax.get(n);i&&(pe("ComponentProvider","Removing Datastore"),Ax.delete(n),i.terminate())})(this),Promise.resolve()}}function DD(r,e,n,i={}){var y;r=Yn(r,Td);const o=Yo(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(ab(`https://${p}`),ob("Firestore",!0)),u.host!==gw&&u.host!==p&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:i};if(!Na(g,h)&&(r._setSettings(g),i.mockUserToken)){let b,E;if(typeof i.mockUserToken=="string")b=i.mockUserToken,E=mn.MOCK_USER;else{b=QS(i.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new mn(T)}r._authCredentials=new k2(new eE(b,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new nl(this.firestore,e,this._query)}}class At{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ku(n,At._jsonSchema))return new At(e,i||null,new we(ht.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Ft("string",At._jsonSchemaVersion),referencePath:Ft("string")};class Ii extends nl{constructor(e,n,i){super(e,n,Gp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new we(e))}withConverter(e){return new Ii(this.firestore,e,this._path)}}function In(r,e,...n){if(r=Ot(r),tE("collection","path",e),r instanceof Td){const i=ht.fromString(e,...n);return B_(i),new Ii(r,null,i)}{if(!(r instanceof At||r instanceof Ii))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ht.fromString(e,...n));return B_(i),new Ii(r.firestore,null,i)}}function Wt(r,e,...n){if(r=Ot(r),arguments.length===1&&(e=Up.newId()),tE("doc","path",e),r instanceof Td){const i=ht.fromString(e,...n);return z_(i),new At(r,null,new we(i))}{if(!(r instanceof At||r instanceof Ii))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ht.fromString(e,...n));return z_(i),new At(r.firestore,r instanceof Ii?r.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="AsyncQueue";class Ix{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eg(this,"async_queue_retry"),this._c=()=>{const i=Bm();i&&pe(Rx,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!el(e))throw e;pe(Rx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Mr("INTERNAL UNHANDLED ERROR: ",Dx(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ig.createAndSchedule(this,e,n,i,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:Dx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Dx(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Pr extends Td{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new Ix,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ix(e),this._firestoreClient=void 0,await e}}}function jD(r,e){const n=typeof r=="object"?r:hb(),i=typeof r=="string"?r:Kh,o=Rp(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=FS("firestore");u&&DD(o,...u)}return o}function Fu(r){if(r._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||OD(r),r._firestoreClient}function OD(r){var i,o,u;const e=r._freezeSettings(),n=(function(p,g,y,b){return new nR(p,g,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,pw(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,((i=r._app)==null?void 0:i.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new SD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(hn.fromBase64String(e))}catch(n){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fn(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:Ft("string",Fn._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(ku(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:Ft("string",nr._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new sr(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:Ft("string",sr._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=/^__.*__$/;class VD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uu(e,this.data,n,this.fieldTransforms)}}class yw{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:r})}}class dg{constructor(e,n,i,o,u,h){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vw(this.Ac)&&MD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||bd(e)}Cc(e,n,i,o=!1){return new dg({Ac:e,methodName:n,Dc:i,path:cn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rl(r){const e=r._freezeSettings(),n=bd(r._databaseId);return new kD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Sd(r,e,n,i,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);pg("Data must be an object, but it was:",h,i);const p=_w(i,h);let g,y;if(u.merge)g=new Gn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const E of u.mergeFields){const T=yp(e,E,n);if(!h.contains(T))throw new ce(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);bw(b,T)||b.push(T)}g=new Gn(b),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new VD(new vn(p),g,y)}class Ad extends hg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ad}}function fg(r,e,n,i){const o=r.Cc(1,e,n);pg("Data must be an object, but it was:",o,i);const u=[],h=vn.empty();zi(i,((g,y)=>{const b=gg(e,g,n);y=Ot(y);const E=o.yc(b);if(y instanceof Ad)u.push(b);else{const T=Gu(y,E);T!=null&&(u.push(b),h.set(b,T))}}));const p=new Gn(u);return new yw(h,p,o.fieldTransforms)}function mg(r,e,n,i,o,u){const h=r.Cc(1,e,n),p=[yp(e,i,n)],g=[o];if(u.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)p.push(yp(e,u[T])),g.push(u[T+1]);const y=[],b=vn.empty();for(let T=p.length-1;T>=0;--T)if(!bw(y,p[T])){const k=p[T];let B=g[T];B=Ot(B);const z=h.yc(k);if(B instanceof Ad)y.push(k);else{const P=Gu(B,z);P!=null&&(y.push(k),b.set(k,P))}}const E=new Gn(y);return new yw(b,E,h.fieldTransforms)}function LD(r,e,n,i=!1){return Gu(n,r.Cc(i?4:3,e))}function Gu(r,e){if(xw(r=Ot(r)))return pg("Unsupported field value:",e,r),_w(r,e);if(r instanceof hg)return(function(i,o){if(!vw(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const u=[];let h=0;for(const p of i){let g=Gu(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}})(r,e)}return(function(i,o){if((i=Ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=pt.fromDate(i);return{timestampValue:Zh(o.serializer,u)}}if(i instanceof pt){const u=new pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zh(o.serializer,u)}}if(i instanceof nr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fn)return{bytesValue:LE(o.serializer,i._byteString)};if(i instanceof At){const u=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof sr)return(function(h,p){return{mapValue:{fields:{[cE]:{stringValue:hE},[Yh]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qp(p.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${fd(i)}`)})(r,e)}function _w(r,e){const n={};return rE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(r,((i,o)=>{const u=Gu(o,e.mc(i));u!=null&&(n[i]=u)})),{mapValue:{fields:n}}}function xw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pt||r instanceof nr||r instanceof Fn||r instanceof At||r instanceof hg||r instanceof sr)}function pg(r,e,n){if(!xw(n)||!nE(n)){const i=fd(n);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function yp(r,e,n){if((e=Ot(e))instanceof sl)return e._internalPath;if(typeof e=="string")return gg(r,e);throw rd("Field path arguments must be of type string or ",r,!1,void 0,n)}const PD=new RegExp("[~\\*/\\[\\]]");function gg(r,e,n){if(e.search(PD)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new sl(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function rd(r,e,n,i,o){const u=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new ce(J.INVALID_ARGUMENT,p+r+g)}function bw(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class UD extends id{data(){return super.data()}}function yg(r,e){return typeof e=="string"?gg(r,e):e instanceof sl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class BD extends vg{}function wa(r,e,...n){let i=[];e instanceof vg&&i.push(e),i=i.concat(n),(function(u){const h=u.filter((g=>g instanceof _g)).length,p=u.filter((g=>g instanceof Nd)).length;if(h>1||h>0&&p>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class Nd extends BD{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Nd(e,n,i)}_apply(e){const n=this._parse(e);return Ew(e._query,n),new nl(e.firestore,e.converter,op(e._query,n))}_parse(e){const n=rl(e.firestore);return(function(u,h,p,g,y,b,E){let T;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){Ox(E,b);const B=[];for(const z of E)B.push(jx(g,u,z));T={arrayValue:{values:B}}}else T=jx(g,u,E)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||Ox(E,b),T=LD(p,h,E,b==="in"||b==="not-in");return qt.create(y,b,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ar(r,e,n){const i=e,o=yg("where",r);return Nd._create(o,i,n)}class _g extends vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new _g(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:As.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const p=u.getFlattenedFilters();for(const g of p)Ew(h,g),h=op(h,g)})(e._query,n),new nl(e.firestore,e.converter,op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jx(r,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_E(e)&&n.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ht.fromString(n));if(!we.isDocumentKey(i))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $_(r,new we(i))}if(n instanceof At)return $_(r,n._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function Ox(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ew(r,e){const n=(function(o,u){for(const h of o)for(const p of h.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ww{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return zi(e,((o,u)=>{i[o]=this.convertValue(u,n)})),i}convertVectorValue(e){var i,o,u;const n=(u=(o=(i=e.fields)==null?void 0:i[Yh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((h=>jt(h.doubleValue)));return new sr(n)}convertGeoPoint(e){return new nr(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=pd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const n=Oi(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ht.fromString(e);Xe(FE(i),9688,{name:e});const o=new Tu(i.get(1),i.get(3)),u=new we(i.popFirst(5));return o.isEqual(n)||Mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(r,e,n){let i;return i=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,i}class qD extends ww{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Di extends id{constructor(e,n,i,o,u,h){super(e,n,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(yg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Di._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Di._jsonSchemaVersion="firestore/documentSnapshot/1.0",Di._jsonSchema={type:Ft("string",Di._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class kh extends Di{data(e={}){return super.data(e)}}class Lo{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jo(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new kh(this._firestore,this._userDataWriter,i.key,i,new jo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new jo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),b=h.indexOf(p.doc.key)),{type:HD(p.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),i.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(r){r=Yn(r,At);const e=Yn(r.firestore,Pr);return RD(Fu(e),r._key).then((n=>GD(e,r,n)))}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:Ft("string",Lo._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class xg extends ww{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Xs(r){r=Yn(r,nl);const e=Yn(r.firestore,Pr),n=Fu(e),i=new xg(e);return zD(r._query),ID(n,r._query).then((o=>new Lo(e,i,r,o)))}function FD(r,e,n){r=Yn(r,At);const i=Yn(r.firestore,Pr),o=Cd(r.converter,e,n);return Qu(i,[Sd(rl(i),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Ht.none())])}function wh(r,e,n,...i){r=Yn(r,At);const o=Yn(r.firestore,Pr),u=rl(o);let h;return h=typeof(e=Ot(e))=="string"||e instanceof sl?mg(u,"updateDoc",r._key,e,n,i):fg(u,"updateDoc",r._key,e),Qu(o,[h.toMutation(r._key,Ht.exists(!0))])}function Mx(r){return Qu(Yn(r.firestore,Pr),[new zu(r._key,Ht.none())])}function Hm(r,e){const n=Yn(r.firestore,Pr),i=Wt(r),o=Cd(r.converter,e);return Qu(n,[Sd(rl(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,Ht.exists(!1))]).then((()=>i))}function Qu(r,e){return(function(i,o){const u=new er;return i.asyncQueue.enqueueAndForget((async()=>mD(await ND(i),o,u))),u.promise})(Fu(r),e)}function GD(r,e,n){const i=n.docs.get(e._key),o=new xg(r);return new Di(r,o,e._key,i,new jo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=rl(e)}set(e,n,i){this._verifyNotCommitted();const o=Ti(e,this._firestore),u=Cd(o.converter,n,i),h=Sd(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(h.toMutation(o._key,Ht.none())),this}update(e,n,i,...o){this._verifyNotCommitted();const u=Ti(e,this._firestore);let h;return h=typeof(n=Ot(n))=="string"||n instanceof sl?mg(this._dataReader,"WriteBatch.update",u._key,n,i,o):fg(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(h.toMutation(u._key,Ht.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ti(e,this._firestore);return this._mutations=this._mutations.concat(new zu(n._key,Ht.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ti(r,e){if((r=Ot(r)).firestore!==e)throw new ce(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=rl(e)}get(e){const n=Ti(e,this._firestore),i=new qD(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return Ne(24041);const u=o[0];if(u.isFoundDocument())return new id(this._firestore,i,u.key,u,n.converter);if(u.isNoDocument())return new id(this._firestore,i,n._key,null,n.converter);throw Ne(18433,{doc:u})}))}set(e,n,i){const o=Ti(e,this._firestore),u=Cd(o.converter,n,i),h=Sd(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,h),this}update(e,n,i,...o){const u=Ti(e,this._firestore);let h;return h=typeof(n=Ot(n))=="string"||n instanceof sl?mg(this._dataReader,"Transaction.update",u._key,n,i,o):fg(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,h),this}delete(e){const n=Ti(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D extends YD{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ti(e,this._firestore),i=new xg(this._firestore);return super.get(e).then((o=>new Di(this._firestore,i,n._key,o._document,new jo(!1,!1),n.converter)))}}function Vx(r,e,n){r=Yn(r,Pr);const i={...QD,...n};return(function(u){if(u.maxAttempts<1)throw new ce(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i),(function(u,h,p){const g=new er;return u.asyncQueue.enqueueAndForget((async()=>{const y=await CD(u);new TD(u.asyncQueue,y,p,h,g).ju()})),g.promise})(Fu(r),(o=>e(new $D(r,o))),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(r){return Fu(r=Yn(r,Pr)),new KD(r,(e=>Qu(r,e)))}(function(e,n=!0){(function(o){Jo=o})($o),Po(new Ca("firestore",((i,{instanceIdentifier:o,options:u})=>{const h=i.getProvider("app").getImmediate(),p=new Pr(new L2(i.getProvider("auth-internal")),new z2(h,i.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(y.options.projectId,b)})(h,o),h);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ni(k_,L_,e),Ni(k_,L_,"esm2020")})();const Lx=Ap.firebase;let Fm,Sa,xe;try{Ap.useFirebase&&Lx.apiKey!=="SUA_API_KEY_AQUI"?(Fm=cb(Lx),Sa=O2(Fm),xe=jD(Fm)):console.log("Firebase keys not configured or Mock mode active. Skipping Firebase Init.")}catch(r){console.error("Error initializing Firebase:",r)}class XD{async login(e,n){if(!Sa)throw new Error("Firebase not initialized");if(!n)throw new Error("Senha  obrigatria para login no Firebase");try{const o=(await vC(Sa,e,n)).user,u=Wt(xe,"users",o.uid);let h;try{h=await Eh(u)}catch(p){if(console.error("Erro ao acessar Firestore:",p),p.code==="permission-denied")return console.warn("Permisso negada ao ler perfil. Retornando dados bsicos."),{uid:o.uid,email:o.email||"",role:_t.USER,isOnboarded:!1};throw p}if(h.exists()){const p=h.data();return{uid:o.uid,email:o.email||"",name:p.name,role:p.role||_t.USER,rm:p.rm,courseId:p.courseId,classId:p.classId,isOnboarded:p.isOnboarded||!1}}else return{uid:o.uid,email:o.email||"",role:_t.USER,isOnboarded:!1}}catch(i){throw console.error("Firebase Login Flow Error:",i),i.message.startsWith("ERRO_PERMISSAO")?i:new Error(this.mapAuthError(i.code))}}async logout(){Sa&&await EC(Sa)}async getCurrentUser(){if(!Sa)return null;const e=await new Promise(n=>{const i=bC(Sa,o=>{i(),n(o)})});if(!e)return null;try{const n=Wt(xe,"users",e.uid),i=await Eh(n);if(i.exists()){const o=i.data();return{uid:e.uid,email:e.email||"",name:o.name,role:o.role||_t.USER,rm:o.rm,courseId:o.courseId,classId:o.classId,isOnboarded:o.isOnboarded||!1}}}catch(n){console.warn("Perfil incompleto ou erro de rede:",n)}return{uid:e.uid,email:e.email||"",role:_t.USER,isOnboarded:!1}}async updateUserProfile(e,n){if(!xe)throw new Error("Firestore not initialized");if(n.rm)try{const h=In(xe,"users"),p=wa(h,Ar("rm","==",n.rm));if((await Xs(p)).docs.find(b=>b.id!==e))throw new Error("Este RM j est cadastrado para outro usurio.")}catch(h){if(h.code!=="permission-denied")throw h;console.warn("Pulei validao de RM nico devido a permisses.")}const i=Wt(xe,"users",e),o={...n,updatedAt:new Date().toISOString()};n.name&&n.rm&&(o.isOnboarded=!0),await FD(i,o,{merge:!0});const u=await this.getCurrentUser();if(!u)throw new Error("User session lost after update");return u}async getUsers(){if(!xe)return[];try{return(await Xs(In(xe,"users"))).docs.map(n=>{const i=n.data();return{uid:n.id,email:i.email||"",name:i.name,role:i.role||_t.USER,rm:i.rm,courseId:i.courseId,classId:i.classId,isOnboarded:i.isOnboarded||!1}})}catch(e){if(console.error("Erro ao buscar usurios:",e),e.code==="permission-denied")return[];throw e}}async deleteUser(e){xe&&await Mx(Wt(xe,"users",e))}async updateUserRole(e,n){if(!xe)return;const i=Wt(xe,"users",e);await wh(i,{role:n})}async getCourses(){if(!xe)return[];try{return(await Xs(In(xe,"courses"))).docs.map(n=>({id:n.id,...n.data()}))}catch(e){return console.error("Erro ao buscar cursos:",e),[]}}async addCourse(e){if(!xe)throw new Error("DB not init");return{id:(await Hm(In(xe,"courses"),{name:e})).id,name:e}}async updateCourse(e,n){xe&&await wh(Wt(xe,"courses",e),{name:n})}async deleteCourse(e){if(!xe)return;const n=kx(xe),i=Wt(xe,"courses",e);n.delete(i);const o=wa(In(xe,"classes"),Ar("courseId","==",e));(await Xs(o)).forEach(h=>n.delete(h.ref)),await n.commit()}async getClasses(e){if(!xe)return[];try{let n;return e?n=wa(In(xe,"classes"),Ar("courseId","==",e)):n=In(xe,"classes"),(await Xs(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(n){return console.error("Erro ao buscar turmas",n),[]}}async addClass(e,n){if(!xe)throw new Error("DB not init");return{id:(await Hm(In(xe,"classes"),{courseId:e,name:n})).id,courseId:e,name:n}}async updateClass(e,n){xe&&await wh(Wt(xe,"classes",e),{name:n})}async deleteClass(e){xe&&await Mx(Wt(xe,"classes",e))}async getEvents(){if(!xe)return[];try{return(await Xs(In(xe,"events"))).docs.map(n=>this.mapDocToEvent(n))}catch(e){return console.error("Erro ao buscar eventos:",e),[]}}async getEventById(e){if(xe)try{const n=Wt(xe,"events",e),i=await Eh(n);if(i.exists())return this.mapDocToEvent(i)}catch(n){console.error("Erro ao buscar evento por ID:",n)}}async getAvailableEventsForUser(e){return(await this.getEvents()).filter(i=>{var o,u;return i.visibility==="public"?!0:i.visibility==="course"?e.courseId?(o=i.allowedCourses)==null?void 0:o.includes(e.courseId):!1:i.visibility==="class"&&e.classId?(u=i.allowedClasses)==null?void 0:u.includes(e.classId):!1})}async getPublicEvents(){if(!xe)return[];try{const e=wa(In(xe,"events"),Ar("visibility","==","public"));return(await Xs(e)).docs.map(i=>this.mapDocToEvent(i))}catch(e){return console.error("Erro ao buscar eventos pblicos:",e),[]}}async createEvent(e){if(!xe)return;const{id:n,...i}=e,o=JSON.parse(JSON.stringify(i));await Hm(In(xe,"events"),o)}async updateEvent(e){if(!xe)return;const n=Wt(xe,"events",e.id),{id:i,...o}=e,u=JSON.parse(JSON.stringify(o));await wh(n,u)}async deleteEvent(e){if(!xe)return;const n=kx(xe);n.delete(Wt(xe,"events",e));const i=wa(In(xe,"events"),Ar("parentId","==",e));(await Xs(i)).forEach(u=>n.delete(u.ref)),await n.commit()}async getEnrollmentsForUser(e){if(!xe)return[];try{const n=wa(In(xe,"enrollments"),Ar("userId","==",e),Ar("status","==",Ao.CONFIRMED));return(await Xs(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(n){return console.error("Erro ao buscar inscries:",n),[]}}async getUserEnrollmentsDetails(e){const n=await this.getEnrollmentsForUser(e),i=[];for(const o of n){const u=await this.getEventById(o.eventId);if(u){const h=u.sessions.find(p=>p.id===o.sessionId);h&&i.push({enrollmentId:o.id,eventName:u.name,eventLocation:u.location,sessionDate:h.date,sessionTime:`${h.startTime} - ${h.endTime}`,enrolledAt:o.enrolledAt})}}return i}async getEnrichedEnrollments(e){if(!xe)return[];const n=wa(In(xe,"enrollments"),Ar("eventId","==",e),Ar("status","==",Ao.CONFIRMED)),i=await Xs(n),o=await this.getEventById(e);if(!o)return[];const u=i.docs.map(p=>({id:p.id,...p.data()})),h=[];for(const p of u){const g=Wt(xe,"users",p.userId),y=await Eh(g),b=y.exists()?y.data():{},E=o.sessions.find(T=>T.id===p.sessionId);h.push({id:p.id,user:{uid:p.userId,name:b.name||"Desconhecido",email:b.email||"",rm:b.rm||""},session:{id:E==null?void 0:E.id,date:E==null?void 0:E.date,startTime:E==null?void 0:E.startTime,endTime:E==null?void 0:E.endTime},status:p.status,enrolledAt:p.enrolledAt})}return h}async getEnrollmentDetailsForEvent(e){return(await this.getEnrichedEnrollments(e)).map(i=>({Nome:i.user.name,Email:i.user.email,RM:i.user.rm,SessaoData:i.session.date,SessaoHora:i.session.startTime,Status:i.status,DataInscricao:new Date(i.enrolledAt).toLocaleString("pt-BR")}))}async createEnrollment(e,n,i){if(!xe)throw new Error("DB not init");const o=await this.getEnrollmentsForUser(e),u=await this.getEventById(n);if(!u)throw new Error("Evento no encontrado");const h=u.sessions.find(b=>b.id===i);if(!h)throw new Error("Sesso no encontrada");for(const b of o){const E=await this.getEventById(b.eventId);if(!E)continue;const T=E.sessions.find(k=>k.id===b.sessionId);if(T&&T.date===h.date&&(h.startTime>=T.startTime&&h.startTime<T.endTime||h.endTime>T.startTime&&h.endTime<=T.endTime||h.startTime<=T.startTime&&h.endTime>=T.endTime))throw new Error(`CONFLICT|${E.name}|${T.startTime}|${T.endTime}`)}const p=`${e}_${n}`,g=Wt(xe,"enrollments",p),y=Wt(xe,"events",n);return await Vx(xe,async b=>{const E=await b.get(g);if(E.exists()&&E.data().status===Ao.CONFIRMED)throw new Error("Voc j est inscrito neste evento.");const T=await b.get(y);if(!T.exists())throw new Error("Evento no existe mais.");const k=T.data(),B=k.sessions.findIndex(te=>te.id===i);if(B===-1)throw new Error("Sesso invlida.");const z=k.sessions[B];if(z.filled>=z.capacity)throw new Error("A sesso est lotada.");const P=[...k.sessions];P[B].filled+=1,b.update(y,{sessions:P}),b.set(g,{userId:e,eventId:n,sessionId:i,status:Ao.CONFIRMED,enrolledAt:new Date().toISOString()})}),{id:p,userId:e,eventId:n,sessionId:i,status:Ao.CONFIRMED,enrolledAt:new Date().toISOString()}}async cancelEnrollment(e){if(!xe)return;const n=Wt(xe,"enrollments",e);await Vx(xe,async i=>{const o=await i.get(n);if(!o.exists())throw new Error("Inscrio no encontrada");const u=o.data(),h=Wt(xe,"events",u.eventId),p=await i.get(h);if(p.exists()){const g=p.data(),y=g.sessions.findIndex(b=>b.id===u.sessionId);if(y!==-1){const b=[...g.sessions];b[y].filled=Math.max(0,b[y].filled-1),i.update(h,{sessions:b})}}i.delete(n)})}async resetAndSeedData(){console.warn("Seed is disabled in Firebase Production to prevent data loss and quota usage."),alert("A funo de RESET est desabilitada no modo Firebase por segurana.")}mapDocToEvent(e){const n=e.data();return{id:e.id,name:n.name,description:n.description,location:n.location,visibility:n.visibility,allowedCourses:n.allowedCourses,allowedClasses:n.allowedClasses,parentId:n.parentId,createdBy:n.createdBy,createdAt:n.createdAt,sessions:n.sessions||[]}}mapAuthError(e){switch(e){case"auth/invalid-email":return"Email invlido.";case"auth/user-disabled":return"Usurio desativado.";case"auth/user-not-found":return"Usurio no encontrado.";case"auth/wrong-password":return"Senha incorreta.";case"auth/email-already-in-use":return"Este email j est em uso.";case"permission-denied":return"Sem permisso para acessar os dados.";default:return`Erro: ${e}`}}}const WD=()=>new XD,Me=WD(),Tw=D.createContext(void 0),JD=({children:r})=>{const[e,n]=D.useState(null),[i,o]=D.useState(!0);D.useEffect(()=>{(async()=>{try{const y=await Me.getCurrentUser();n(y)}catch(y){console.error("Auth check failed",y)}finally{o(!1)}})()},[]);const u=async(g,y)=>{o(!0);try{const b=await Me.login(g,y);n(b)}catch(b){throw console.error(b),b}finally{o(!1)}},h=async()=>{await Me.logout(),n(null)},p=async()=>{const g=await Me.getCurrentUser();n(g)};return f.jsx(Tw.Provider,{value:{user:e,loading:i,login:u,logout:h,refreshProfile:p},children:r})},Ur=()=>{const r=D.useContext(Tw);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},vi=({children:r})=>{const{user:e,logout:n}=Ur(),i=Pi(),o=kr(),[u,h]=D.useState(!1),p=async()=>{await n(),i("/")},g=b=>o.pathname===b?"bg-indigo-50 border-primary text-primary":"border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700",y=b=>o.pathname===b?"border-primary text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700";return e?f.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[f.jsxs("nav",{className:"bg-white shadow-sm sticky top-0 z-50",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0 flex items-center",children:f.jsx(Dt,{to:"/dashboard",className:"text-primary font-bold text-xl tracking-tight",children:"EduEvent"})}),f.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[f.jsx(Dt,{to:"/dashboard",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${y("/dashboard")}`,children:"Eventos"}),f.jsx(Dt,{to:"/my-enrollments",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${y("/my-enrollments")}`,children:"Minhas Inscries"}),e.role===_t.ADMIN&&f.jsxs(f.Fragment,{children:[f.jsx(Dt,{to:"/admin/events",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${y("/admin/events")}`,children:"Admin Eventos"}),f.jsx(Dt,{to:"/admin/courses",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${y("/admin/courses")}`,children:"Admin Cursos"}),f.jsx(Dt,{to:"/admin/users",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${y("/admin/users")}`,children:"Admin Usurios"}),f.jsx(Dt,{to:"/admin/dev",className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium text-amber-600 ${y("/admin/dev")}`,children:"Desenvolvimento"})]})]})]}),f.jsx("div",{className:"hidden sm:flex items-center",children:f.jsxs("div",{className:"flex-shrink-0",children:[f.jsxs("span",{className:"text-sm text-gray-500 mr-4",children:["Ol, ",e.name||e.email]}),f.jsx("button",{onClick:p,className:"relative inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-indigo-700 shadow-sm focus:outline-none",children:"Sair"})]})}),f.jsx("div",{className:"-mr-2 flex items-center sm:hidden",children:f.jsxs("button",{onClick:()=>h(!u),type:"button",className:"bg-white inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary","aria-controls":"mobile-menu","aria-expanded":"false",children:[f.jsx("span",{className:"sr-only",children:"Abrir menu principal"}),u?f.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):f.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),u&&f.jsxs("div",{className:"sm:hidden border-t border-gray-200",id:"mobile-menu",children:[f.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[f.jsx(Dt,{to:"/dashboard",onClick:()=>h(!1),className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${g("/dashboard")}`,children:"Eventos"}),f.jsx(Dt,{to:"/my-enrollments",onClick:()=>h(!1),className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${g("/my-enrollments")}`,children:"Minhas Inscries"}),e.role===_t.ADMIN&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"pt-4 pb-2",children:f.jsx("span",{className:"px-4 text-xs font-bold text-gray-400 uppercase tracking-wider",children:"Administrao"})}),f.jsx(Dt,{to:"/admin/events",onClick:()=>h(!1),className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${g("/admin/events")}`,children:"Gerenciar Eventos"}),f.jsx(Dt,{to:"/admin/courses",onClick:()=>h(!1),className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${g("/admin/courses")}`,children:"Gerenciar Cursos"}),f.jsx(Dt,{to:"/admin/users",onClick:()=>h(!1),className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${g("/admin/users")}`,children:"Gerenciar Usurios"}),f.jsx(Dt,{to:"/admin/dev",onClick:()=>h(!1),className:"block pl-3 pr-4 py-2 border-l-4 text-base font-medium text-amber-600 bg-amber-50 border-amber-300",children:"Desenvolvimento"})]})]}),f.jsxs("div",{className:"pt-4 pb-4 border-t border-gray-200",children:[f.jsxs("div",{className:"flex items-center px-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-primary font-bold text-lg",children:e.name?e.name.charAt(0):e.email.charAt(0).toUpperCase()})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("div",{className:"text-base font-medium text-gray-800",children:e.name||"Usurio"}),f.jsx("div",{className:"text-sm font-medium text-gray-500",children:e.email})]})]}),f.jsx("div",{className:"mt-3 space-y-1",children:f.jsx("button",{onClick:p,className:"block w-full text-left px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:"Sair do Sistema"})})]})]})]}),f.jsx("main",{className:"flex-1 py-6",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r})})]}):f.jsx(f.Fragment,{children:r})},ZD=()=>{const[r,e]=D.useState(""),[n,i]=D.useState(""),{login:o}=Ur(),u=Pi(),[h,p]=D.useState(""),[g,y]=D.useState(!1),b=async E=>{E.preventDefault(),p(""),y(!0);try{await o(r,n),u("/dashboard")}catch(T){console.error(T),p(T.message||"Falha no login. Verifique suas credenciais.")}finally{y(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8 text-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold text-primary",children:"EduEvent"}),f.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Entre na sua conta"}),f.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Utilize suas credenciais cadastradas no sistema."})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[f.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Endereo de email"}),f.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Endereo de email",value:r,onChange:E=>e(E.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),f.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:Ap.useFirebase,className:"appearance-none rounded-md relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Sua senha",value:n,onChange:E=>i(E.target.value)})]})]}),h&&f.jsx("div",{className:"text-red-500 text-sm bg-red-50 p-2 rounded border border-red-200",children:h}),f.jsx("div",{children:f.jsx("button",{type:"submit",disabled:g,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-70",children:g?"Entrando...":"Entrar"})})]}),!1]})})},e4=()=>{const{user:r,refreshProfile:e}=Ur(),n=Pi(),[i,o]=D.useState([]),[u,h]=D.useState([]),[p,g]=D.useState(null),[y,b]=D.useState({name:"",rm:"",courseId:"",classId:""});D.useEffect(()=>{if(r!=null&&r.isOnboarded){n("/dashboard");return}Me.getCourses().then(o)},[r,n]),D.useEffect(()=>{y.courseId&&(Me.getClasses(y.courseId).then(h),b(T=>({...T,classId:""})))},[y.courseId]);const E=async T=>{if(T.preventDefault(),!!r){g(null);try{await Me.updateUserProfile(r.uid,y),await e(),n("/dashboard")}catch(k){g(k.message||"Erro ao atualizar perfil")}}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Complete seu perfil"}),f.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Precisamos de mais alguns detalhes antes de comear."})]}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:E,children:[f.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"name",className:"sr-only",children:"Nome Completo"}),f.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-white rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Nome Completo",value:y.name,onChange:T=>b({...y,name:T.target.value})})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"rm",className:"sr-only",children:"Registro de Matrcula (RM)"}),f.jsx("input",{id:"rm",name:"rm",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 bg-white focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"RM (ex: 12345)",value:y.rm,onChange:T=>b({...y,rm:T.target.value})})]}),f.jsx("div",{className:"mb-4",children:f.jsxs("select",{required:!0,className:"block w-full px-3 py-2 border border-gray-300 bg-white text-gray-900 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:y.courseId,onChange:T=>b({...y,courseId:T.target.value}),children:[f.jsx("option",{value:"",children:"Selecione o Curso"}),i.map(T=>f.jsx("option",{value:T.id,children:T.name},T.id))]})}),f.jsx("div",{className:"mb-4",children:f.jsxs("select",{required:!0,disabled:!y.courseId,className:"block w-full px-3 py-2 border border-gray-300 bg-white text-gray-900 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm disabled:bg-gray-100",value:y.classId,onChange:T=>b({...y,classId:T.target.value}),children:[f.jsx("option",{value:"",children:"Selecione a Turma"}),u.map(T=>f.jsx("option",{value:T.id,children:T.name},T.id))]})})]}),p&&f.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 p-3 rounded text-center font-medium",children:p}),f.jsx("div",{children:f.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Concluir Cadastro"})})]})]})})},hs=({isOpen:r,onClose:e,title:n,children:i})=>r?f.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:f.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[f.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:e}),f.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),f.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",children:[f.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:f.jsx("div",{className:"sm:flex sm:items-start",children:f.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[f.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:n}),f.jsx("div",{className:"mt-2",children:i})]})})}),f.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:f.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:e,children:"Fechar"})})]})]})}):null,bg=({currentPage:r,totalItems:e,itemsPerPage:n,onPageChange:i})=>{const o=Math.ceil(e/n);if(o<=1)return null;const u=()=>{const h=[];if(o<=7)for(let p=1;p<=o;p++)h.push(p);else r<=4?h.push(1,2,3,4,5,"...",o):r>=o-3?h.push(1,"...",o-4,o-3,o-2,o-1,o):h.push(1,"...",r-1,r,r+1,"...",o);return h};return f.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6 mt-4 rounded-lg shadow-sm",children:[f.jsxs("div",{className:"flex flex-1 justify-between sm:hidden",children:[f.jsx("button",{onClick:()=>i(Math.max(1,r-1)),disabled:r===1,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Anterior"}),f.jsx("button",{onClick:()=>i(Math.min(o,r+1)),disabled:r===o,className:"relative ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Prximo"})]}),f.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[f.jsx("div",{children:f.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",f.jsx("span",{className:"font-medium",children:(r-1)*n+1})," a ",f.jsx("span",{className:"font-medium",children:Math.min(r*n,e)})," de ",f.jsx("span",{className:"font-medium",children:e})," resultados"]})}),f.jsx("div",{children:f.jsxs("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[f.jsxs("button",{onClick:()=>i(Math.max(1,r-1)),disabled:r===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[f.jsx("span",{className:"sr-only",children:"Anterior"}),f.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z",clipRule:"evenodd"})})]}),u().map((h,p)=>typeof h=="number"?f.jsx("button",{onClick:()=>i(h),"aria-current":r===h?"page":void 0,className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${r===h?"z-10 bg-primary text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"}`,children:h},p):f.jsx("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700 ring-1 ring-inset ring-gray-300 focus:outline-offset-0",children:"..."},p)),f.jsxs("button",{onClick:()=>i(Math.min(o,r+1)),disabled:r===o,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[f.jsx("span",{className:"sr-only",children:"Prximo"}),f.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z",clipRule:"evenodd"})})]})]})})]})]})},t4=Cu.memo(({event:r,hasChildren:e,onAction:n})=>{const i=!e&&r.sessions.length===1?r.sessions[0]:null,o=i?i.capacity:0,u=i?i.filled:0,h=o>0?u/o*100:0,p=o>0&&u>=o;let g="bg-indigo-500",y="Pblico";return r.visibility==="course"&&(g="bg-emerald-500",y="Meu Curso"),r.visibility==="class"&&(g="bg-purple-500",y="Minha Turma"),f.jsxs("div",{className:"group bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 flex flex-col h-full relative",children:[f.jsx("div",{className:`absolute top-0 left-0 w-1.5 h-full ${g} opacity-80`}),f.jsxs("div",{className:"p-5 flex-1 flex flex-col ml-2",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsx("span",{className:`text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded-md ${g} bg-opacity-10 text-gray-700`,children:y}),e?f.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full font-medium border border-gray-200",children:"Evento Principal"}):p&&i?f.jsxs("span",{className:"bg-red-100 text-red-700 text-xs px-2 py-1 rounded-full font-bold flex items-center",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mr-1.5"}),"Lotado"]}):f.jsxs("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full font-bold flex items-center",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-1.5"}),"Inscries Abertas"]})]}),f.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-tight mb-2 group-hover:text-primary transition-colors",children:r.name}),f.jsx("p",{className:"text-gray-500 text-sm line-clamp-2 mb-4 flex-1",children:r.description}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mt-auto",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-8 flex justify-center text-gray-400 mr-2",children:f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),f.jsx("span",{className:"font-medium",children:r.location})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-8 flex justify-center text-gray-400 mr-2",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),f.jsx("span",{className:"font-medium",children:e?"Ver programao completa":r.sessions.length>1?`${r.sessions.length} horrios disponveis`:`${Zt(i==null?void 0:i.date)}  ${i==null?void 0:i.startTime}`})]})]}),!e&&i&&f.jsxs("div",{className:"mt-4",children:[f.jsxs("div",{className:"flex justify-between text-xs mb-1 font-medium",children:[f.jsx("span",{className:p?"text-red-600":"text-gray-500",children:p?"Esgotado":`${o-u} vagas restantes`}),f.jsxs("span",{className:"text-gray-400",children:[Math.round(h),"%"]})]}),f.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5 overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${p?"bg-red-500":h>80?"bg-amber-400":"bg-emerald-500"}`,style:{width:`${h}%`}})})]})]}),f.jsxs("button",{onClick:()=>n(r),className:"w-full py-3 text-sm font-bold text-primary bg-indigo-50 hover:bg-primary hover:text-white transition-colors border-t border-indigo-100 flex justify-center items-center",children:[e?"Explorar Evento":"Ver Detalhes e Inscrever",f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}),n4=()=>{const{user:r}=Ur(),e=Pi(),[n,i]=D.useState([]),[o,u]=D.useState([]),[h,p]=D.useState(null),[g,y]=D.useState(null),[b,E]=D.useState(null),[T,k]=D.useState(""),[B,z]=D.useState(""),[P,te]=D.useState(!1),[re,Z]=D.useState(1),fe=9,oe=async()=>{if(!r)return;const[N,A]=await Promise.all([Me.getAvailableEventsForUser(r),Me.getEnrollmentsForUser(r.uid)]);i(N),u(A)};D.useEffect(()=>{oe()},[r]);const de=D.useCallback(N=>n.some(A=>A.parentId===N),[n]),R=D.useMemo(()=>{const N=new Date().toISOString().split("T")[0];return n.filter(A=>{if(A.parentId)return!1;const be=A.name.toLowerCase().includes(T.toLowerCase())||A.description.toLowerCase().includes(T.toLowerCase()),Te=n.filter(Ae=>Ae.parentId===A.id),Q=[...A.sessions,...Te.flatMap(Ae=>Ae.sessions)],le=B?Q.some(Ae=>Ae.date===B):!0,ye=P||Q.some(Ae=>Ae.date>=N);return be&&le&&ye})},[n,T,B,P]);D.useEffect(()=>{Z(1)},[T,B,P]);const C=D.useMemo(()=>{const N=(re-1)*fe;return R.slice(N,N+fe)},[R,re]),I=(N,A)=>o.some(be=>be.eventId===N&&be.sessionId===A),V=D.useCallback(async N=>{if(!(!r||!h)){y(null),E(null);try{await Me.createEnrollment(r.uid,h.id,N),y({type:"success",msg:"Inscrio realizada com sucesso!"}),await oe(),setTimeout(()=>{b||p(null)},1500)}catch(A){const be=A.message||"";if(be.startsWith("CONFLICT|")){const[Te,Q,le,ye]=be.split("|");E({name:Q,time:`${le} - ${ye}`})}else y({type:"error",msg:be||"Falha ao inscrever"})}}},[r,h,b]),M=D.useCallback(N=>{n.some(be=>be.parentId===N.id)?e(`/event/${N.id}`):(y(null),E(null),p(N))},[n,e]);return f.jsxs("div",{className:"space-y-8",children:[f.jsx("header",{className:"flex flex-col md:flex-row md:justify-between md:items-end gap-4",children:f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"Dashboard de Eventos"}),f.jsx("p",{className:"text-gray-500 mt-1",children:"Explore e inscreva-se nas atividades disponveis para seu perfil."})]})}),f.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100 flex flex-col lg:flex-row gap-4 items-end",children:[f.jsxs("div",{className:"flex-1 w-full",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1 uppercase tracking-wider",children:"Buscar Evento"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:f.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),f.jsx("input",{type:"text",placeholder:"Nome, descrio, local...",className:"pl-10 w-full border-gray-300 rounded-lg shadow-sm focus:ring-primary focus:border-primary sm:text-sm bg-gray-50 text-gray-900 py-2.5",value:T,onChange:N=>k(N.target.value)})]})]}),f.jsxs("div",{className:"w-full lg:w-48",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1 uppercase tracking-wider",children:"Data Especfica"}),f.jsx("input",{type:"date",className:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-primary focus:border-primary sm:text-sm bg-gray-50 text-gray-900 py-2.5",value:B,onChange:N=>z(N.target.value)})]}),f.jsx("div",{className:"w-full lg:w-auto pb-2",children:f.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[f.jsxs("div",{className:"relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in",children:[f.jsx("input",{type:"checkbox",name:"toggle",id:"toggle",className:"toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer",checked:P,onChange:N=>te(N.target.checked),style:{right:P?"0":"auto",left:P?"auto":"0",borderColor:P?"#4F46E5":"#E5E7EB"}}),f.jsx("label",{htmlFor:"toggle",className:`toggle-label block overflow-hidden h-6 rounded-full cursor-pointer ${P?"bg-primary":"bg-gray-300"}`})]}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mostrar Passados"})]})})]}),R.length===0?f.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-xl shadow-sm border border-dashed border-gray-300 text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:""}),f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Nenhum evento encontrado"}),f.jsx("p",{className:"text-gray-500 max-w-sm mt-1",children:n.length===0?"No h eventos disponveis para o seu curso ou turma no momento.":P?"Nenhum evento corresponde aos filtros de busca.":"No h eventos futuros correspondentes. Tente ativar 'Mostrar Passados'."}),f.jsxs("div",{className:"flex gap-4 mt-4",children:[T||B?f.jsx("button",{onClick:()=>{k(""),z("")},className:"text-primary font-medium hover:underline",children:"Limpar filtros de texto/data"}):null,!P&&f.jsx("button",{onClick:()=>te(!0),className:"text-primary font-medium hover:underline",children:"Ver histrico de eventos"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(N=>f.jsx(t4,{event:N,hasChildren:de(N.id),onAction:M},N.id))}),f.jsx(bg,{currentPage:re,totalItems:R.length,itemsPerPage:fe,onPageChange:Z})]}),f.jsx(hs,{isOpen:!!h,onClose:()=>p(null),title:h?h.name:"",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:f.jsx("p",{className:"text-gray-700 leading-relaxed",children:h==null?void 0:h.description})}),g&&f.jsxs("div",{className:`p-4 rounded-md border flex items-start ${g.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[f.jsx("span",{className:"mr-3 text-xl",children:g.type==="success"?"":""}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold",children:g.type==="success"?"Sucesso!":"Erro"}),f.jsx("p",{className:"text-sm",children:g.msg})]})]}),b&&f.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-md",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("h3",{className:"text-sm font-bold text-amber-800",children:"Conflito de Horrio"}),f.jsxs("div",{className:"mt-2 text-sm text-amber-700",children:[f.jsx("p",{className:"mb-2",children:"Voc j possui compromisso neste horrio:"}),f.jsxs("div",{className:"bg-white bg-opacity-50 p-2 rounded border border-amber-200",children:[f.jsx("p",{className:"font-semibold",children:b.name}),f.jsx("p",{className:"text-xs",children:b.time})]})]})]})]})}),f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center",children:[f.jsx("span",{className:"bg-primary h-6 w-1 rounded mr-2"}),"Selecione uma Sesso"]}),f.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:h==null?void 0:h.sessions.map(N=>{const A=I(h.id,N.id),be=N.filled>=N.capacity,Te=N.filled/N.capacity*100,Q=N.date<new Date().toISOString().split("T")[0];return f.jsx("div",{className:`relative border rounded-lg p-4 transition-all ${A?"border-green-500 bg-green-50 ring-1 ring-green-500":be||Q?"border-gray-200 bg-gray-50 opacity-90":"border-gray-200 hover:border-primary hover:shadow-md bg-white"}`,children:f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"font-bold text-gray-900 text-lg",children:Zt(N.date)}),A&&f.jsx("span",{className:"bg-green-200 text-green-800 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase",children:"Inscrito"}),Q&&!A&&f.jsx("span",{className:"bg-gray-200 text-gray-600 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase",children:"Encerrado"})]}),f.jsx("div",{className:"text-sm text-gray-600 flex items-center gap-4",children:f.jsxs("span",{className:"flex items-center",children:[" ",N.startTime," - ",N.endTime]})}),f.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[f.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${be?"bg-red-500":Te>80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(Te,100)}%`}})}),f.jsx("span",{className:`text-xs font-bold w-24 text-right ${be?"text-red-600":"text-gray-500"}`,children:be?"ESGOTADO":`${N.capacity-N.filled} vagas`})]})]}),f.jsx("div",{className:"flex items-center",children:A?f.jsx("button",{disabled:!0,className:"w-full sm:w-auto bg-white border border-green-500 text-green-600 font-bold py-2 px-4 rounded-lg opacity-100",children:"Inscrito"}):f.jsx("button",{onClick:()=>V(N.id),disabled:be||Q,className:`w-full sm:w-auto px-6 py-2.5 rounded-lg font-bold shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-all ${be||Q?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-indigo-700 hover:shadow-md"}`,children:Q?"Encerrado":be?"Lotado":"Inscrever"})})]})},N.id)})})]})]})})]})},s4=Cu.memo(({evt:r,onOpenSubEvent:e,onManageEnrollments:n,onEdit:i,onDelete:o})=>{const u=!!r.parentId,h=!u;return f.jsxs("li",{className:`px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition ${u?"bg-gray-50/50 pl-12 border-l-4 border-indigo-100":""}`,children:[f.jsxs("div",{children:[f.jsxs("h3",{className:`font-medium text-primary flex items-center ${u?"text-base":"text-lg"}`,children:[u&&f.jsx("span",{className:"text-gray-400 mr-2",children:""}),r.name]}),f.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[f.jsxs("span",{className:"mr-3",children:[" ",r.sessions.length," sesses"]}),f.jsxs("span",{children:[" ",r.visibility==="public"?"Pblico":r.visibility==="course"?"Por Curso":"Por Turma"]})]})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[h&&f.jsx("button",{onClick:()=>e(r),className:"text-indigo-600 hover:text-white hover:bg-indigo-600 p-2 rounded-full transition border border-transparent hover:border-indigo-600",title:"Adicionar Sub-evento vinculado",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),f.jsx("button",{onClick:()=>n(r),className:"text-emerald-600 hover:text-white hover:bg-emerald-600 p-2 rounded-full transition border border-transparent hover:border-emerald-600",title:"Gerenciar Inscritos e Exportar",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),f.jsx("button",{onClick:()=>i(r),className:"text-blue-600 hover:text-white hover:bg-blue-600 p-2 rounded-full transition border border-transparent hover:border-blue-600",title:"Editar Evento",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),f.jsx("div",{className:"h-6 w-px bg-gray-200 mx-2"}),f.jsx("button",{onClick:()=>o(r),className:"text-red-600 hover:text-white hover:bg-red-600 p-2 rounded-full transition border border-transparent hover:border-red-600",title:"Excluir Evento",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),r4=()=>{var Qi,Ki,Yi,_n;const{user:r}=Ur(),e=Pi(),[n,i]=D.useState([]),[o,u]=D.useState([]),[h,p]=D.useState([]),[g,y]=D.useState(!1),[b,E]=D.useState(!1),[T,k]=D.useState(1),[B,z]=D.useState(""),[P,te]=D.useState(""),[re,Z]=D.useState(""),fe=15,[oe,de]=D.useState(""),[R,C]=D.useState("manual"),[I,V]=D.useState(null),[M,N]=D.useState(null),[A,be]=D.useState(null),[Te,Q]=D.useState(null),[le,ye]=D.useState(!1),[Ae,Ke]=D.useState({totalEvents:0,totalSessions:0,totalCapacity:0,totalFilled:0}),[j,X]=D.useState({name:"",description:"",location:"",visibility:"public",allowedCourses:[],allowedClasses:[],sessions:[],parentId:void 0}),[ie,he]=D.useState({date:"",startTime:"",endTime:"",capacity:30}),[ve,Ce]=D.useState({startDate:"",endDate:"",startTime:"",endTime:"",capacity:30,daysOfWeek:[]}),Pe=new Date().getFullYear(),nt=`${Pe}-12-31`,tt=async()=>{const $=await Me.getEvents();i($);let me=0,Ee=0,Ye=0;$.forEach(wt=>{me+=wt.sessions.length,wt.sessions.forEach(jn=>{Ee+=jn.capacity,Ye+=jn.filled})}),Ke({totalEvents:$.length,totalSessions:me,totalCapacity:Ee,totalFilled:Ye})},ae=async()=>{const $=await Me.getCourses(),me=await Me.getClasses();u($),p(me)};D.useEffect(()=>{tt(),ae()},[]);const at=D.useMemo(()=>{const $=n.filter(Ye=>!Ye.parentId),me=n.filter(Ye=>Ye.parentId),Ee=[];return $.forEach(Ye=>{Ee.push(Ye),me.filter(wt=>wt.parentId===Ye.id).forEach(wt=>Ee.push(wt))}),me.filter(Ye=>!$.find(wt=>wt.id===Ye.parentId)).forEach(Ye=>Ee.push(Ye)),Ee},[n]),Kt=D.useMemo(()=>at.filter($=>{var wt,jn;const me=$.name.toLowerCase().includes(B.toLowerCase())||$.description.toLowerCase().includes(B.toLowerCase()),Ee=P?$.visibility===P:!0;let Ye=!0;return re&&($.visibility==="public"?Ye=!1:$.visibility==="course"?Ye=((wt=$.allowedCourses)==null?void 0:wt.includes(re))||!1:$.visibility==="class"&&(Ye=((jn=$.allowedClasses)==null?void 0:jn.some(xn=>{const On=h.find(gt=>gt.id===xn);return(On==null?void 0:On.courseId)===re}))||!1)),me&&Ee&&Ye}),[at,B,P,re,h]);D.useEffect(()=>{k(1)},[B,P,re]);const ds=D.useMemo(()=>{const $=(T-1)*fe;return Kt.slice($,$+fe)},[Kt,T]),tn=()=>{X({name:"",description:"",location:"",sessions:[],visibility:"public",allowedCourses:[],allowedClasses:[],parentId:void 0}),he({date:"",startTime:"",endTime:"",capacity:30}),Ce({startDate:"",endDate:"",startTime:"",endTime:"",capacity:30,daysOfWeek:[]}),V(null),C("manual"),N(null),be(null)},Rs=()=>{tn(),de("Criar Novo Evento Principal"),y(!0)},$n=D.useCallback($=>{if(tn(),de(`Adicionar Sub-evento para: ${$.name}`),V($.name),$.sessions&&$.sessions.length>0){const me=$.sessions.map(Ee=>Ee.date).sort();be({min:me[0],max:me[me.length-1]})}else be(null);X({parentId:$.id,visibility:$.visibility,allowedCourses:$.allowedCourses,allowedClasses:$.allowedClasses,location:$.location,sessions:[],name:"",description:""}),y(!0)},[]),qi=D.useCallback($=>{tn(),X({...$}),de("Editar Evento"),$.parentId,y(!0)},[]),Hi=D.useCallback($=>{Q($.id),ye(!$.parentId)},[]),Et=D.useCallback($=>{e(`/admin/events/${$.id}/enrollments`)},[e]),Nt=()=>{if(!ie.date||!ie.startTime||!ie.endTime)return;if(A&&(ie.date<A.min||ie.date>A.max)){N(`A data deve estar entre ${Zt(A.min)} e ${Zt(A.max)} (Perodo do evento pai).`);return}const $={id:`sess_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:ie.date,startTime:ie.startTime,endTime:ie.endTime,capacity:ie.capacity||30,filled:0};X(me=>({...me,sessions:[...me.sessions||[],$]})),he({date:"",startTime:"",endTime:"",capacity:30}),N(null)},Is=()=>{N(null);const{startDate:$,endDate:me,startTime:Ee,endTime:Ye,capacity:wt,daysOfWeek:jn}=ve;if(!$||!me||!Ee||!Ye||jn.length===0){N("Preencha todos os campos e selecione pelo menos um dia da semana.");return}if(A&&($<A.min||$>A.max||me<A.min||me>A.max)){N(`O intervalo deve estar contido entre ${Zt(A.min)} e ${Zt(A.max)}.`);return}if(me>nt){N(`Para evitar sobrecarga no sistema, a gerao automtica de sesses  limitada at ${Zt(nt)}.`);return}const[xn,On,gt]=$.split("-").map(Number),[Xn,Wn,Mn]=me.split("-").map(Number),Pa=new Date(xn,On-1,gt,12,0,0),$i=new Date(Xn,Wn-1,Mn,12,0,0),bn=[];if(Pa>$i){N("A data de incio deve ser anterior  data de fim.");return}let js=0;for(let En=new Date(Pa);En<=$i&&(js++,!(js>370));En.setDate(En.getDate()+1))if(jn.includes(En.getDay())){const ar=En.getFullYear(),Xi=String(En.getMonth()+1).padStart(2,"0"),Wi=String(En.getDate()).padStart(2,"0");bn.push({id:`sess_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,date:`${ar}-${Xi}-${Wi}`,startTime:Ee,endTime:Ye,capacity:wt,filled:0})}if(bn.length===0){N("Nenhuma data encontrada.");return}X(En=>({...En,sessions:[...En.sessions||[],...bn]}))},il=$=>{X(me=>{var Ee;return{...me,sessions:(Ee=me.sessions)==null?void 0:Ee.filter((Ye,wt)=>wt!==$)}})},ka=async $=>{var me;if($.preventDefault(),!j.name||!((me=j.sessions)!=null&&me.length)){N("Preencha o nome e adicione sesso.");return}E(!0);try{j.id?await Me.updateEvent(j):await Me.createEvent({id:`evt_${Date.now()}`,name:j.name,description:j.description||"",location:j.location||"A definir",visibility:j.visibility||"public",allowedCourses:j.allowedCourses,allowedClasses:j.allowedClasses,sessions:j.sessions||[],parentId:j.parentId||void 0,createdBy:(r==null?void 0:r.uid)||"",createdAt:new Date().toISOString()}),y(!1),tn(),tt()}catch(Ee){console.error(Ee)}finally{E(!1)}},nn=async()=>{Te&&(await Me.deleteEvent(Te),Q(null),tt())},ir=$=>{X(me=>{var Ee;return{...me,allowedCourses:(Ee=me.allowedCourses)!=null&&Ee.includes($)?me.allowedCourses.filter(Ye=>Ye!==$):[...me.allowedCourses||[],$]}})},Fi=$=>{X(me=>{var Ee;return{...me,allowedClasses:(Ee=me.allowedClasses)!=null&&Ee.includes($)?me.allowedClasses.filter(Ye=>Ye!==$):[...me.allowedClasses||[],$]}})},Gi=$=>{Ce(me=>({...me,daysOfWeek:me.daysOfWeek.includes($)?me.daysOfWeek.filter(Ee=>Ee!==$):[...me.daysOfWeek,$]}))},Ds=Ae.totalCapacity>0?Math.round(Ae.totalFilled/Ae.totalCapacity*100):0,La=D.useMemo(()=>A&&A.max<nt?A.max:nt,[A,nt]);return f.jsxs("div",{className:"container mx-auto space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-white p-4 rounded shadow border-l-4 border-primary",children:[f.jsx("div",{className:"text-gray-500 text-sm font-medium uppercase",children:"Eventos Ativos"}),f.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Ae.totalEvents})]}),f.jsxs("div",{className:"bg-white p-4 rounded shadow border-l-4 border-blue-500",children:[f.jsx("div",{className:"text-gray-500 text-sm font-medium uppercase",children:"Total de Sesses"}),f.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Ae.totalSessions})]}),f.jsxs("div",{className:"bg-white p-4 rounded shadow border-l-4 border-secondary",children:[f.jsx("div",{className:"text-gray-500 text-sm font-medium uppercase",children:"Inscritos / Vagas"}),f.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Ae.totalFilled," ",f.jsxs("span",{className:"text-gray-400 text-lg",children:["/ ",Ae.totalCapacity]})]})]}),f.jsxs("div",{className:"bg-white p-4 rounded shadow border-l-4 border-orange-500",children:[f.jsx("div",{className:"text-gray-500 text-sm font-medium uppercase",children:"Taxa de Ocupao"}),f.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Ds,"%"]})]})]}),f.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-4",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciamento de Eventos"}),f.jsxs("div",{className:"flex flex-col xl:flex-row gap-2 w-full lg:w-auto items-center",children:[f.jsx("div",{className:"w-full xl:w-64",children:f.jsx("input",{type:"text",placeholder:"Buscar evento...",className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",value:B,onChange:$=>z($.target.value)})}),f.jsxs("div",{className:"flex gap-2 w-full xl:w-auto",children:[f.jsx("div",{className:"flex-1 xl:w-40",children:f.jsxs("select",{className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-white text-gray-900",value:P,onChange:$=>te($.target.value),children:[f.jsx("option",{value:"",children:"Visibilidade"}),f.jsx("option",{value:"public",children:"Pblico"}),f.jsx("option",{value:"course",children:"Por Curso"}),f.jsx("option",{value:"class",children:"Por Turma"})]})}),f.jsx("div",{className:"flex-1 xl:w-48",children:f.jsxs("select",{className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-white text-gray-900",value:re,onChange:$=>Z($.target.value),children:[f.jsx("option",{value:"",children:"Todos os Cursos"}),o.map($=>f.jsx("option",{value:$.id,children:$.name},$.id))]})})]}),f.jsx("button",{onClick:Rs,className:"w-full xl:w-auto bg-primary text-white px-6 py-2 rounded-md hover:bg-indigo-700 shadow-sm transition font-bold whitespace-nowrap",children:"+ Novo Evento"})]})]}),f.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:f.jsxs("ul",{className:"divide-y divide-gray-200",children:[ds.map($=>f.jsx(s4,{evt:$,onOpenSubEvent:$n,onManageEnrollments:Et,onEdit:qi,onDelete:Hi},$.id)),ds.length===0&&f.jsx("li",{className:"px-6 py-12 text-center text-gray-500",children:"Nenhum evento encontrado com os filtros atuais."})]})}),f.jsx(bg,{currentPage:T,totalItems:Kt.length,itemsPerPage:fe,onPageChange:k}),f.jsx(hs,{isOpen:!!Te,onClose:()=>Q(null),title:"Confirmar Excluso",children:f.jsxs("div",{className:"p-2",children:[f.jsxs("p",{className:"text-gray-700",children:["Tem certeza que deseja excluir este evento e todas as suas sesses?",le&&f.jsxs(f.Fragment,{children:[f.jsx("br",{}),f.jsx("span",{className:"text-red-600 font-bold block mt-2",children:" Ateno: Ao excluir um evento principal, todos os sub-eventos vinculados a ele tambm sero excludos permanentemente."})]}),!le&&f.jsx("br",{}),f.jsx("span",{className:"text-red-500 text-sm font-bold block mt-2",children:"Essa ao no pode ser desfeita."})]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[f.jsx("button",{onClick:()=>Q(null),className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 text-gray-800",children:"Cancelar"}),f.jsx("button",{onClick:nn,className:"px-4 py-2 bg-red-600 rounded hover:bg-red-700 text-white font-bold",children:"Confirmar Excluso"})]})]})}),f.jsx(hs,{isOpen:g,onClose:()=>y(!1),title:oe,children:f.jsxs("form",{onSubmit:ka,className:"space-y-4 max-h-[80vh] overflow-y-auto px-1",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome do Evento"}),f.jsx("input",{type:"text",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",value:j.name,onChange:$=>X({...j,name:$.target.value})})]}),f.jsxs("div",{className:I?"opacity-50 pointer-events-none":"",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Visibilidade ",I&&f.jsxs("span",{className:"text-xs text-indigo-600",children:["(Herdado do Pai: ",I,")"]})]}),f.jsxs("select",{className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-white text-gray-900",value:j.visibility,onChange:$=>X({...j,visibility:$.target.value}),disabled:!!I,children:[f.jsx("option",{value:"public",children:"Pblico (Todos)"}),f.jsx("option",{value:"course",children:"Restrito a Cursos"}),f.jsx("option",{value:"class",children:"Restrito a Turmas"})]})]}),j.visibility==="course"&&f.jsxs("div",{className:"bg-gray-50 p-3 rounded border mt-2",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-2 uppercase",children:"Selecione os Cursos Permitidos"}),f.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:o.map($=>{var me;return f.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:(me=j.allowedCourses)==null?void 0:me.includes($.id),onChange:()=>ir($.id),className:"rounded text-primary focus:ring-primary bg-white"}),f.jsx("span",{className:"text-sm",children:$.name})]},$.id)})})]}),j.visibility==="class"&&f.jsxs("div",{className:"bg-gray-50 p-3 rounded border mt-2",children:[f.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-2 uppercase",children:"Selecione as Turmas Permitidas"}),f.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:o.map($=>{const me=h.filter(Ee=>Ee.courseId===$.id);return me.length===0?null:f.jsxs("div",{children:[f.jsx("div",{className:"text-xs font-bold text-indigo-600 mb-1 sticky top-0 bg-gray-50 py-1",children:$.name}),f.jsx("div",{className:"pl-2 space-y-1 border-l-2 border-indigo-100",children:me.map(Ee=>{var Ye;return f.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-100 rounded p-1",children:[f.jsx("input",{type:"checkbox",checked:(Ye=j.allowedClasses)==null?void 0:Ye.includes(Ee.id),onChange:()=>Fi(Ee.id),className:"rounded text-primary focus:ring-primary bg-white"}),f.jsx("span",{className:"text-sm",children:Ee.name})]},Ee.id)})})]},$.id)})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descrio"}),f.jsx("textarea",{className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",rows:3,value:j.description,onChange:$=>X({...j,description:$.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Local"}),f.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",value:j.location,onChange:$=>X({...j,location:$.target.value})})]}),f.jsxs("div",{className:"border-t pt-4",children:[f.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Gerenciar Sesses"}),A&&f.jsx("div",{className:"mb-4 bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-md",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Restrio de Data Ativa"}),f.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[f.jsxs("p",{children:["O evento pai ocorre entre ",f.jsx("span",{className:"font-bold whitespace-nowrap",children:Zt(A.min)})," e ",f.jsx("span",{className:"font-bold whitespace-nowrap",children:Zt(A.max)}),"."]}),f.jsx("p",{className:"mt-1 text-xs text-blue-600",children:"Todas as sesses deste sub-evento devem estar contidas neste intervalo."})]})]})]})}),f.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-t-md",children:[f.jsx("button",{type:"button",onClick:()=>C("manual"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-colors ${R==="manual"?"bg-white text-primary shadow":"text-gray-500 hover:text-gray-700"}`,children:"Insero Manual"}),f.jsx("button",{type:"button",onClick:()=>C("recurring"),className:`flex-1 py-2 text-sm font-medium rounded-md transition-colors ${R==="recurring"?"bg-white text-primary shadow":"text-gray-500 hover:text-gray-700"}`,children:"Gerador de Recorrncia"})]}),R==="manual"&&f.jsxs("div",{className:"grid grid-cols-2 gap-2 bg-gray-50 p-3 rounded-b-md border border-gray-200 border-t-0",children:[f.jsx("div",{className:"col-span-2 text-xs font-medium text-gray-500 uppercase",children:"Data e Capacidade"}),f.jsx("input",{type:"date",className:"border p-1 rounded text-sm bg-white text-gray-900",value:ie.date,min:A==null?void 0:A.min,max:A==null?void 0:A.max,onChange:$=>he({...ie,date:$.target.value})}),f.jsx("input",{type:"number",placeholder:"Capacidade",className:"border p-1 rounded text-sm bg-white text-gray-900",value:ie.capacity,onChange:$=>he({...ie,capacity:parseInt($.target.value)})}),f.jsx("div",{className:"col-span-2 text-xs font-medium text-gray-500 uppercase mt-2",children:"Horrio (Incio - Fim)"}),f.jsx("input",{type:"time",className:"border p-1 rounded text-sm bg-white text-gray-900",value:ie.startTime,onChange:$=>he({...ie,startTime:$.target.value})}),f.jsx("input",{type:"time",className:"border p-1 rounded text-sm bg-white text-gray-900",value:ie.endTime,onChange:$=>he({...ie,endTime:$.target.value})}),f.jsx("button",{type:"button",onClick:Nt,className:"col-span-2 mt-2 bg-white border border-primary text-primary py-2 rounded text-sm hover:bg-indigo-50 font-medium",children:"+ Adicionar Sesso"})]}),R==="recurring"&&f.jsxs("div",{className:"bg-indigo-50 p-3 rounded-b-md space-y-3 border border-indigo-100 border-t-0",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-600 font-bold",children:"Data Incio"}),f.jsx("input",{type:"date",className:"w-full border p-1 rounded text-sm bg-white text-gray-900",value:ve.startDate,min:A==null?void 0:A.min,max:La,onChange:$=>Ce({...ve,startDate:$.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-600 font-bold",children:"Data Fim"}),f.jsx("input",{type:"date",className:"w-full border p-1 rounded text-sm bg-white text-gray-900",value:ve.endDate,min:A==null?void 0:A.min,max:La,onChange:$=>Ce({...ve,endDate:$.target.value})})]})]}),f.jsxs("div",{className:"text-xs text-indigo-600 italic",children:["* A gerao automtica  limitada ao ano corrente (",Pe,")."]}),f.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-600 font-bold",children:"Incio"}),f.jsx("input",{type:"time",className:"w-full border p-1 rounded text-sm bg-white text-gray-900",value:ve.startTime,onChange:$=>Ce({...ve,startTime:$.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-600 font-bold",children:"Fim"}),f.jsx("input",{type:"time",className:"w-full border p-1 rounded text-sm bg-white text-gray-900",value:ve.endTime,onChange:$=>Ce({...ve,endTime:$.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-600 font-bold",children:"Capacidade"}),f.jsx("input",{type:"number",className:"w-full border p-1 rounded text-sm bg-white text-gray-900",value:ve.capacity,onChange:$=>Ce({...ve,capacity:parseInt($.target.value)})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs text-gray-600 font-bold block mb-1",children:"Dias da Semana"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"].map(($,me)=>f.jsx("button",{type:"button",onClick:()=>Gi(me),className:`text-xs px-3 py-1.5 rounded border font-medium transition ${ve.daysOfWeek.includes(me)?"bg-primary text-white border-primary":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`,children:$},$))})]}),M&&f.jsx("div",{className:"text-xs text-red-600 bg-red-50 border border-red-200 p-2 rounded",children:M}),f.jsx("button",{type:"button",onClick:Is,className:"w-full bg-primary text-white py-2 rounded text-sm hover:bg-indigo-700 shadow-sm font-medium",children:"Gerar Sesses Automaticamente"})]}),f.jsxs("div",{className:"mt-4 space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("h5",{className:"text-xs font-bold text-gray-500 uppercase",children:["Sesses Geradas (",((Qi=j.sessions)==null?void 0:Qi.length)||0,")"]}),(((Ki=j.sessions)==null?void 0:Ki.length)||0)>0&&f.jsx("button",{type:"button",onClick:()=>X({...j,sessions:[]}),className:"text-xs text-red-500 hover:underline",children:"Limpar Tudo"})]}),f.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-1 border rounded p-2 bg-gray-50",children:[((Yi=j.sessions)==null?void 0:Yi.length)===0&&f.jsx("p",{className:"text-xs text-gray-400 text-center py-4",children:"Nenhuma sesso adicionada"}),(_n=j.sessions)==null?void 0:_n.slice().sort(($,me)=>$.date.localeCompare(me.date)||$.startTime.localeCompare(me.startTime)).map(($,me)=>f.jsxs("div",{className:"text-xs bg-white border p-2 rounded flex justify-between items-center group hover:border-primary",children:[f.jsxs("div",{children:[f.jsx("span",{className:"font-bold text-gray-800",children:Zt($.date)}),f.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),f.jsxs("span",{children:[$.startTime," - ",$.endTime]}),f.jsx("span",{className:"mx-2 text-gray-300",children:"|"}),f.jsxs("span",{className:"text-blue-600 font-medium",children:[$.capacity," vagas"]})]}),f.jsx("button",{type:"button",onClick:()=>il(me),className:"text-red-500 hover:text-red-700 font-medium",children:""})]},me))]})]})]}),f.jsxs("div",{className:"pt-4",children:[M&&f.jsx("div",{className:"mb-2 text-sm text-red-600 text-center font-bold",children:"Existem erros no formulrio, verifique acima."}),f.jsx("button",{type:"submit",disabled:b,className:"w-full bg-green-600 text-white py-3 rounded-md hover:bg-green-700 disabled:opacity-50 font-bold text-sm shadow-sm",children:b?"Salvando...":j.id?"Atualizar Evento":"Confirmar Criao do Evento"})]})]})})]})},i4=Cu.memo(({user:r,courseName:e,className:n,onEdit:i,onRequestRoleChange:o,onRequestDelete:u,onViewEnrollments:h})=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-primary font-bold",children:r.name?r.name.charAt(0):r.email.charAt(0).toUpperCase()}),f.jsxs("div",{className:"ml-4",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name||"Sem nome"}),f.jsx("div",{className:"text-sm text-gray-500",children:r.email})]})]})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm text-gray-900",children:e}),f.jsx("div",{className:"text-sm text-gray-500",children:n})]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.rm||"-"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${r.role===_t.ADMIN?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:r.role})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[f.jsx("button",{onClick:()=>h(r),className:"text-cyan-600 hover:text-cyan-900",title:"Ver Inscries",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),f.jsx("span",{className:"text-gray-300",children:"|"}),f.jsx("button",{onClick:()=>i(r),className:"text-indigo-600 hover:text-indigo-900",children:"Editar"}),f.jsx("span",{className:"text-gray-300",children:"|"}),f.jsx("button",{onClick:()=>o(r),className:"text-amber-600 hover:text-amber-900",children:r.role===_t.ADMIN?"Virar User":"Virar Admin"}),f.jsx("span",{className:"text-gray-300",children:"|"}),f.jsx("button",{onClick:()=>u(r),className:"text-red-600 hover:text-red-900",children:"Excluir"})]})]})),a4=Cu.memo(({user:r,courseName:e,className:n,onEdit:i,onRequestRoleChange:o,onRequestDelete:u,onViewEnrollments:h})=>f.jsxs("div",{className:"bg-white shadow rounded-lg p-4 flex flex-col space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-primary font-bold",children:r.name?r.name.charAt(0):r.email.charAt(0).toUpperCase()}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-bold text-gray-900",children:r.name||"Sem nome"}),f.jsx("div",{className:"text-xs text-gray-500",children:r.email})]})]}),f.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${r.role===_t.ADMIN?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:r.role})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm border-t border-b border-gray-100 py-2",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500 text-xs block",children:"Curso"}),f.jsx("span",{className:"font-medium",children:e})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500 text-xs block",children:"Turma"}),f.jsx("span",{className:"font-medium",children:n})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500 text-xs block",children:"RM"}),f.jsx("span",{className:"font-medium",children:r.rm||"-"})]})]}),f.jsxs("div",{className:"flex justify-end space-x-2 pt-1 overflow-x-auto",children:[f.jsxs("button",{onClick:()=>h(r),className:"text-cyan-600 text-sm font-medium border border-cyan-100 px-2 py-1 rounded hover:bg-cyan-50 flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Agenda"]}),f.jsx("button",{onClick:()=>i(r),className:"text-indigo-600 text-sm font-medium border border-indigo-100 px-2 py-1 rounded hover:bg-indigo-50",children:"Editar"}),f.jsx("button",{onClick:()=>o(r),className:"text-amber-600 text-sm font-medium border border-amber-100 px-2 py-1 rounded hover:bg-amber-50",children:r.role===_t.ADMIN?"User":"Admin"}),f.jsx("button",{onClick:()=>u(r),className:"text-red-600 text-sm font-medium border border-red-100 px-2 py-1 rounded hover:bg-red-50",children:"Excluir"})]})]})),o4=()=>{const[r,e]=D.useState([]),[n,i]=D.useState([]),[o,u]=D.useState([]),[h,p]=D.useState(!1),[g,y]=D.useState(1),b=15,[E,T]=D.useState(""),[k,B]=D.useState(""),[z,P]=D.useState(""),[te,re]=D.useState(""),[Z,fe]=D.useState(null),[oe,de]=D.useState({name:"",rm:"",courseId:"",classId:""}),[R,C]=D.useState(null),[I,V]=D.useState(null),[M,N]=D.useState([]),[A,be]=D.useState(!1),[Te,Q]=D.useState(null),le=async()=>{p(!0);const[ae,at,Kt]=await Promise.all([Me.getUsers(),Me.getCourses(),Me.getClasses()]);e(ae),i(at),u(Kt),p(!1)};D.useEffect(()=>{le()},[]);const ye=D.useMemo(()=>r.filter(ae=>{var Rs,$n;const at=((Rs=ae.name)==null?void 0:Rs.toLowerCase().includes(E.toLowerCase()))||ae.email.toLowerCase().includes(E.toLowerCase())||(($n=ae.rm)==null?void 0:$n.includes(E)),Kt=k?ae.role===k:!0,ds=z?ae.courseId===z:!0,tn=te?ae.classId===te:!0;return at&&Kt&&ds&&tn}),[r,E,k,z,te]);D.useEffect(()=>{y(1)},[E,k,z,te]);const Ae=D.useMemo(()=>{const ae=(g-1)*b;return ye.slice(ae,ae+b)},[ye,g]),Ke=D.useCallback(ae=>Q({type:"DELETE",user:ae}),[]),j=D.useCallback(ae=>Q({type:"ROLE",user:ae}),[]),X=D.useCallback(ae=>{fe(ae),de({name:ae.name||"",rm:ae.rm||"",courseId:ae.courseId||"",classId:ae.classId||""}),C(null)},[]),ie=D.useCallback(async ae=>{V(ae),be(!0);try{const at=await Me.getUserEnrollmentsDetails(ae.uid);N(at)}catch(at){console.error(at),N([])}finally{be(!1)}},[]),he=async ae=>{if(I)try{await Me.cancelEnrollment(ae),ie(I)}catch{alert("Erro ao remover inscrio")}},ve=async()=>{if(Te){if(Te.type==="DELETE")await Me.deleteUser(Te.user.uid);else if(Te.type==="ROLE"){const ae=Te.user.role===_t.ADMIN?_t.USER:_t.ADMIN;await Me.updateUserRole(Te.user.uid,ae)}Q(null),le()}},Ce=async ae=>{if(ae.preventDefault(),!!Z){C(null);try{await Me.updateUserProfile(Z.uid,oe),fe(null),le()}catch(at){C(at.message)}}},Pe=D.useCallback(ae=>{var at;return((at=n.find(Kt=>Kt.id===ae))==null?void 0:at.name)||"-"},[n]),nt=D.useCallback(ae=>{var at;return((at=o.find(Kt=>Kt.id===ae))==null?void 0:at.name)||"-"},[o]),tt=D.useMemo(()=>z?o.filter(ae=>ae.courseId===z):[],[o,z]);return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col justify-between gap-4",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciamento de Usurios"}),f.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 flex flex-col md:flex-row gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Buscar"}),f.jsx("input",{type:"text",placeholder:"Nome, Email ou RM...",className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm bg-white text-gray-900",value:E,onChange:ae=>T(ae.target.value)})]}),f.jsxs("div",{className:"w-full md:w-40",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Perfil"}),f.jsxs("select",{className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm bg-white text-gray-900",value:k,onChange:ae=>B(ae.target.value),children:[f.jsx("option",{value:"",children:"Todos"}),f.jsx("option",{value:_t.ADMIN,children:"Admin"}),f.jsx("option",{value:_t.USER,children:"User"})]})]}),f.jsxs("div",{className:"w-full md:w-48",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Curso"}),f.jsxs("select",{className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm bg-white text-gray-900",value:z,onChange:ae=>{P(ae.target.value),re("")},children:[f.jsx("option",{value:"",children:"Todos os Cursos"}),n.map(ae=>f.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]}),f.jsxs("div",{className:"w-full md:w-48",children:[f.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Turma"}),f.jsxs("select",{className:"w-full border-gray-300 rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm bg-white text-gray-900 disabled:bg-gray-100",value:te,onChange:ae=>re(ae.target.value),disabled:!z,children:[f.jsx("option",{value:"",children:"Todas as Turmas"}),tt.map(ae=>f.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]})]})]}),f.jsx("div",{className:"hidden md:block bg-white shadow overflow-hidden sm:rounded-lg",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Curso / Turma"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"RM"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),f.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[Ae.map(ae=>f.jsx(i4,{user:ae,courseName:Pe(ae.courseId),className:nt(ae.classId),onEdit:X,onRequestRoleChange:j,onRequestDelete:Ke,onViewEnrollments:ie},ae.uid)),Ae.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500 text-sm",children:"Nenhum usurio encontrado com os filtros atuais."})})]})]})}),f.jsxs("div",{className:"md:hidden space-y-4",children:[Ae.map(ae=>f.jsx(a4,{user:ae,courseName:Pe(ae.courseId),className:nt(ae.classId),onEdit:X,onRequestRoleChange:j,onRequestDelete:Ke,onViewEnrollments:ie},ae.uid)),Ae.length===0&&f.jsx("div",{className:"text-center text-gray-500 text-sm py-8",children:"Nenhum usurio encontrado."})]}),f.jsx(bg,{currentPage:g,totalItems:ye.length,itemsPerPage:b,onPageChange:y}),f.jsx(hs,{isOpen:!!Te,onClose:()=>Q(null),title:"Confirmar Ao",children:f.jsxs("div",{className:"space-y-4",children:[(Te==null?void 0:Te.type)==="DELETE"?f.jsxs("p",{className:"text-gray-700",children:["Tem certeza que deseja excluir o usurio ",f.jsx("strong",{children:Te.user.name||Te.user.email}),"?",f.jsx("br",{}),f.jsx("span",{className:"text-red-500 text-sm font-bold mt-2 block",children:"Esta ao excluir todas as inscries associadas e no pode ser desfeita."})]}):f.jsxs("p",{className:"text-gray-700",children:["Deseja alterar o nvel de acesso de ",f.jsx("strong",{children:Te==null?void 0:Te.user.name})," para",f.jsxs("strong",{children:[" ",(Te==null?void 0:Te.user.role)===_t.ADMIN?"USURIO COMUM":"ADMINISTRADOR"]}),"?"]}),f.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[f.jsx("button",{onClick:()=>Q(null),className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 text-gray-800",children:"Cancelar"}),f.jsx("button",{onClick:ve,className:`px-4 py-2 rounded text-white font-bold ${(Te==null?void 0:Te.type)==="DELETE"?"bg-red-600 hover:bg-red-700":"bg-amber-500 hover:bg-amber-600"}`,children:"Confirmar"})]})]})}),f.jsx(hs,{isOpen:!!Z,onClose:()=>fe(null),title:"Editar Usurio",children:f.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome Completo"}),f.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",value:oe.name,onChange:ae=>de({...oe,name:ae.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"RM"}),f.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",value:oe.rm,onChange:ae=>de({...oe,rm:ae.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Curso"}),f.jsxs("select",{className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-white text-gray-900",value:oe.courseId,onChange:ae=>de({...oe,courseId:ae.target.value,classId:""}),children:[f.jsx("option",{value:"",children:"Selecione..."}),n.map(ae=>f.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Turma"}),f.jsxs("select",{className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 bg-white text-gray-900",value:oe.classId,onChange:ae=>de({...oe,classId:ae.target.value}),disabled:!oe.courseId,children:[f.jsx("option",{value:"",children:"Selecione..."}),o.filter(ae=>ae.courseId===oe.courseId).map(ae=>f.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]}),R&&f.jsx("div",{className:"text-red-600 text-sm p-2 bg-red-50 rounded",children:R}),f.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-2 rounded font-bold hover:bg-indigo-700",children:"Salvar Alteraes"})]})}),f.jsx(hs,{isOpen:!!I,onClose:()=>V(null),title:`Agenda: ${(I==null?void 0:I.name)||"Usurio"}`,children:f.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[A?f.jsx("div",{className:"text-center py-8 text-gray-500",children:"Carregando inscries..."}):M.length===0?f.jsx("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded border border-dashed",children:"Este usurio no est inscrito em nenhum evento."}):f.jsx("ul",{className:"divide-y divide-gray-200",children:M.map((ae,at)=>f.jsxs("li",{className:"py-3 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-gray-800 text-sm",children:ae.eventName}),f.jsxs("div",{className:"text-xs text-gray-500",children:[" ",Zt(ae.sessionDate),"   ",ae.sessionTime]}),f.jsxs("div",{className:"text-xs text-gray-400",children:[" ",ae.eventLocation]})]}),f.jsx("button",{onClick:()=>he(ae.enrollmentId),className:"text-red-500 hover:text-red-700 text-xs font-bold border border-red-200 px-2 py-1 rounded hover:bg-red-50",children:"Remover"})]},at))}),f.jsx("div",{className:"pt-2 border-t mt-4 text-right",children:f.jsx("button",{onClick:()=>V(null),className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 text-gray-800 text-sm",children:"Fechar"})})]})})]})},l4=()=>{const[r,e]=D.useState([]),[n,i]=D.useState([]),[o,u]=D.useState(!1),[h,p]=D.useState(""),[g,y]=D.useState(""),[b,E]=D.useState(""),[T,k]=D.useState(""),[B,z]=D.useState(null),[P,te]=D.useState(null),re=async()=>{u(!0);const N=await Me.getCourses(),A=await Me.getClasses();e(N),i(A),u(!1)};D.useEffect(()=>{re()},[]);const Z=async N=>{N.preventDefault(),h&&(await Me.addCourse(h),p(""),re())},fe=N=>{te({type:"course",id:N})},oe=async N=>{N.preventDefault(),!(!g||!b)&&(await Me.addClass(b,g),y(""),re())},de=N=>{te({type:"class",id:N})},R=async()=>{P&&(P.type==="course"?await Me.deleteCourse(P.id):await Me.deleteClass(P.id),te(null),re())},C=(N,A,be)=>{z({type:N,id:A,name:be})},I=async N=>{N.preventDefault(),!(!B||!B.name)&&(B.type==="course"?await Me.updateCourse(B.id,B.name):await Me.updateClass(B.id,B.name),z(null),re())},V=r.filter(N=>N.name.toLowerCase().includes(T.toLowerCase())),M=n.filter(N=>{var Q;const A=((Q=r.find(le=>le.id===N.courseId))==null?void 0:Q.name)||"",be=N.name.toLowerCase().includes(T.toLowerCase()),Te=A.toLowerCase().includes(T.toLowerCase());return be||Te});return f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesto de Cursos e Turmas"}),f.jsx("div",{className:"w-full sm:w-72",children:f.jsx("input",{type:"text",placeholder:"Buscar Curso ou Turma...",className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",value:T,onChange:N=>k(N.target.value)})})]}),f.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6",children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cursos"}),f.jsxs("form",{onSubmit:Z,className:"flex flex-col sm:flex-row gap-4 mb-6",children:[f.jsx("input",{type:"text",placeholder:"Nome do novo curso",className:"flex-1 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",value:h,onChange:N=>p(N.target.value)}),f.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-primary text-white px-4 py-2 rounded-md hover:bg-indigo-700 font-medium",children:"Adicionar Curso"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[V.map(N=>f.jsxs("div",{className:"border border-gray-200 rounded-md p-4 flex justify-between items-center bg-gray-50 shadow-sm",children:[f.jsx("span",{className:"font-medium text-gray-800 break-words flex-1 pr-2",children:N.name}),f.jsxs("div",{className:"flex space-x-1 flex-shrink-0",children:[f.jsx("button",{onClick:()=>C("course",N.id,N.name),className:"text-blue-600 text-sm hover:text-white hover:bg-blue-600 font-medium px-2 py-1 rounded transition",title:"Editar",children:""}),f.jsx("button",{onClick:()=>fe(N.id),className:"text-red-600 text-sm hover:text-white hover:bg-red-600 font-medium px-2 py-1 rounded transition",title:"Excluir",children:""})]})]},N.id)),V.length===0&&f.jsx("div",{className:"text-gray-500 text-sm italic col-span-full",children:"Nenhum curso encontrado."})]})]}),f.jsxs("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6",children:[f.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Turmas"}),f.jsxs("form",{onSubmit:oe,className:"flex flex-col sm:flex-row gap-4 mb-6",children:[f.jsxs("select",{className:"w-full sm:w-1/3 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",value:b,onChange:N=>E(N.target.value),required:!0,children:[f.jsx("option",{value:"",children:"Selecione o Curso..."}),r.map(N=>f.jsx("option",{value:N.id,children:N.name},N.id))]}),f.jsx("input",{type:"text",placeholder:"Nome da Turma (ex: 2024-A)",className:"flex-1 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",value:g,onChange:N=>y(N.target.value),required:!0}),f.jsx("button",{type:"submit",className:"w-full sm:w-auto bg-secondary text-white px-4 py-2 rounded-md hover:bg-emerald-700 font-medium",children:"Adicionar Turma"})]}),f.jsxs("div",{className:"border border-gray-200 rounded-md bg-white overflow-hidden",children:[f.jsxs("div",{className:"hidden md:grid grid-cols-3 bg-gray-50 px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-gray-200",children:[f.jsx("div",{children:"Turma"}),f.jsx("div",{children:"Curso Associado"}),f.jsx("div",{className:"text-right",children:"Aes"})]}),f.jsxs("div",{className:"divide-y divide-gray-200",children:[M.map(N=>{var be;const A=((be=r.find(Te=>Te.id===N.courseId))==null?void 0:be.name)||"Curso removido";return f.jsxs("div",{className:"p-4 md:px-6 md:py-4 flex flex-col md:grid md:grid-cols-3 gap-2 md:items-center",children:[f.jsxs("div",{className:"flex justify-between items-center md:block",children:[f.jsx("span",{className:"text-sm font-medium text-gray-900",children:N.name}),f.jsx("span",{className:"md:hidden text-xs font-bold text-gray-400 uppercase",children:"Turma"})]}),f.jsxs("div",{className:"flex justify-between items-center md:block",children:[f.jsx("span",{className:"text-sm text-gray-500",children:A}),f.jsx("span",{className:"md:hidden text-xs font-bold text-gray-400 uppercase",children:"Curso"})]}),f.jsxs("div",{className:"text-right mt-3 md:mt-0 pt-3 md:pt-0 border-t md:border-0 border-gray-100 flex justify-end gap-2",children:[f.jsx("button",{onClick:()=>C("class",N.id,N.name),className:"text-blue-600 hover:text-white hover:bg-blue-600 text-sm font-medium border border-blue-200 px-3 py-1.5 rounded transition",children:"Editar"}),f.jsx("button",{onClick:()=>de(N.id),className:"text-red-600 hover:text-white hover:bg-red-600 text-sm font-medium border border-red-200 px-3 py-1.5 rounded transition",children:"Excluir"})]})]},N.id)}),M.length===0&&f.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"Nenhuma turma encontrada."})]})]})]}),f.jsx(hs,{isOpen:!!P,onClose:()=>te(null),title:"Confirmar Excluso",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-gray-700",children:["Tem certeza que deseja excluir ",(P==null?void 0:P.type)==="course"?"este curso":"esta turma","?"]}),(P==null?void 0:P.type)==="course"&&f.jsx("p",{className:"text-xs text-red-500 font-bold",children:"Ateno: Isso pode deixar turmas e usurios rfos (sem curso vinculado)."}),f.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[f.jsx("button",{onClick:()=>te(null),className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 text-gray-800",children:"Cancelar"}),f.jsx("button",{onClick:R,className:"px-4 py-2 bg-red-600 rounded hover:bg-red-700 text-white font-bold",children:"Confirmar"})]})]})}),f.jsx(hs,{isOpen:!!B,onClose:()=>z(null),title:(B==null?void 0:B.type)==="course"?"Editar Curso":"Editar Turma",children:f.jsxs("form",{onSubmit:I,children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),f.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",value:(B==null?void 0:B.name)||"",onChange:N=>z(A=>A?{...A,name:N.target.value}:null),required:!0})]}),f.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-2 rounded font-medium hover:bg-indigo-700",children:"Salvar"})]})})]})},u4=()=>{const{id:r}=Qx(),[e,n]=D.useState(null),[i,o]=D.useState([]),[u,h]=D.useState(!0),[p,g]=D.useState(null),[y,b]=D.useState(""),E=async()=>{if(!r)return;h(!0);const z=await Me.getEventById(r);n(z||null);const P=await Me.getEnrichedEnrollments(r);o(P),h(!1)};D.useEffect(()=>{E()},[r]);const T=()=>{if(i.length===0)return;const P=[["Nome","Email","RM","Data Sesso","Horrio","Data Inscrio"].join(","),...i.map(fe=>[JSON.stringify(fe.user.name),JSON.stringify(fe.user.email),JSON.stringify(fe.user.rm),JSON.stringify(Zt(fe.session.date)),JSON.stringify(`${fe.session.startTime} - ${fe.session.endTime}`),JSON.stringify(new Date(fe.enrolledAt).toLocaleString("pt-BR"))].join(","))].join(`
`),te=new Blob([P],{type:"text/csv;charset=utf-8;"}),re=URL.createObjectURL(te),Z=document.createElement("a");Z.href=re,Z.setAttribute("download",`inscritos_${(e==null?void 0:e.name.replace(/\s+/g,"_"))||"evento"}.csv`),document.body.appendChild(Z),Z.click(),document.body.removeChild(Z)},k=async()=>{p&&(await Me.cancelEnrollment(p),g(null),E())},B=i.filter(z=>{var P;return z.user.name.toLowerCase().includes(y.toLowerCase())||z.user.email.toLowerCase().includes(y.toLowerCase())||((P=z.user.rm)==null?void 0:P.includes(y))});return u?f.jsx("div",{className:"p-8 text-center",children:"Carregando..."}):e?f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsxs(Dt,{to:"/admin/events",className:"text-gray-500 hover:text-gray-700 font-medium flex-shrink-0",children:[f.jsx("span",{className:"sr-only",children:"Voltar"}),f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})]}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 leading-tight",children:"Inscritos"}),f.jsx("p",{className:"text-sm text-gray-500 truncate max-w-[200px] sm:max-w-md",children:e.name})]})]}),f.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[f.jsx("input",{type:"text",placeholder:"Buscar aluno...",className:"flex-1 sm:w-64 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary bg-white text-gray-900",value:y,onChange:z=>b(z.target.value)}),f.jsxs("button",{onClick:T,disabled:i.length===0,className:"w-auto bg-emerald-600 text-white px-4 py-2 rounded hover:bg-emerald-700 flex justify-center items-center disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-sm",title:"Exportar CSV",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),f.jsx("span",{className:"hidden sm:inline",children:"CSV"})]})]})]}),B.length===0?f.jsx("div",{className:"bg-white shadow rounded-lg p-8 text-center text-gray-500",children:y?"Nenhum aluno encontrado para esta busca.":"Nenhum inscrito neste evento at o momento."}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"hidden md:block bg-white shadow overflow-hidden sm:rounded-lg",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aluno"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"RM / Email"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sesso"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inscrito em"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(z=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.user.name})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm text-gray-900",children:z.user.rm||"-"}),f.jsx("div",{className:"text-xs text-gray-500",children:z.user.email})]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm text-gray-900",children:Zt(z.session.date)}),f.jsxs("div",{className:"text-xs text-gray-500",children:[z.session.startTime," - ",z.session.endTime]})]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(z.enrolledAt).toLocaleDateString("pt-BR")}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:f.jsx("button",{onClick:()=>g(z.id),className:"text-red-600 hover:text-red-900 font-bold",children:"Remover"})})]},z.id))})]})}),f.jsx("div",{className:"md:hidden space-y-4",children:B.map(z=>f.jsxs("div",{className:"bg-white shadow rounded-lg p-4 border border-gray-100",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-bold text-gray-900",children:z.user.name}),f.jsx("p",{className:"text-xs text-gray-500",children:z.user.email})]}),f.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded font-medium",children:["RM: ",z.user.rm||"-"]})]}),f.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-50 grid grid-cols-2 gap-2 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:"block text-xs text-gray-400 uppercase font-bold tracking-wide",children:"Sesso"}),f.jsx("span",{className:"block font-medium text-gray-800",children:Zt(z.session.date)}),f.jsxs("span",{className:"block text-xs text-gray-500",children:[z.session.startTime," - ",z.session.endTime]})]}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-xs text-gray-400 uppercase font-bold tracking-wide",children:"Inscrito em"}),f.jsx("span",{className:"block text-gray-600",children:new Date(z.enrolledAt).toLocaleDateString("pt-BR")})]})]}),f.jsx("div",{className:"mt-4 pt-3 border-t border-gray-50",children:f.jsx("button",{onClick:()=>g(z.id),className:"w-full text-sm text-red-600 hover:text-red-800 font-bold border border-red-100 bg-red-50 px-3 py-2 rounded hover:bg-red-100 transition",children:"Remover Inscrio"})})]},z.id))})]}),f.jsx(hs,{isOpen:!!p,onClose:()=>g(null),title:"Remover Inscrio",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-gray-700",children:"Tem certeza que deseja remover a inscrio deste aluno? A vaga ser liberada imediatamente."}),f.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[f.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 text-gray-800",children:"Cancelar"}),f.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-600 rounded hover:bg-red-700 text-white font-bold",children:"Confirmar Remoo"})]})]})})]}):f.jsx("div",{className:"p-8 text-center",children:"Evento no encontrado."})},c4=()=>{const[r,e]=D.useState(!1),[n,i]=D.useState(!1),[o,u]=D.useState(null),h=()=>{u(null),i(!0)},p=async()=>{e(!0),u(null);try{await Me.resetAndSeedData(),u({type:"success",msg:"Dados gerados com sucesso! Recarregando sistema..."}),setTimeout(()=>{window.location.reload()},2e3)}catch(g){console.error(g),u({type:"error",msg:"Ocorreu um erro ao gerar os dados."}),e(!1)}};return f.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto mt-10",children:[f.jsx("div",{className:"bg-white shadow sm:rounded-lg",children:f.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[f.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Ferramentas de Desenvolvimento"}),f.jsxs("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:[f.jsx("p",{children:"Utilize esta funo para popular o banco de dados local com informaes de teste."}),f.jsx("p",{className:"mt-2 font-bold text-red-500",children:"Isso  destrutivo e sobrescrever todos os dados existentes."})]}),f.jsx("div",{className:"mt-5",children:f.jsx("button",{type:"button",onClick:h,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:text-sm",children:" Resetar e Gerar Massa de Dados"})})]})}),f.jsxs("div",{className:"bg-indigo-50 p-4 rounded-md border border-indigo-100",children:[f.jsx("h4",{className:"font-bold text-indigo-800 mb-2",children:"O que ser gerado?"}),f.jsxs("ul",{className:"list-disc list-inside text-sm text-indigo-700 space-y-1",children:[f.jsx("li",{children:"Cursos: CC, Direito, Medicina, Design."}),f.jsx("li",{children:"Turmas associadas a cada curso."}),f.jsx("li",{children:"Usurios: 1 Admin (admin@school.com), 3 Alunos com perfis variados."}),f.jsx("li",{children:"Eventos Pblicos e Restritos (por curso/turma)."}),f.jsx("li",{children:"Hierarquia: Semana Acadmica com 2 sub-eventos."})]})]}),f.jsx(hs,{isOpen:n,onClose:()=>!r&&i(!1),title:"Confirmar Reset",children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-gray-700",children:["Tem certeza absoluta? Essa ao apagar ",f.jsx("strong",{children:"todos"})," os usurios, eventos e inscries atuais e criar dados fictcios."]}),o&&f.jsx("div",{className:`p-3 rounded text-sm font-bold text-center ${o.type==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.msg}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[f.jsx("button",{onClick:()=>i(!1),disabled:r,className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 text-gray-800 disabled:opacity-50",children:"Cancelar"}),f.jsxs("button",{onClick:p,disabled:r,className:"px-4 py-2 bg-red-600 rounded hover:bg-red-700 text-white font-bold disabled:opacity-50 flex items-center",children:[r&&f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r?"Gerando...":"Sim, Resetar Tudo"]})]})]})})]})},h4=()=>{const{user:r}=Ur(),[e,n]=D.useState([]),[i,o]=D.useState(null),[u,h]=D.useState(!1),p=async()=>{if(!r)return;const y=await Me.getEnrollmentsForUser(r.uid),b=await Me.getEvents(),E=y.map(T=>{const k=b.find(z=>z.id===T.eventId);if(!k)return null;const B=k.sessions.find(z=>z.id===T.sessionId);return B?{enrollment:T,event:k,session:B}:null}).filter(Boolean);n(E)};D.useEffect(()=>{p()},[r]);const g=async()=>{if(i){h(!0);try{await Me.cancelEnrollment(i)}catch(y){console.error(y)}finally{o(null),h(!1),p()}}};return f.jsxs("div",{className:"space-y-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Minha Agenda"}),e.length===0?f.jsx("div",{className:"bg-white p-8 rounded-lg shadow text-center text-gray-500",children:"Voc ainda no se inscreveu em nenhum evento."}):f.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:f.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(({enrollment:y,event:b,session:E})=>f.jsxs("li",{className:"px-6 py-4 flex flex-col sm:flex-row sm:items-center justify-between hover:bg-gray-50 gap-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-medium text-primary",children:b.name}),f.jsxs("div",{className:"text-sm text-gray-700 mt-1",children:[" ",Zt(E.date),"   ",E.startTime," - ",E.endTime]}),f.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[" ",b.location]})]}),f.jsx("div",{children:f.jsx("button",{onClick:()=>o(y.id),className:"w-full sm:w-auto text-sm text-red-600 hover:text-red-800 border border-red-200 px-3 py-2 rounded hover:bg-red-50 transition flex justify-center",children:"Cancelar Inscrio"})})]},y.id))})}),f.jsx(hs,{isOpen:!!i,onClose:()=>o(null),title:"Confirmar Cancelamento",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-gray-700",children:"Tem certeza que deseja cancelar sua inscrio neste evento? A vaga ser liberada para outro participante."}),f.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[f.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 bg-gray-100 rounded hover:bg-gray-200 text-gray-800",children:"Manter Inscrio"}),f.jsx("button",{onClick:g,disabled:u,className:"px-4 py-2 bg-red-600 rounded hover:bg-red-700 text-white font-bold",children:u?"Processando...":"Sim, Cancelar"})]})]})})]})},d4=()=>{const[r,e]=D.useState([]);return D.useEffect(()=>{(async()=>{const i=await Me.getPublicEvents();e(i.slice(0,6))})()},[]),f.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[f.jsx("nav",{className:"bg-white shadow-sm",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16 items-center",children:[f.jsx("div",{className:"flex-shrink-0 flex items-center",children:f.jsx("span",{className:"text-primary font-bold text-2xl tracking-tight",children:"EduEvent"})}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx(Dt,{to:"/login",className:"text-gray-500 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"Entrar"}),f.jsx(Dt,{to:"/login",className:"bg-primary hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Inscrever-se"})]})]})})}),f.jsxs("div",{className:"relative bg-white overflow-hidden",children:[f.jsx("div",{className:"max-w-7xl mx-auto",children:f.jsx("div",{className:"relative z-10 pb-8 bg-white sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32",children:f.jsx("main",{className:"mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28",children:f.jsxs("div",{className:"sm:text-center lg:text-left",children:[f.jsxs("h1",{className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl",children:[f.jsx("span",{className:"block xl:inline",children:"Agende seus eventos"})," ",f.jsx("span",{className:"block text-primary xl:inline",children:"escolares com facilidade"})]}),f.jsx("p",{className:"mt-3 text-base text-gray-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0",children:"Um sistema completo para gerenciar inscries em palestras, workshops e atividades extracurriculares. Garanta sua vaga e evite conflitos de horrio."}),f.jsxs("div",{className:"mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start",children:[f.jsx("div",{className:"rounded-md shadow",children:f.jsx(Dt,{to:"/login",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary hover:bg-indigo-700 md:py-4 md:text-lg",children:"Comear Agora"})}),f.jsx("div",{className:"mt-3 sm:mt-0 sm:ml-3",children:f.jsx("a",{href:"#eventos",className:"w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-primary bg-indigo-100 hover:bg-indigo-200 md:py-4 md:text-lg",children:"Ver Prximos Eventos"})})]})]})})})}),f.jsx("div",{className:"lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2 bg-gray-100 flex items-center justify-center text-gray-400",children:f.jsx("svg",{className:"h-56 w-56 opacity-20",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 8.5l-2.5 1.25L12 11zm0 2.5l-5-2.5-5 2.5L12 22l10-8.5-5-2.5-5 2.5z"})})})]}),f.jsxs("div",{id:"eventos",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 w-full",children:[f.jsxs("div",{className:"text-center mb-12",children:[f.jsx("h2",{className:"text-base text-primary font-semibold tracking-wide uppercase",children:"Agenda"}),f.jsx("p",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Prximos Eventos Abertos"})]}),r.length===0?f.jsx("div",{className:"text-center text-gray-500 py-10 bg-white rounded shadow",children:"Nenhum evento pblico agendado no momento."}):f.jsx("div",{className:"grid gap-6 lg:grid-cols-3 md:grid-cols-2 sm:grid-cols-1",children:r.map(n=>{var i,o,u;return f.jsxs("div",{className:"flex flex-col rounded-lg shadow-lg overflow-hidden bg-white",children:[f.jsxs("div",{className:"flex-1 bg-white p-6 flex flex-col justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("p",{className:"text-sm font-medium text-primary",children:[n.sessions.length," Sesses Disponveis"]}),f.jsxs("div",{className:"block mt-2",children:[f.jsx("p",{className:"text-xl font-semibold text-gray-900",children:n.name}),f.jsx("p",{className:"mt-3 text-base text-gray-500 line-clamp-3",children:n.description})]})]}),f.jsxs("div",{className:"mt-6 flex items-center",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("span",{className:"text-2xl",children:""})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.location}),f.jsxs("div",{className:"flex space-x-1 text-sm text-gray-500",children:[f.jsx("time",{dateTime:(i=n.sessions[0])==null?void 0:i.date,children:Zt((o=n.sessions[0])==null?void 0:o.date)}),f.jsx("span",{"aria-hidden":"true",children:""}),f.jsx("span",{children:(u=n.sessions[0])==null?void 0:u.startTime})]})]})]})]}),f.jsx("div",{className:"bg-gray-50 px-6 py-4",children:f.jsx(Dt,{to:"/login",className:"w-full flex justify-center items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary hover:bg-indigo-700",children:"Login para se Inscrever"})})]},n.id)})})]}),f.jsx("footer",{className:"bg-white mt-auto border-t",children:f.jsx("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:f.jsx("p",{className:"text-center text-base text-gray-400",children:" 2024 Escola EduEvent. Todos os direitos reservados."})})})]})},f4=()=>{const{id:r}=Qx(),{user:e}=Ur(),n=Pi(),[i,o]=D.useState(null),[u,h]=D.useState([]),[p,g]=D.useState([]),[y,b]=D.useState(!0),[E,T]=D.useState(null),[k,B]=D.useState(null),[z,P]=D.useState(null),te=async()=>{if(!(!r||!e)){b(!0);try{const oe=await Me.getEventById(r);if(!oe){n("/dashboard");return}o(oe);const R=(await Me.getAvailableEventsForUser(e)).filter(I=>I.parentId===r);h(R);const C=await Me.getEnrollmentsForUser(e.uid);g(C)}catch(oe){console.error(oe)}finally{b(!1)}}};D.useEffect(()=>{te()},[r,e]);const re=(oe,de)=>p.some(R=>R.eventId===oe&&R.sessionId===de),Z=async oe=>{if(!(!e||!E)){B(null),P(null);try{await Me.createEnrollment(e.uid,E.id,oe),B({type:"success",msg:"Inscrio realizada com sucesso!"}),await te(),setTimeout(()=>{z||T(null)},1500)}catch(de){const R=de.message||"";if(R.startsWith("CONFLICT|")){const[C,I,V,M]=R.split("|");P({name:I,time:`${V} - ${M}`})}else B({type:"error",msg:R||"Falha ao inscrever"})}}},fe=oe=>{B(null),P(null),T(oe)};return y?f.jsx("div",{className:"p-12 text-center text-gray-500 font-medium",children:"Carregando detalhes do evento..."}):i?f.jsxs("div",{className:"space-y-8 pb-12",children:[f.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:f.jsxs("ol",{className:"flex items-center space-x-2",children:[f.jsx("li",{children:f.jsx(Dt,{to:"/dashboard",className:"text-gray-500 hover:text-primary font-medium transition",children:"Eventos"})}),f.jsx("li",{children:f.jsx("span",{className:"text-gray-300",children:"/"})}),f.jsx("li",{className:"text-gray-900 font-semibold","aria-current":"page",children:i.name})]})}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-gray-100 relative",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary to-indigo-400"}),f.jsx("div",{className:"p-8 md:p-10",children:f.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-6",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"inline-block px-3 py-1 rounded-full bg-indigo-50 text-indigo-700 text-xs font-bold uppercase tracking-wide mb-4 border border-indigo-100",children:"Evento Principal"}),f.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-4 leading-tight",children:i.name}),f.jsx("p",{className:"text-lg text-gray-600 leading-relaxed mb-6 max-w-4xl",children:i.description}),f.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-500 text-sm font-medium",children:[f.jsxs("div",{className:"flex items-center bg-gray-50 px-3 py-1.5 rounded-lg",children:[f.jsx("span",{className:"mr-2 text-xl",children:""})," ",i.location]}),f.jsxs("div",{className:"flex items-center bg-gray-50 px-3 py-1.5 rounded-lg",children:[f.jsx("span",{className:"mr-2 text-xl",children:""})," ",i.sessions.length," Sesses Principais"]})]})]}),i.sessions.length>0&&f.jsx("div",{className:"flex-shrink-0",children:f.jsxs("button",{onClick:()=>fe(i),className:"w-full md:w-auto bg-primary hover:bg-indigo-700 text-white px-6 py-3 rounded-xl font-bold shadow-lg shadow-indigo-200 transition transform hover:-translate-y-1 flex items-center justify-center",children:["Ver Programao Geral",f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})})]})})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Atividades & Sub-eventos"}),f.jsx("div",{className:"h-px bg-gray-200 flex-1"})]}),u.length===0?f.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-200 rounded-xl p-12 text-center",children:[f.jsx("div",{className:"text-4xl mb-3 opacity-30",children:""}),f.jsx("p",{className:"text-gray-500 font-medium",children:"Nenhuma atividade especfica cadastrada para este evento ainda."})]}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:u.map(oe=>{const de=oe.sessions.length===1?oe.sessions[0]:null,R=de?de.capacity:0,C=de?de.filled:0,I=R>0?C/R*100:0,V=R>0&&C>=R;return f.jsxs("div",{className:"group bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 flex flex-col relative",children:[f.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gray-200 group-hover:bg-primary transition-colors"}),f.jsxs("div",{className:"p-6 flex-1 flex flex-col ml-1",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors",children:oe.name}),f.jsx("p",{className:"text-gray-500 text-sm line-clamp-3 mb-4 flex-1",children:oe.description}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mt-auto pt-4 border-t border-gray-50",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"w-6 text-center mr-2 text-gray-400",children:""}),f.jsx("span",{className:"font-medium",children:oe.location})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"w-6 text-center mr-2 text-gray-400",children:""}),f.jsx("span",{className:"font-medium",children:oe.sessions.length>1?`${oe.sessions.length} opes de horrio`:`${Zt(de==null?void 0:de.date)}  ${de==null?void 0:de.startTime}`})]})]}),de&&f.jsxs("div",{className:"mt-4",children:[f.jsx("div",{className:"flex justify-between text-xs mb-1 font-bold",children:f.jsx("span",{className:V?"text-red-600":"text-gray-500",children:V?"LOTADO":`${R-C} vagas`})}),f.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5",children:f.jsx("div",{className:`h-full rounded-full ${V?"bg-red-500":"bg-emerald-500"}`,style:{width:`${I}%`}})})]})]}),f.jsx("button",{onClick:()=>fe(oe),className:"w-full py-3 bg-gray-50 hover:bg-primary hover:text-white text-primary font-bold text-sm transition-colors border-t border-gray-100",children:oe.sessions.length>1?"Escolher Horrio":V?"Ver Detalhes":"Inscrever-se Agora"})]},oe.id)})}),f.jsx(hs,{isOpen:!!E,onClose:()=>T(null),title:E?E.name:"",children:f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100",children:f.jsx("p",{className:"text-gray-700 leading-relaxed",children:E==null?void 0:E.description})}),k&&f.jsxs("div",{className:`p-4 rounded-md border flex items-start ${k.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[f.jsx("span",{className:"mr-3 text-xl",children:k.type==="success"?"":""}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold",children:k.type==="success"?"Sucesso!":"Erro"}),f.jsx("p",{className:"text-sm",children:k.msg})]})]}),z&&f.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-md",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("h3",{className:"text-sm font-bold text-amber-800",children:"Conflito de Horrio"}),f.jsxs("div",{className:"mt-2 text-sm text-amber-700",children:[f.jsx("p",{className:"mb-2",children:"Voc j possui compromisso neste horrio:"}),f.jsxs("div",{className:"bg-white bg-opacity-50 p-2 rounded border border-amber-200",children:[f.jsx("p",{className:"font-semibold",children:z.name}),f.jsx("p",{className:"text-xs",children:z.time})]})]})]})]})}),f.jsxs("div",{children:[f.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center",children:[f.jsx("span",{className:"bg-primary h-6 w-1 rounded mr-2"}),"Selecione uma Sesso"]}),f.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-1",children:E==null?void 0:E.sessions.map(oe=>{const de=re(E.id,oe.id),R=oe.filled>=oe.capacity,C=oe.filled/oe.capacity*100;return f.jsx("div",{className:`relative border rounded-lg p-4 transition-all ${de?"border-green-500 bg-green-50 ring-1 ring-green-500":R?"border-gray-200 bg-gray-50 opacity-90":"border-gray-200 hover:border-primary hover:shadow-md bg-white"}`,children:f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"font-bold text-gray-900 text-lg",children:Zt(oe.date)}),de&&f.jsx("span",{className:"bg-green-200 text-green-800 text-[10px] font-bold px-2 py-0.5 rounded-full uppercase",children:"Inscrito"})]}),f.jsx("div",{className:"text-sm text-gray-600 flex items-center gap-4",children:f.jsxs("span",{className:"flex items-center",children:[" ",oe.startTime," - ",oe.endTime]})}),f.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[f.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full rounded-full ${R?"bg-red-500":C>80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${Math.min(C,100)}%`}})}),f.jsx("span",{className:`text-xs font-bold w-24 text-right ${R?"text-red-600":"text-gray-500"}`,children:R?"ESGOTADO":`${oe.capacity-oe.filled} vagas`})]})]}),f.jsx("div",{className:"flex items-center",children:de?f.jsx("button",{disabled:!0,className:"w-full sm:w-auto bg-white border border-green-500 text-green-600 font-bold py-2 px-4 rounded-lg opacity-100",children:"Inscrito"}):f.jsx("button",{onClick:()=>Z(oe.id),disabled:R,className:`w-full sm:w-auto px-6 py-2.5 rounded-lg font-bold shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-all ${R?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-primary text-white hover:bg-indigo-700 hover:shadow-md"}`,children:R?"Lotado":"Inscrever"})})]})},oe.id)})})]})]})})]}):f.jsx("div",{className:"p-12 text-center text-red-500 font-bold",children:"Evento no encontrado."})},Nr=({children:r,roleRequired:e})=>{const{user:n,loading:i}=Ur();return i?f.jsx("div",{className:"h-screen flex items-center justify-center",children:"Carregando..."}):n?!n.isOnboarded&&window.location.hash!=="#/complete-profile"?f.jsx(Th,{to:"/complete-profile"}):e&&n.role!==e?f.jsx(Th,{to:"/dashboard"}):f.jsx(f.Fragment,{children:r}):f.jsx(Th,{to:"/login"})},m4=()=>{const{user:r}=Ur();return f.jsxs(sS,{children:[f.jsx(cs,{path:"/",element:r?f.jsx(Th,{to:"/dashboard"}):f.jsx(d4,{})}),f.jsx(cs,{path:"/login",element:f.jsx(ZD,{})}),f.jsx(cs,{path:"/complete-profile",element:f.jsx(Nr,{children:f.jsx(e4,{})})}),f.jsx(cs,{path:"/dashboard",element:f.jsx(Nr,{children:f.jsx(vi,{children:f.jsx(n4,{})})})}),f.jsx(cs,{path:"/event/:id",element:f.jsx(Nr,{children:f.jsx(vi,{children:f.jsx(f4,{})})})}),f.jsx(cs,{path:"/my-enrollments",element:f.jsx(Nr,{children:f.jsx(vi,{children:f.jsx(h4,{})})})}),f.jsx(cs,{path:"/admin/events",element:f.jsx(Nr,{roleRequired:_t.ADMIN,children:f.jsx(vi,{children:f.jsx(r4,{})})})}),f.jsx(cs,{path:"/admin/events/:id/enrollments",element:f.jsx(Nr,{roleRequired:_t.ADMIN,children:f.jsx(vi,{children:f.jsx(u4,{})})})}),f.jsx(cs,{path:"/admin/courses",element:f.jsx(Nr,{roleRequired:_t.ADMIN,children:f.jsx(vi,{children:f.jsx(l4,{})})})}),f.jsx(cs,{path:"/admin/users",element:f.jsx(Nr,{roleRequired:_t.ADMIN,children:f.jsx(vi,{children:f.jsx(o4,{})})})}),f.jsx(cs,{path:"/admin/dev",element:f.jsx(Nr,{roleRequired:_t.ADMIN,children:f.jsx(vi,{children:f.jsx(c4,{})})})})]})};function p4(){return f.jsx(JD,{children:f.jsx(AS,{children:f.jsx(m4,{})})})}const Sw=document.getElementById("root");if(!Sw)throw new Error("Could not find root element to mount to");const g4=d1.createRoot(Sw);g4.render(f.jsx(Cu.StrictMode,{children:f.jsx(p4,{})}));
