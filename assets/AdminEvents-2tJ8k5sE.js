import{u as U,r as i,j as e,f as p,L as Z,a as L,s as D,S as ee,E as re,b as ae,M as te,C as se}from"./index-BVLK4_qM.js";const de=({initialData:k,courses:I,classes:$,targetParentName:v,dateLimits:s,onSubmit:j,onCancel:W,isLoading:q})=>{var G,M,R,t;const{addToast:z}=U(),[w,N]=i.useState("details"),[C,h]=i.useState("manual"),[f,l]=i.useState(null),u=`${new Date().getFullYear()+2}-12-31`,V=50,[d,g]=i.useState({name:"",description:"",location:"",visibility:"public",allowedCourses:[],allowedClasses:[],sessions:[],parentId:void 0,isTeamEvent:!1,hasDedicatedPage:!1,dedicatedPageConfig:{schedule:[],gallery:[],themeColor:"#4F46E5"},...k}),[n,x]=i.useState({date:"",startTime:"",endTime:"",capacity:30}),[c,b]=i.useState({startDate:"",endDate:"",startTime:"",endTime:"",capacity:30,daysOfWeek:[]});i.useEffect(()=>{k&&g(r=>({...r,...k}))},[k]);const O=async r=>{var a,o;if(r.preventDefault(),!d.name||!((a=d.sessions)!=null&&a.length)){l("Nome e ao menos uma sess√£o s√£o obrigat√≥rios."),d.name&&!((o=d.sessions)!=null&&o.length)&&N("sessions");return}await j(d)},A=r=>g(a=>{var o;return{...a,allowedCourses:(o=a.allowedCourses)!=null&&o.includes(r)?a.allowedCourses.filter(m=>m!==r):[...a.allowedCourses||[],r]}}),y=r=>g(a=>{var o;return{...a,allowedClasses:(o=a.allowedClasses)!=null&&o.includes(r)?a.allowedClasses.filter(m=>m!==r):[...a.allowedClasses||[],r]}}),E=r=>b(a=>({...a,daysOfWeek:a.daysOfWeek.includes(r)?a.daysOfWeek.filter(o=>o!==r):[...a.daysOfWeek,r]})),_=()=>{if(!n.date||!n.startTime||!n.endTime)return;if(s&&(n.date<s.min||n.date>s.max)){l(`A data deve estar entre ${p(s.min)} e ${p(s.max)}.`);return}if(n.startTime>=n.endTime){l("O hor√°rio de t√©rmino deve ser ap√≥s o hor√°rio de in√≠cio.");return}const r={id:`sess_${Date.now()}`,date:n.date,startTime:n.startTime,endTime:n.endTime,capacity:n.capacity||30,filled:0};g(a=>({...a,sessions:[...a.sessions||[],r]})),x({date:"",startTime:"",endTime:"",capacity:30}),l(null)},F=()=>{l(null);const{startDate:r,endDate:a,startTime:o,endTime:m,capacity:Y,daysOfWeek:H}=c;if(!r||!a||!o||!m||!H.length){l("Preencha todos os campos.");return}if(s&&(r<s.min||a>s.max)){l(`O intervalo deve estar entre ${p(s.min)} e ${p(s.max)}.`);return}if(a>u){l(`A gera√ß√£o √© limitada at√© ${p(u)}.`);return}if(o>=m){l("O hor√°rio de t√©rmino deve ser ap√≥s o hor√°rio de in√≠cio.");return}const Q=new Date(`${r}T12:00:00`),X=new Date(`${a}T12:00:00`);if(Q>X){l("A data de in√≠cio deve ser anterior √† de fim.");return}const T=[],S=new Date(Q);let J=0;for(;S<=X&&(J++,!(J>1e3));)H.includes(S.getDay())&&T.push({id:`sess_${S.getTime()}_${T.length}`,date:S.toISOString().split("T")[0],startTime:o,endTime:m,capacity:Y,filled:0}),S.setDate(S.getDate()+1);if(T.length>V){l("Limite de seguran√ßa excedido.");return}if(!T.length){l("Nenhuma data encontrada no intervalo.");return}g(K=>({...K,sessions:[...K.sessions||[],...T]})),z("success",`${T.length} sess√µes geradas.`)},B=r=>{g(a=>{var o;return{...a,sessions:(o=a.sessions)==null?void 0:o.filter((m,Y)=>Y!==r)}})};return e.jsxs("form",{onSubmit:O,className:"flex flex-col h-[70vh] sm:h-[60vh]",children:[e.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-600 mb-4 overflow-x-auto",children:[e.jsx("button",{type:"button",onClick:()=>N("details"),className:`flex-1 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${w==="details"?"border-primary text-primary dark:text-indigo-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:"1. Detalhes"}),e.jsxs("button",{type:"button",onClick:()=>N("sessions"),className:`flex-1 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${w==="sessions"?"border-primary text-primary dark:text-indigo-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:["2. Sess√µes (",((G=d.sessions)==null?void 0:G.length)||0,")"]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-1 pb-4",children:[w==="details"&&e.jsxs("div",{className:"space-y-4 animate-fade-in",children:[d.isTeamEvent&&e.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-800 dark:text-indigo-300 p-3 rounded-md text-sm mb-4 border border-indigo-200 dark:border-indigo-800 flex items-start gap-2",children:[e.jsx("span",{className:"text-lg",children:"üë•"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Modo Evento por Equipe:"}),e.jsx("br",{}),"Neste modo, os usu√°rios se inscrevem em grupos. O sistema gerenciar√° c√≥digos de acesso e membros."]})]}),v&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 p-3 rounded-md text-sm mb-4",children:["Vinculado ao evento pai: ",e.jsx("strong",{children:v})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome do Evento *"}),e.jsx("input",{type:"text",required:!0,placeholder:"Ex: Feira de Ci√™ncias",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-primary focus:border-primary",value:d.name,onChange:r=>g({...d,name:r.target.value})})]}),e.jsxs("div",{className:v?"opacity-50 pointer-events-none":"",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Visibilidade"}),e.jsxs("select",{value:d.visibility,onChange:r=>g({...d,visibility:r.target.value}),className:"w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-primary focus:border-primary",disabled:!!v,children:[e.jsx("option",{value:"public",children:"P√∫blico (Todos podem ver)"}),e.jsx("option",{value:"course",children:"Restrito a Cursos"}),e.jsx("option",{value:"class",children:"Restrito a Turmas"})]}),d.visibility==="course"&&e.jsxs("div",{className:"mt-2 p-3 border border-gray-200 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-800/50 max-h-40 overflow-y-auto",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mb-2 uppercase",children:"Selecione os cursos permitidos:"}),I.map(r=>{var a;return e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("input",{type:"checkbox",id:`c_${r.id}`,checked:(a=d.allowedCourses)==null?void 0:a.includes(r.id),onChange:()=>A(r.id),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),e.jsx("label",{htmlFor:`c_${r.id}`,className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:r.name})]},r.id)})]}),d.visibility==="class"&&e.jsxs("div",{className:"mt-2 p-3 border border-gray-200 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-800/50 max-h-40 overflow-y-auto",children:[e.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 mb-2 uppercase",children:"Selecione as turmas permitidas:"}),I.map(r=>e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{className:"text-xs text-gray-900 dark:text-gray-200 block mb-1",children:r.name}),e.jsx("div",{className:"pl-2",children:$.filter(a=>a.courseId===r.id).map(a=>{var o;return e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("input",{type:"checkbox",id:`cl_${a.id}`,checked:(o=d.allowedClasses)==null?void 0:o.includes(a.id),onChange:()=>y(a.id),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),e.jsx("label",{htmlFor:`cl_${a.id}`,className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:a.name})]},a.id)})})]},r.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Local"}),e.jsx("input",{type:"text",placeholder:"Ex: Audit√≥rio Principal",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-primary focus:border-primary",value:d.location,onChange:r=>g({...d,location:r.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Descri√ß√£o"}),e.jsx("textarea",{placeholder:"Detalhes do evento...",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md p-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-primary focus:border-primary",rows:3,value:d.description,onChange:r=>g({...d,description:r.target.value})})]})]}),w==="sessions"&&e.jsxs("div",{className:"space-y-4 animate-fade-in",children:[s&&e.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border-l-4 border-amber-400 p-3 text-sm text-amber-800 dark:text-amber-300",children:["üìÖ ",e.jsx("strong",{children:"Restri√ß√£o de Data:"})," Este sub-evento deve ocorrer entre ",p(s.min)," e ",p(s.max),"."]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-md overflow-hidden",children:[e.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-600",children:[e.jsx("button",{type:"button",onClick:()=>h("manual"),className:`flex-1 py-2 text-sm font-medium ${C==="manual"?"bg-white dark:bg-darkcard text-primary dark:text-indigo-400 border-t-2 border-primary":"text-gray-500 dark:text-gray-400"}`,children:"Adicionar Manual"}),e.jsx("button",{type:"button",onClick:()=>h("recurring"),className:`flex-1 py-2 text-sm font-medium ${C==="recurring"?"bg-white dark:bg-darkcard text-primary dark:text-indigo-400 border-t-2 border-primary":"text-gray-500 dark:text-gray-400"}`,children:"Gerar Recorr√™ncia"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800/50",children:[C==="manual"&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Data"}),e.jsx("input",{type:"date",className:"w-full border border-gray-300 dark:border-gray-600 p-1.5 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:n.date,min:s==null?void 0:s.min,max:s==null?void 0:s.max,onChange:r=>x({...n,date:r.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"In√≠cio"}),e.jsx("input",{type:"time",className:"w-full border border-gray-300 dark:border-gray-600 p-1.5 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:n.startTime,onChange:r=>x({...n,startTime:r.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Fim"}),e.jsx("input",{type:"time",className:"w-full border border-gray-300 dark:border-gray-600 p-1.5 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:n.endTime,onChange:r=>x({...n,endTime:r.target.value})})]}),e.jsxs("div",{className:"sm:col-span-2 flex items-end gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:d.isTeamEvent?"N¬∫ de Equipes":"Vagas"}),e.jsx("input",{type:"number",className:"w-full border border-gray-300 dark:border-gray-600 p-1.5 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:n.capacity,onChange:r=>x({...n,capacity:parseInt(r.target.value)})})]}),e.jsx("button",{type:"button",onClick:_,className:"bg-white dark:bg-gray-700 border border-primary dark:border-indigo-500 text-primary dark:text-indigo-300 hover:bg-indigo-50 dark:hover:bg-gray-600 px-4 py-1.5 rounded text-sm font-medium h-[34px]",children:"+ Adicionar"})]})]}),C==="recurring"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"De"}),e.jsx("input",{type:"date",className:"w-full border dark:border-gray-600 p-1.5 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:c.startDate,min:s==null?void 0:s.min,max:u,onChange:r=>b({...c,startDate:r.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"At√©"}),e.jsx("input",{type:"date",className:"w-full border dark:border-gray-600 p-1.5 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:c.endDate,min:s==null?void 0:s.min,max:u,onChange:r=>b({...c,endDate:r.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("input",{type:"time",className:"w-full border dark:border-gray-600 p-1.5 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:c.startTime,onChange:r=>b({...c,startTime:r.target.value})}),e.jsx("input",{type:"time",className:"w-full border dark:border-gray-600 p-1.5 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:c.endTime,onChange:r=>b({...c,endTime:r.target.value})}),e.jsx("input",{type:"number",placeholder:d.isTeamEvent?"Qtd Equipes":"Cap.",className:"w-full border dark:border-gray-600 p-1.5 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",value:c.capacity,onChange:r=>b({...c,capacity:parseInt(r.target.value)})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"].map((r,a)=>e.jsx("button",{type:"button",onClick:()=>E(a),className:`text-xs w-8 h-8 rounded-full border flex items-center justify-center transition ${c.daysOfWeek.includes(a)?"bg-primary text-white border-primary":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border-gray-300 dark:border-gray-600"}`,children:r.charAt(0)},r))}),e.jsx("button",{type:"button",onClick:F,className:"w-full bg-primary text-white py-2 rounded text-sm hover:bg-indigo-700",children:"Gerar Sess√µes"})]}),f&&e.jsx("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400 font-medium bg-red-50 dark:bg-red-900/20 p-2 rounded",children:f})]})]}),e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 mb-2 flex justify-between items-center",children:["Sess√µes Geradas",e.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-0.5 rounded-full text-xs",children:((M=d.sessions)==null?void 0:M.length)||0})]}),e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-md max-h-48 overflow-y-auto bg-white dark:bg-gray-800 divide-y divide-gray-100 dark:divide-gray-700",children:[((R=d.sessions)==null?void 0:R.length)===0&&e.jsx("p",{className:"text-sm text-gray-400 text-center py-6 italic",children:"Nenhuma sess√£o adicionada ainda."}),(t=d.sessions)==null?void 0:t.slice().sort((r,a)=>r.date.localeCompare(a.date)).map((r,a)=>e.jsxs("div",{className:"p-2.5 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-gray-700/50 text-sm",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-200",children:p(r.date)}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.startTime," - ",r.endTime," ‚Ä¢ ",r.capacity," ",d.isTeamEvent?"equipes":"vagas"]})]}),e.jsx("button",{type:"button",onClick:()=>B(a),className:"text-red-500 hover:text-red-700 dark:hover:text-red-400 p-1",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},a))]})]})]})]}),e.jsxs("div",{className:"pt-4 mt-auto border-t border-gray-200 dark:border-gray-600 flex justify-between gap-3",children:[e.jsx("button",{type:"button",onClick:W,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 text-sm font-medium",children:"Cancelar"}),e.jsx(Z,{type:"submit",isLoading:q,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md text-sm font-medium shadow-sm",children:"Salvar Evento"})]})]})},ie=()=>{const[k,I]=i.useState([]),[$,v]=i.useState(!0),[s,j]=i.useState(!1),[W,q]=i.useState([]),[z,w]=i.useState([]),[N,C]=i.useState(""),h=L(N,300),[f,l]=i.useState(1),[P,u]=i.useState([void 0]),[V,d]=i.useState(!1),g=10,[n,x]=i.useState(!1),[c,b]=i.useState(void 0),[O,A]=i.useState(null),{addToast:y}=U();i.useEffect(()=>{Promise.all([D.getCourses(),D.getClasses()]).then(([t,r])=>{q(t),w(r)})},[]);const E=i.useCallback(async t=>{v(!0);try{const r=P[t-1],{data:a,nextCursor:o}=await D.getEvents({limit:g,cursor:r,filters:{searchTerm:h}});I(a),d(!!o),o&&P.length<=t&&u(m=>[...m,o])}catch(r){console.error(r),y("error","Erro ao carregar eventos")}finally{v(!1)}},[P,h,y]);i.useEffect(()=>{u([void 0]),l(1),E(1)},[h]);const _=t=>{l(t),E(t)},F=()=>{b(void 0),x(!0)},B=t=>{b(t),x(!0)},G=t=>{A(t)},M=async()=>{if(O){j(!0);try{await D.deleteEvent(O),y("success","Evento exclu√≠do com sucesso"),A(null),u([void 0]),l(1),E(1)}catch{y("error","Erro ao excluir evento")}finally{j(!1)}}},R=async t=>{j(!0);try{if(c)await D.updateEvent({...c,...t}),y("success","Evento atualizado");else{const r={...t,id:`evt_${Date.now()}`,createdAt:new Date().toISOString(),sessions:t.sessions||[],filled:0};await D.createEvent(r),y("success","Evento criado")}x(!1),u([void 0]),l(1),E(1)}catch(r){console.error(r),y("error","Erro ao salvar evento")}finally{j(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gerenciar Eventos"}),e.jsx("button",{onClick:F,className:"bg-primary text-white px-4 py-2 rounded-lg font-medium hover:bg-indigo-700 transition-colors shadow-sm",children:"+ Novo Evento"})]}),e.jsx("div",{className:"bg-white dark:bg-darkcard p-4 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"w-full relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400 dark:text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Buscar evento por nome ou descri√ß√£o...",className:"w-full pl-10 py-2 border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-primary focus:border-primary transition-colors",value:N,onChange:t=>C(t.target.value)})]})}),$?e.jsx("div",{className:"bg-white dark:bg-darkcard shadow rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[1,2,3].map(t=>e.jsx(ee,{},t))})}):k.length===0?e.jsx(re,{title:"Nenhum evento encontrado",description:h?"Tente buscar com outro termo.":"Crie o primeiro evento da escola.",action:h?void 0:{label:"Criar Evento",onClick:F}}):e.jsx("div",{className:"bg-white dark:bg-darkcard shadow rounded-md overflow-hidden border border-gray-200 dark:border-gray-700",children:e.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:k.map(t=>e.jsx("li",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t.name}),e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold uppercase tracking-wide border ${t.visibility==="public"?"bg-indigo-50 text-indigo-700 border-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800":t.visibility==="course"?"bg-emerald-50 text-emerald-700 border-emerald-100 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-purple-50 text-purple-700 border-purple-100 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800"}`,children:t.visibility==="public"?"P√∫blico":t.visibility==="course"?"Curso":"Turma"}),t.isTeamEvent&&e.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full font-bold uppercase tracking-wide bg-amber-50 text-amber-700 border border-amber-100 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800",children:"Equipe"})]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2 line-clamp-1",children:t.description}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex flex-wrap gap-4",children:[e.jsxs("span",{children:["üìç ",t.location]}),e.jsxs("span",{children:["üìÖ ",t.sessions.length," Sess√µes"]}),e.jsxs("span",{children:["üë• ",t.sessions.reduce((r,a)=>r+a.filled,0)," Inscritos"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{to:`/admin/events/${t.id}/enrollments`,className:"px-3 py-1.5 text-sm font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/40 rounded-md transition-colors",children:"Inscritos"}),e.jsx("button",{onClick:()=>B(t),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600 rounded-md transition-colors",children:"Editar"}),e.jsx("button",{onClick:()=>G(t.id),className:"px-3 py-1.5 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 rounded-md transition-colors",children:"Excluir"})]})]})},t.id))})}),e.jsxs("div",{className:"flex justify-between items-center mt-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[e.jsx("button",{onClick:()=>_(f-1),disabled:f===1||$,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 transition-colors",children:"Anterior"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["P√°gina ",f]}),e.jsx("button",{onClick:()=>_(f+1),disabled:!V||$,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 disabled:opacity-50 transition-colors",children:"Pr√≥ximo"})]}),e.jsx(te,{isOpen:n,onClose:()=>x(!1),title:c?"Editar Evento":"Novo Evento",children:e.jsx(de,{initialData:c||{},courses:W,classes:z,onSubmit:R,onCancel:()=>x(!1),isLoading:s})}),e.jsx(se,{isOpen:!!O,onClose:()=>A(null),onConfirm:M,title:"Excluir Evento",message:"Tem certeza que deseja excluir este evento? Todas as inscri√ß√µes, equipes e dados relacionados ser√£o perdidos permanentemente.",confirmText:"Excluir Evento",isProcessing:s})]})};export{ie as AdminEvents};
